(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{252:function(e,t,s){},253:function(e,t,s){},254:function(e,t,s){},255:function(e,t,s){},264:function(e,t,s){},277:function(e,t,s){},278:function(e,t,s){},279:function(e,t,s){},280:function(e,t,s){},281:function(e,t,s){},282:function(e,t,s){},284:function(e,t,s){},302:function(e,t,s){},303:function(e,t,s){},325:function(e,t,s){},326:function(e,t,s){},328:function(e,t,s){},329:function(e,t,s){},330:function(e,t,s){},331:function(e,t,s){},332:function(e,t,s){},333:function(e,t,s){},334:function(e,t,s){},335:function(e,t,s){},356:function(e,t,s){},357:function(e,t,s){},358:function(e,t,s){},359:function(e,t,s){},360:function(e,t,s){},361:function(e,t,s){},362:function(e,t,s){},363:function(e,t,s){},364:function(e,t,s){},365:function(e,t,s){},366:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),c=s(24),r=s.n(c),i=(s(252),s(253),s(9)),o=s(443),l=s(442),u=s(413),j=s(238),d=(s(254),s(175),s(411)),b=s(412),p=s(26),m=s(23),x=s(208),O=s.n(x),h=(s(255),s(206)),v=s(101),g=s(2);function f(){return Object(g.jsxs)("div",{className:"notiWrapper",children:[Object(g.jsxs)("div",{className:"notiContainer",children:[Object(g.jsx)("span",{className:"notiContainerUsername",children:"username"})," has invited you to join ",Object(g.jsx)("span",{className:"notiContainerGroupName",children:"LegoBricks enthusiasts"}),"!"]}),Object(g.jsxs)(h.a,{className:"notibuttonGroupWrapper",children:[Object(g.jsx)(v.a,{children:Object(g.jsx)("div",{className:"acceptButtonWrapper",children:Object(g.jsx)("div",{className:"acceptButton",children:Object(g.jsx)("span",{className:"acceptButtonText",children:"Accept"})})})}),Object(g.jsx)(v.a,{children:Object(g.jsx)("div",{className:"denyButtonWrapper",children:Object(g.jsx)("div",{className:"denyButton",children:Object(g.jsx)("span",{className:"denyButtonText",children:"Deny"})})})})]})]})}function N(e){var t=e.currentUser,s="http://localhost:8080/images/",n=Object(p.g)(),c=Object(a.useState)(""),r=Object(i.a)(c,2),x=r[0],h=r[1],v=Object(g.jsx)(O.a,{className:"userNotificationIcon",htmlColor:"orange"});return Object(g.jsxs)(o.a,{className:"topbarWrapper fixed-top",expand:"lg",children:[Object(g.jsxs)(o.a.Brand,{onClick:function(){n.push("/home")},children:[Object(g.jsx)("img",{className:"ReHashLogo",src:s+"ReHashLogo.png",alt:""}),Object(g.jsx)("span",{className:"logoText",children:"ReHash"})]}),Object(g.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsx)(o.a.Collapse,{id:"basic-navbar-nav",className:"collapseBar",children:Object(g.jsxs)(l.a,{className:"mr-auto",children:[Object(g.jsx)(l.a.Link,{className:"swap",onClick:function(){n.push("/create")},children:"Swap on ReHash"}),Object(g.jsxs)("div",{className:"searchbar",children:[Object(g.jsx)(d.a,{className:"searchIcon"}),Object(g.jsx)("input",{placeholder:"Seach for a swap...",className:"searchInput",value:x,onChange:function(e){return h(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),(x.match(/^\s*\n*\t*$/)||[]).length>0?console.log("search string is empty!"):n.push("/product/search/"+x))}})]}),Object(g.jsx)(m.b,{to:"/chat/0",children:Object(g.jsx)(b.a,{className:"chat",htmlColor:"orange"})}),Object(g.jsx)(u.a,{className:"userNotification",variant:"light",title:v,children:Object(g.jsxs)("div",{className:"userNotificationList",children:[Object(g.jsx)(j.a.Item,{children:Object(g.jsx)(f,{})}),Object(g.jsx)(j.a.Item,{children:Object(g.jsx)(f,{})}),Object(g.jsx)(j.a.Item,{children:Object(g.jsx)(f,{})})]})}),Object(g.jsx)(m.b,{to:t?"/profile/"+t.username+"/listings":"/",children:Object(g.jsx)("img",{className:"userProfilePic",src:t&&t.profilePicture?s+t.profilePicture:s+"person/noAvatar.png",alt:"userProfile"})})]})})]})}var w=s(213),k=s(414),y=s(415),C=s(416),I=s(417),S=s(418),P=s(419),T=s(420),R=s(421),L=(s(264),s(98)),B=s.n(L);s(119);function U(){var e=Object(p.g)(),t=function(t){e.push("/product/categories/"+t)};return Object(g.jsxs)(B.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:8},desktop:{breakpoint:{max:3e3,min:1024},items:6},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:[Object(g.jsx)("div",{className:"item",onClick:function(){return t("clothing")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(k.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Clothing"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("beauty")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(y.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Beauty"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("sports equipments")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(C.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Sports Equipments"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("home appliances")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(I.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Home Appliances"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("automotive")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(S.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Automotive"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("hobbies")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(P.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Hobbies"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("computers and tech")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(T.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Computers & Tech"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("other tangibles")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(R.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Others"})})]})})})})]})}s(277),s(278);var E=s(422),F=s(423),A=s(424),_=s(425),D=s(426),M=s(427),G=s(428);function W(){var e=Object(p.g)(),t=function(t){e.push("/product/categories/"+t)};return Object(g.jsxs)(B.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:8},desktop:{breakpoint:{max:3e3,min:1024},items:6},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:[Object(g.jsx)("div",{className:"item",onClick:function(){return t("outdoor activities")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(E.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Outdoor Activities"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("travel")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(F.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Travel"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("discussion")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(A.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Discussion"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("food")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(_.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Food"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("indoor activities")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(D.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Indoor Activities"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("sports")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(M.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Sports"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("games and esports")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(G.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Games & Esports"})})]})})})}),Object(g.jsx)("div",{className:"item",onClick:function(){return t("other intangibles")},children:Object(g.jsx)("div",{className:"button",children:Object(g.jsx)(w.a,{className:"itemButton",children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsx)(R.a,{className:"itemIcon"})}),Object(g.jsx)(h.a,{children:Object(g.jsx)("span",{className:"itemText text-center",children:"Others"})})]})})})})]})}var H=s(445),V=(s(279),s(446));s(280);var z=s(169);function q(){return Object(g.jsx)("div",{children:Object(g.jsxs)(z.a,{className:"adsWrapper",children:[Object(g.jsx)(z.a.Item,{interval:3e3,children:Object(g.jsx)("img",{className:"adsPics d-block w-50",src:"assests/adsPics/ads1.jpeg",alt:"First slide"})}),Object(g.jsx)(z.a.Item,{interval:3e3,children:Object(g.jsx)("img",{className:"adsPics d-block w-50",src:"/assests/adsPics/ads2.jpeg",alt:"Second slide"})}),Object(g.jsx)(z.a.Item,{interval:3e3,children:Object(g.jsx)("img",{className:"adsPics d-block w-50",src:"/assests/adsPics/ads3.jpeg",alt:"Third slide"})})]})})}var J=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1,sockio:null};case"LOGIN_SUCCESS":return{user:t.payload.user,isFetching:!1,error:!1,sockio:t.payload.sock};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:t.payload,sockio:null};case"LOGOUT_START":return{user:t.payload.user,isFetching:!0,error:!1,sockio:t.payload.sock};case"LOGOUT_SUCCESS":return{user:null,isFetching:!1,error:!1,sockio:null};case"LOGOUT_FAILURE":return{user:null,isFetching:!1,error:t.payload,sockio:null};case"UPDATE":return{user:t.payload.user,isFetching:!1,error:!1,sockio:t.payload.sock};default:return e}},K={user:null,isFetching:!1,error:!1,sockio:null},Y=Object(a.createContext)(K),$=function(e){var t=e.children,s=Object(a.useReducer)(J,K),n=Object(i.a)(s,2),c=n[0],r=n[1];return Object(g.jsx)(Y.Provider,{value:{user:c.user,isFetching:c.isFetching,error:c.error,sockio:c.sockio,dispatch:r},children:t})};s(281),s(282);function Q(e){var t=e.groupImg,s=e.groupName,a=e.groupId,n="http://localhost:8080/images/",c=Object(p.g)();return Object(g.jsxs)("div",{className:"groupIconButtonBackground",onClick:function(){a&&c.push("/groups/"+a+"/main")},children:[Object(g.jsx)("img",{className:"groupIconButtonImg",src:t?n+t:n+"group.noImageUploaded.png",alt:""}),Object(g.jsx)("div",{className:"groupIconButtonName",children:s||"No Group Name"})]})}function X(){return Object(g.jsxs)(B.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:8},desktop:{breakpoint:{max:3e3,min:1024},items:6},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:[Object(g.jsx)(Q,{}),Object(g.jsx)(Q,{}),Object(g.jsx)(Q,{}),Object(g.jsx)(Q,{}),Object(g.jsx)(Q,{}),Object(g.jsx)(Q,{}),Object(g.jsx)(Q,{})]})}function Z(){var e=Object(a.useContext)(Y),t=e.user,s=e.sockio;return Object(a.useEffect)((function(){console.log("socket is: ",null===s||void 0===s?void 0:s.id),console.log("user is: ",t)}),[s,t]),Object(g.jsxs)("div",{children:[Object(g.jsx)(N,{currentUser:t}),Object(g.jsx)(q,{}),Object(g.jsxs)("div",{className:"homeWrapper",children:[Object(g.jsxs)("div",{className:"tangible",children:[Object(g.jsx)("div",{className:"itemsType",children:Object(g.jsx)("span",{children:"Explore Tangible"})}),Object(g.jsx)(U,{})]}),Object(g.jsxs)("div",{className:"intangible",children:[Object(g.jsx)("div",{className:"itemsType",children:Object(g.jsxs)("span",{children:["Explore Intangible ",null===s||void 0===s?void 0:s.id]})}),Object(g.jsx)(W,{})]}),Object(g.jsxs)("div",{className:"recommendedGroups",children:[Object(g.jsx)("div",{className:"itemsType",children:Object(g.jsx)("span",{children:"Recommended Groups"})}),Object(g.jsx)(X,{})]})]})]})}var ee=s(6),te=s.n(ee),se=s(14),ae=(s(284),s(214)),ne=s.n(ae),ce=s(13),re=s.n(ce);function ie(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(""),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)(""),j=Object(i.a)(u,2),d=j[0],b=j[1],x=Object(a.useState)(""),O=Object(i.a)(x,2),h=O[0],v=O[1],f=function(){var e=Object(se.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(t.target.value),e.prev=1,e.next=4,re.a.get("/api/users?email="+t.target.value);case 4:t.target.setCustomValidity("Email already taken"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),400===e.t0.response.status&&t.target.setCustomValidity("");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(se.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(t.target.value),e.prev=1,e.next=4,re.a.get("/api/users?username="+t.target.value);case 4:t.target.setCustomValidity("Username already taken"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),400===e.t0.response.status&&t.target.setCustomValidity("");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),w=Object(p.g)(),k=function(){var e=Object(se.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(s),console.log(o),console.log(d),console.log(h),a={username:o,email:s,password:d},e.prev=6,e.next=9,re.a.post("/api/auth/register",a);case 9:w.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"register",children:Object(g.jsxs)("div",{className:"registerWrapper",children:[Object(g.jsx)("div",{className:"registerLeft",children:Object(g.jsxs)("div",{className:"registerLeftWrapper  ",children:[Object(g.jsxs)("div",{className:"registerLeftTop ",children:[Object(g.jsx)("img",{className:"registerLeftLogo",src:"/assests/ReHashLogo.png",alt:"ReHash logo"}),Object(g.jsx)("span",{id:"registerText",className:"registerLeftLogoText ",children:"ReHash"})]}),Object(g.jsx)("span",{className:"registerLeftBottom",children:"Excited to embark on you ReHash journey? Sign up now!"})]})}),Object(g.jsxs)("div",{className:"registerRight",children:[Object(g.jsx)("div",{className:"registerRightTop",children:Object(g.jsxs)(m.b,{to:"/",className:"registerBack",children:[Object(g.jsx)(ne.a,{}),Object(g.jsx)("span",{children:"Back"})]})}),Object(g.jsxs)("div",{className:"registerRightBottom",children:[Object(g.jsxs)("div",{className:"registerRightHeader",children:[Object(g.jsx)("h2",{children:"Register Individual Account!"}),Object(g.jsx)("span",{className:"registerRightHeaderText",children:"For the purpose of industry regulations, your details are requested"})]}),Object(g.jsxs)("form",{action:"",className:"registerBox",onSubmit:k,children:[Object(g.jsx)("span",{className:"registerInputLabel",children:"Your full name *"}),Object(g.jsx)("input",{placeholder:"Enter username",required:!0,value:o,onChange:N,className:"registerInput"}),Object(g.jsx)("span",{className:"registerInputLabel",children:"Email address *"}),Object(g.jsx)("input",{placeholder:"Enter email address",required:!0,value:s,onChange:f,type:"email",className:"registerInput"}),Object(g.jsx)("span",{className:"registerInputLabel",children:"Create password *"}),Object(g.jsx)("input",{placeholder:"Enter password with at least 6 characters",required:!0,value:d,onChange:function(e){b(e.target.value),e.target.value.length<6?e.target.setCustomValidity("Password must have at least 6 characters"):e.target.setCustomValidity("")},type:"password",className:"registerInput"}),Object(g.jsx)("span",{className:"registerInputLabel",children:"Confirm password *"}),Object(g.jsx)("input",{placeholder:"Confirm password",required:!0,value:h,onChange:function(e){console.log(e.target.value),v(e.target.value),e.target.value!==d?(console.log(d),console.log(e.target.value),e.target.setCustomValidity("Passwords don't match!")):e.target.setCustomValidity("")},type:"password",className:"registerInput"}),Object(g.jsx)("button",{className:"registerButton",type:"submit",children:"Register Account"})]})]})]})]})})}s(302);var oe=s(433),le=(s(303),s(447)),ue=s(35),je=s(429),de=s(430),be=s(431),pe=s(432),me=s(224),xe=s.n(me);function Oe(e){var t=e.sidebarUser,s="http://localhost:8080/images/",n=Object(a.useContext)(Y),c=n.user,r=n.sockio,i=n.dispatch,o=Object(p.g)(),l=function(){var e=Object(se.a)(te.a.mark((function e(t){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=function(){var e=Object(se.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOGOUT_START",payload:{user:c,sock:r}}),e.prev=1,e.next=4,r.disconnect();case 4:t({type:"LOGOUT_SUCCESS"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t({type:"LOGIN_FAILURE",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),e.next=4,s(i);case 4:o.push("/"),console.log("logged out");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"sidebar",children:Object(g.jsxs)(ue.a,{textColor:"black",backgroundColor:"#FFD68D",children:[Object(g.jsx)(ue.d,{prefix:Object(g.jsx)("i",{className:"fa fa-bars fa-large"}),children:Object(g.jsx)("img",{className:"userProfile",src:(null===t||void 0===t?void 0:t.profilePicture)?s+t.profilePicture:s+"person/noAvatar.png",alt:""})}),Object(g.jsxs)(ue.d,{style:{textAlign:"center"},children:[Object(g.jsx)("div",{children:null===t||void 0===t?void 0:t.username}),Object(g.jsxs)("div",{className:"ratings",children:[Object(g.jsx)("div",{children:"Ratings: "}),Object(g.jsx)(le.a,{value:t?t.cumulativeRating/t.ratedByUsers:3,precision:.1,readOnly:!0})]})]}),Object(g.jsx)(ue.b,{children:Object(g.jsxs)(ue.e,{children:[Object(g.jsxs)(ue.f,{onClick:function(){o.push("/profile/"+(null===t||void 0===t?void 0:t.username)+"/listings"),console.log("done")},className:"sidebarMenuItem",children:[Object(g.jsx)(je.a,{className:"sidebarIcons"}),Object(g.jsx)("span",{className:"sidebarMenuText",children:"Listings"})]}),Object(g.jsxs)(ue.f,{className:"sidebarMenuItem",onClick:function(){o.push("/profile/"+(null===t||void 0===t?void 0:t.username)+"/reviews")},children:[Object(g.jsx)(de.a,{className:"sidebarIcons"}),Object(g.jsx)("span",{className:"sidebarMenuText",children:"Reviews"})]}),t&&t._id===(null===c||void 0===c?void 0:c._id)?Object(g.jsxs)(ue.f,{className:"sidebarMenuItem",onClick:function(){o.push("/profile/"+(null===t||void 0===t?void 0:t.username)+"/mygroups")},children:[Object(g.jsx)(xe.a,{className:"sidebarIcons"}),Object(g.jsx)("span",{className:"sidebarMenuText",children:"My Groups"})]}):Object(g.jsx)(g.Fragment,{}),t&&t._id===(null===c||void 0===c?void 0:c._id)?Object(g.jsxs)(ue.f,{className:"sidebarMenuItem",onClick:function(){o.push("/profile/"+(null===t||void 0===t?void 0:t.username)+"/settings")},children:[Object(g.jsx)(be.a,{className:"sidebarIcons"}),Object(g.jsx)("span",{className:"sidebarMenuText",children:"Settings"})]}):Object(g.jsx)(g.Fragment,{})]})}),t&&t._id===(null===c||void 0===c?void 0:c._id)?Object(g.jsx)(ue.c,{style:{textAlign:"center"},children:Object(g.jsxs)("div",{className:"sidebar-btn-wrapper",style:{padding:"20px 5px"},children:[Object(g.jsx)(pe.a,{className:"sidebarIcons",onClick:l}),Object(g.jsx)("span",{className:"sidebarMenuText",onClick:l,children:"Log out"})]})}):Object(g.jsx)(g.Fragment,{})]})})}s(325);function he(e){var t=e.item,s=e.inPost,n="http://localhost:8080/images/",c=Object(p.g)();return Object(a.useEffect)((function(){console.log(t)}),[t]),Object(g.jsx)("div",{className:"itemListingWrapper",onClick:function(){c.push("/items/"+t._id)},children:Object(g.jsx)(H.a,{children:s?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(H.a.Img,{src:n+(null===t||void 0===t?void 0:t.img[0])}),Object(g.jsx)(H.a.Body,{className:"PostItemBody",children:null===t||void 0===t?void 0:t.title})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(H.a.Img,{variant:"top",src:n+t.img[0],className:"trendingSwapItemImg"}),Object(g.jsxs)(H.a.Body,{className:"trendingSwapItemBody",children:[Object(g.jsxs)(H.a.Title,{className:"itemListingCardTitle",children:[Object(g.jsx)("span",{style:{marginRight:"10px"},children:t.title}),Object(g.jsx)(V.a,{className:"tag",label:"waiting"===t.status?"available":t.status,size:"small",color:"waiting"===t.status?"":"reserved"===t.status?"primary":"secondary",style:{marginBottom:"5px",marginTop:"5px"}})]}),Object(g.jsx)("span",{className:"trendingSwapText",children:"Ideal Swap: "}),t.idealSwaps.map((function(e){return Object(g.jsx)(V.a,{className:"tag",label:e,size:"small",color:"secondary",style:{marginRight:"5px"}},e)})),Object(g.jsx)(H.a.Text,{children:t.desc})]})]})})})}var ve=s(434),ge=s(440),fe=s(435);s(326);function Ne(e){var t=e.fill,s=void 0===t?"none":t;return Object(g.jsx)("svg",{class:"w-6 h-6 star",fill:s,stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"0",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}function we(e){var t=e.index,s=e.rating,n=e.hoverRating,c=e.onMouseEnter,r=e.onMouseLeave,i=e.onSaveRating,o=e.selected,l=e.notSelected,u=Object(a.useMemo)((function(){return n>=t||!n&&s>=t?"rgb(240, 158, 6)":"rgb(145, 144, 144)"}),[s,n,t]);return Object(g.jsx)("div",{style:{height:"20px",width:"20px"},className:"cursor-pointer",onMouseEnter:function(){return c(t)},onMouseLeave:function(){return r()},onClick:function(){return i(t)},children:o?Object(g.jsx)(Ne,{fill:"rgb(240, 158, 6)"}):l?Object(g.jsx)(Ne,{fill:"rgb(145, 144, 144)"}):Object(g.jsx)(Ne,{fill:u})})}s(327);function ke(e){var t=e.review,s=e.doneReview,n=e.handleSubmit,c=e.handleDelete,r=Object(a.useState)(0),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(a.useState)(0),d=Object(i.a)(j,2),b=d[0],p=d[1],m=Object(a.useContext)(Y).user,x="http://localhost:8080/images/",O=Object(a.useState)(null),h=Object(i.a)(O,2),v=h[0],f=h[1],N=Object(a.useState)(""),w=Object(i.a)(N,2),k=w[0],y=w[1];Object(a.useEffect)((function(){t&&function(){var e=Object(se.a)(te.a.mark((function e(){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/users?userId="+t.reviewerId);case 2:s=e.sent,f(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var C=function(e){s||(p(e),console.log("hover rating is: "+e))},I=function(){s||p(0)},S=function(e){s||(u(e),console.log("your rating is: "+e))};return Object(g.jsxs)("div",{className:"userReview",children:[Object(g.jsxs)("div",{className:"userReviewTop",children:[Object(g.jsx)("img",{src:s?v&&v.profilePicture?x+v.profilePicture:x+"person/noAvatar.png":m&&m.profilePicture?x+m.profilePicture:x+"person/noAvatar.png",alt:"",className:"userReviewImg"}),Object(g.jsxs)("div",{className:"userReviewTopMiddle",children:[Object(g.jsx)("div",{className:"userReviewTopMiddleName",children:s?null===v||void 0===v?void 0:v.username:m?m.username:"Anonymous"}),Object(g.jsxs)("div",{className:"userReviewTopMiddleRatings",children:[Object(g.jsx)("div",{className:"userReviewTopMiddleRatingsText",children:"Ratings: "}),Object(g.jsx)("div",{className:"userReviewRatingStars",children:[1,2,3,4,5].map(t?function(e){return Object(g.jsx)(we,{index:e,rating:l,hoverRating:b,onMouseEnter:C,onMouseLeave:I,onSaveRating:S,selected:t.rating>=e,notSelected:t.rating<e})}:function(e){return Object(g.jsx)(we,{index:e,rating:l,hoverRating:b,onMouseEnter:C,onMouseLeave:I,onSaveRating:S})})})]})]}),Object(g.jsx)("div",{className:"userReviewTopRight",children:s?t.reviewerId===(null===m||void 0===m?void 0:m._id)?Object(g.jsx)("button",{className:"userReviewSubmitButton",onClick:function(){return c(t)},children:"Delete"}):Object(g.jsx)(g.Fragment,{}):Object(g.jsx)("button",{className:"userReviewSubmitButton",onClick:function(){return n(k,l)},children:"Submit"})})]}),Object(g.jsx)("div",{className:"userReviewBottom",children:s?Object(g.jsx)("div",{className:"userReviewedText",children:t.reviewText}):Object(g.jsx)("textarea",{placeholder:"(Optional) Leave a review ...",className:"userReviewInput",value:k,onChange:function(e){return y(e.target.value)}})})]})}function ye(){var e=Object(a.useContext)(Y),t=e.user,s=e.sockio,n=Object(p.h)().username,c=Object(a.useState)([]),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)("tangibles"),j=Object(i.a)(u,2),d=j[0],b=j[1],m=Object(a.useState)(null),x=Object(i.a)(m,2),O=x[0],v=x[1],f=Object(a.useState)(0),w=Object(i.a)(f,2),k=w[0],y=w[1];Object(a.useEffect)((function(){console.log("socket is: ",null===s||void 0===s?void 0:s.id),console.log("username is: ",n)}),[s,n]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,re.a.get("/api/users?username="+n);case 3:t=e.sent,v(t.data),console.log("profileUser is: "+t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=5;break}return e.next=3,re.a.get("/api/items/categories?categoryName="+d+"&userId="+O._id);case 3:t=e.sent,l(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d,O]);return Object(g.jsxs)("div",{children:[Object(g.jsx)(N,{currentUser:t}),Object(g.jsxs)("div",{className:"userlistingContainer",children:[Object(g.jsx)(Oe,{className:"sidebar",sidebarUser:O}),Object(g.jsx)("div",{className:"userListingsRight",children:Object(g.jsxs)(oe.a,{className:"userlistingWrapper",children:[Object(g.jsx)("div",{className:"tabBar",children:Object(g.jsx)(ve.a,{margin:200,style:{marginBottom:"10px"},children:Object(g.jsxs)(ge.a,{value:k,indicatorColor:"primary",textColor:"primary",centered:!0,children:[Object(g.jsx)(fe.a,{label:"Tangible",onClick:function(){b("tangibles"),y(0)}}),Object(g.jsx)(fe.a,{label:"Intangible",onClick:function(){b("intangibles"),y(1)}})]})})}),Object(g.jsx)(h.a,{className:"listingRow",xs:1,md:3,children:o.length?o.map((function(e){return Object(g.jsx)(he,{item:e},e._id)})):Object(g.jsx)("div",{children:"User does not have any item in this category"})})]})})]})]})}var Ce=s(72);s(328);function Ie(){var e=Object(a.useContext)(Y),t=e.user,s=(e.sockio,Object(a.useState)(null)),n=Object(i.a)(s,2),c=n[0],r=n[1],o=Object(p.h)().username,l=Object(a.useState)([]),u=Object(i.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(!1),m=Object(i.a)(b,2),x=m[0],O=m[1],h=Object(a.useState)([]),v=Object(i.a)(h,2),f=v[0],w=v[1],k=Object(a.useState)(0),y=Object(i.a)(k,2),C=y[0],I=y[1],S=Object(a.useState)(0),P=Object(i.a)(S,2),T=P[0],R=P[1];Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=6;break}return e.next=3,re.a.get("/api/users?username="+o);case 3:t=e.sent,r(t.data),console.log("profileUser is: "+t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(a.useEffect)((function(){console.log("user is changed"),console.log(t)}),[t]),Object(a.useEffect)((function(){console.log(t),c&&(function(){var e=Object(se.a)(te.a.mark((function e(){var s,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/reviews/profileUser/"+c._id);case 2:s=e.sent,a=s.data.filter((function(e){return e.reviewerId!==(null===t||void 0===t?void 0:t._id)})),d(a),console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),I(c.cumulativeRating),R(c.ratedByUsers))}),[c,t]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&c&&c._id!==t._id){e.next=4;break}O(!0),e.next=8;break;case 4:return e.next=6,re.a.get("/api/reviews/between/"+c._id+"/"+t._id);case 6:(s=e.sent).data.length>0?(O(!0),w(s.data),console.log(s.data)):O(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c,t]);var L=function(){var e=Object(se.a)(te.a.mark((function e(s,a){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x||!(a>0)){e.next=13;break}return console.log("reviewText is: "+s+"\n rating is: "+a),n={reviewerId:t._id,revieweeId:c._id,rating:a,reviewText:s},e.next=5,re.a.post("/api/reviews",n);case 5:return r=e.sent,w([].concat(Object(Ce.a)(f),[r.data])),O(!0),e.next=10,re.a.put("/api/users/"+c._id,{cumulativeRating:C+a,ratedByUsers:T+1});case 10:e.sent,I(C+a),R(T+1);case 13:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),B=function(){var e=Object(se.a)(te.a.mark((function e(t){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=14;break}return console.log(t),e.next=4,re.a.delete("/api/reviews/id/"+t._id);case 4:return s=e.sent,console.log(s.status),console.log(typeof s.status),w([]),O(!1),e.next=11,re.a.put("/api/users/"+c._id,{cumulativeRating:C-t.rating,ratedByUsers:T-1});case 11:e.sent,I(C-t.rating),R(T-1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)(N,{currentUser:t}),Object(g.jsxs)("div",{className:"userReviewsContainer",children:[Object(g.jsx)(Oe,{sidebarUser:c}),Object(g.jsx)("div",{className:"userReviewsRight",children:Object(g.jsxs)(oe.a,{className:"userReviewsWrapper",children:[Object(g.jsx)("span",{className:"userReviewsHeader",children:"Reviews"}),x?Object(g.jsx)(g.Fragment,{}):Object(g.jsx)(ke,{className:"userReview",doneReview:!1,handleSubmit:L,handleDelete:B}),f.map((function(e){return Object(g.jsx)(ke,{className:"userReview",review:e,doneReview:!0,handleSubmit:L,handleDelete:B},e._id)})),j.map((function(e){return Object(g.jsx)(ke,{className:"userReview",review:e,doneReview:!0,handleSubmit:L,handleDelete:B},e._id)}))]})})]})]})}s(329);function Se(){var e=Object(p.h)().categoryName,t=Object(p.h)().pageType,s=Object(a.useState)([]),n=Object(i.a)(s,2),c=n[0],r=n[1],o=Object(a.useContext)(Y),l=o.user;o.sockio;return Object(a.useEffect)((function(){console.log("categoryName is: "+e),console.log("pageType is "+t),function(){var s=Object(se.a)(te.a.mark((function s(){var a,n;return te.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,"categories"!==t||!e){s.next=9;break}return s.next=4,re.a.get("/api/items/categories?categoryName="+e);case 4:return a=s.sent,s.next=7,r(a.data);case 7:s.next=15;break;case 9:if("search"!==t||!e){s.next=15;break}return s.next=12,re.a.get("/api/items?search="+e);case 12:return n=s.sent,s.next=15,r(n.data);case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(0),console.log(s.t0);case 20:case"end":return s.stop()}}),s,null,[[0,17]])})));return function(){return s.apply(this,arguments)}}()()}),[e,t]),Object(g.jsxs)("div",{children:[Object(g.jsx)(N,{currentUser:l}),Object(g.jsxs)("div",{className:"productWrapper",children:[Object(g.jsx)("span",{className:"productHeader",children:"search"===t?"Search results for: "+e:"categories"===t&&e?e.charAt(0).toUpperCase()+e.slice(1):"Product Descrption Header"}),Object(g.jsx)(h.a,{className:"listingRow",lg:3,md:2,s:1,children:c.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)(he,{item:e},e._id)})}))})]})]})}var Pe=s(79),Te=s(19),Re=s(239),Le=(s(330),s(439)),Be=s(226),Ue=s.n(Be),Ee=s(441),Fe=s(436),Ae=s(438),_e=Object(Fe.a)((function(e){return{root:{width:500,"& > * + *":{marginTop:e.spacing(3)}}}})),De={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},Me={borderColor:"#2196f3"},Ge={borderColor:"#00e676"},We={borderColor:"#ff1744"};function He(){var e=Object(a.useContext)(Y),t=e.user,s=(e.sockio,_e()),n=[{title:"Clothing"},{title:"Beauty"},{title:"Sports Equipments"},{title:"Home Appliances"},{title:"Automotive"},{title:"Clothing"},{title:"Hobbies"},{title:"Computers and Tech"},{title:"Outdoor Activities"},{title:"Travel"},{title:"Discussion"},{title:"Food"},{title:"Indoor Activities"},{title:"Sports"},{title:"Games and Esports"},{title:"Others"}],c=Object(a.useState)([]),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)({}),j=Object(i.a)(u,2),d=j[0],b=j[1],p=Object(a.useState)({}),m=Object(i.a)(p,2),x=m[0],O=m[1],f=Object(a.useState)([]),k=Object(i.a)(f,2),y=k[0],C=k[1],I=Object(a.useState)([]),S=Object(i.a)(I,2),P=S[0],T=S[1],R=Object(a.useCallback)((function(e){x.images&&O(Object(Te.a)(Object(Te.a)({},x),{},{images:null}));var t=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e),customFileName:Date.now().toString().concat(e.name)})})),s=[].concat(Object(Ce.a)(o),Object(Ce.a)(t));console.log(s),console.log(s.length),s.length>6&&(s=s.slice(s.length-6,s.length),console.log(s)),l(s)}),[x,o]),L=Object(Re.a)({accept:"image/*",onDrop:R,maxFiles:6}),B=L.getRootProps,U=L.getInputProps,E=L.isDragActive,F=L.isDragAccept,A=L.isDragReject,_=Object(a.useMemo)((function(){return Object(Te.a)(Object(Te.a)(Object(Te.a)(Object(Te.a)({},De),E?Me:{}),F?Ge:{}),A?We:{})}),[E,A,F]),D=o.map((function(e){return Object(g.jsx)("div",{className:"thumb",children:Object(g.jsx)("img",{src:e.preview,className:"userSwapImg",alt:""})},e.customFileName)}));Object(a.useEffect)((function(){return function(){o.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[o]);var M=function(e,t){b(Object(Te.a)(Object(Te.a)({},d),{},Object(Pe.a)({},e,t))),x[e]&&O(Object(Te.a)(Object(Te.a)({},x),{},Object(Pe.a)({},e,null)))},G=function(){var e=d.title,t=d.description,s=d.tangible,a={};return e&&""!==e?e.length>50&&(a.title="title cannot be more than 50 characters"):a.title="title cannot be blank!",t&&""!==t?t.length>500&&(a.description="description cannot be more than 500 characters"):a.description="description cannot be blank!",s&&""!==s||(a.tangible="specify whether your item is tangible or intangible!"),P&&0!==P.length||(a.swapCategories="select at least 1 category!"),y&&0!==y.length||(a.idealCategories="select at least 1 category!"),0===o.length&&(a.images="you have to upload at least 1 image!"),a},W=function(){var e=Object(se.a)(te.a.mark((function e(s){var a,n,c,r,i,u,j,p;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),a=G(),!(Object.keys(a).length>0)){e.next=7;break}O(a),console.log(a),e.next=27;break;case 7:for(n=P.map((function(e){return e.title.toLowerCase()})),n=[].concat(Object(Ce.a)(n),[d.tangible]),c=y.map((function(e){return e.title.toLowerCase()})),r=new FormData,i=0;i<o.length;i+=1)r.append("file",o[i]),r.append("name",o[i].customFileName),console.log("customFileName is: "+o[i].customFileName),console.log(typeof o[i].customFileName);return console.log(r),e.next=15,re.a.post("/api/upload/items",r);case 15:if(200!==(u=e.sent).status){e.next=23;break}return j={userId:t._id,title:d.title,desc:d.description,img:u.data.imagePaths,categories:n,idealSwaps:c,status:"waiting"},console.log(j),e.next=21,re.a.post("/api/items",j);case 21:p=e.sent,console.log(p.data);case 23:l([]),b({tangible:""}),C([]),T([]);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)(N,{currentUser:t}),Object(g.jsxs)("div",{className:"createListingContainer",children:[Object(g.jsx)("div",{className:"createListingHeader",children:Object(g.jsx)("span",{children:"Make your swap today!"})}),Object(g.jsxs)(h.a,{className:"createListingContent",children:[Object(g.jsx)(v.a,{xs:6,children:Object(g.jsx)(H.a,{className:"uploadImagesCard shadow p-3 mb-5 bg-white rounded",children:Object(g.jsxs)(H.a.Body,{children:[Object(g.jsx)("h5",{className:"uploadImagesCardHeader",children:"Drag and Drop images here"}),Object(g.jsx)("h6",{className:"uploadImagesCardSubHeader",children:"or click to upload"}),Object(g.jsx)(Le.a,{children:Object(g.jsxs)(Le.a.Group,{controlId:"images",children:[Object(g.jsx)(Le.a.Control,{type:"text",style:{display:"none"},isInvalid:!!x.images}),Object(g.jsx)("div",{className:"swapImgDragAndDropWrapper",children:Object(g.jsxs)("section",{className:"container",children:[Object(g.jsxs)("div",Object(Te.a)(Object(Te.a)({},B({style:_})),{},{className:"dragAndDropDiv",children:[Object(g.jsx)("input",Object(Te.a)({},U())),Object(g.jsx)("p",{children:Object(g.jsx)(Ue.a,{fontSize:"large"})}),Object(g.jsx)("p",{children:"Drop away your swap images..."})]})),Object(g.jsx)("aside",{className:"thumbsContainer",children:D})]})}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:x.images})]})})]})})}),Object(g.jsx)(v.a,{xs:6,className:"createListingContentRight",children:Object(g.jsxs)(Le.a,{className:"formWrapper",children:[Object(g.jsxs)(Le.a.Group,{controlId:"title",children:[Object(g.jsx)(Le.a.Label,{children:"Title"}),Object(g.jsx)(Le.a.Control,{className:"swapAwayFormControl",type:"text",maxlength:"50",placeholder:"Enter your swap title",value:d.title?d.title:"",onChange:function(e){return M("title",e.target.value)},isInvalid:!!x.title}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:x.title}),Object(g.jsx)(Le.a.Text,{className:"text-muted",children:"Create an interesting title for your swap!"})]}),Object(g.jsxs)(Le.a.Group,{controlId:"description",children:[Object(g.jsx)(Le.a.Label,{children:"Description"}),Object(g.jsx)(Le.a.Control,{className:"swapAwayFormControl",as:"textarea",maxlength:"500",rows:3,value:d.description?d.description:"",placeholder:"Describe your swap",onChange:function(e){return M("description",e.target.value)},isInvalid:!!x.description}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:x.description})]}),Object(g.jsxs)(Le.a.Group,{controlId:"tangible",children:[Object(g.jsx)(Le.a.Label,{children:"Is your item Tangible or Intangible?"}),Object(g.jsxs)(Le.a.Control,{className:"swapAwayFormControl",as:"select",value:d.tangible,onChange:function(e){return M("tangible",e.target.value)},isInvalid:!!x.tangible,children:[Object(g.jsx)("option",{value:"",disabled:!0,hidden:!0,selected:!0,children:"Select category:"}),Object(g.jsx)("option",{value:"tangibles",children:"Tangible"}),Object(g.jsx)("option",{value:"intagibles",children:"Intangible"})]}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:x.tangible})]}),Object(g.jsxs)(Le.a.Group,{controlId:"swapCategories",children:[Object(g.jsx)(Le.a.Label,{children:"What is your swap category?"}),Object(g.jsx)(Le.a.Control,{type:"text",style:{display:"none"},isInvalid:!!x.swapCategories}),Object(g.jsx)("div",{className:s.root,children:Object(g.jsx)(Ee.a,{multiple:!0,limitTags:2,id:"multiple-limit-tags",options:n,value:P,getOptionLabel:function(e){return e.title},onChange:function(e,t){x.swapCategories&&O(Object(Te.a)(Object(Te.a)({},x),{},{swapCategories:null})),T(t),console.log(t)},renderInput:function(e){return Object(g.jsx)(Ae.a,Object(Te.a)(Object(Te.a)({},e),{},{variant:"outlined",label:"Select categories"}))}})}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:x.swapCategories})]}),Object(g.jsxs)(Le.a.Group,{controlId:"idealCategories",children:[Object(g.jsx)(Le.a.Label,{children:"What is your ideal swap?"}),Object(g.jsx)(Le.a.Control,{type:"text",style:{display:"none"},isInvalid:!!x.idealCategories}),Object(g.jsx)("div",{className:s.root,children:Object(g.jsx)(Ee.a,{multiple:!0,limitTags:2,id:"multiple-limit-tags2",options:n,value:y,getOptionLabel:function(e){return e.title},onChange:function(e,t){x.idealCategories&&O(Object(Te.a)(Object(Te.a)({},x),{},{idealCategories:null})),C(t),console.log(t)},renderInput:function(e){return Object(g.jsx)(Ae.a,Object(Te.a)(Object(Te.a)({},e),{},{variant:"outlined",label:"Select ideal swaps"}))}})}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:x.idealCategories})]}),Object(g.jsx)(w.a,{className:"postButton",variant:"warning",onClick:W,children:"Post Swap"})]})})]})]})]})}s(331),s(332);function Ve(e){var t=e.imgLinkArray;return Object(a.useEffect)((function(){console.log(t)}),[t]),Object(g.jsx)("div",{className:"singleItemWrapper",children:Object(g.jsx)(z.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:8},desktop:{breakpoint:{max:3e3,min:1024},items:6},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:null===t||void 0===t?void 0:t.map((function(e){return Object(g.jsx)(z.a.Item,{children:Object(g.jsx)("img",{className:"singleItemCarouselItemImg",src:"http://localhost:8080/images/"+e,alt:""})})}))})})}s(333);var ze=s(444);function qe(e){var t=e.itemUserId,s="http://localhost:8080/images/",n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],o=c[1],l=Object(p.g)(),u=Object(a.useContext)(Y).user;Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,re.a.get("/api/users?userId="+t);case 3:s=e.sent,o(s.data),console.log("itemUser is: "+s.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var j=function(){var e=Object(se.a)(te.a.mark((function e(){var s,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=5;break}l.push("/"),console.log("pushed to login"),e.next=18;break;case 5:return e.next=7,re.a.get("/api/conversations/find/"+u._id+"/"+t);case 7:if(!((s=e.sent).data.length>0)){e.next=13;break}l.push("/chat/"+s.data[0]._id),console.log("pushed to chat id:"+s.data[0]._id),e.next=18;break;case 13:return e.next=15,re.a.post("/api/conversations",{members:[t,u._id]});case 15:a=e.sent,l.push("/chat/"+a._id),console.log(a.data);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsxs)(ze.a,{className:"swapAwayPrompt",children:[Object(g.jsx)(oe.a,{children:Object(g.jsxs)(h.a,{children:[Object(g.jsx)(v.a,{sm:2,children:Object(g.jsx)("img",{className:"swapAwayUserImg",src:r&&r.profilePicture?s+r.profilePicture:s+"person/noAvatar.png",onClick:function(){r&&l.push("/profile/"+r.username+"/listings")},alt:""})}),Object(g.jsx)(v.a,{sm:10,children:Object(g.jsx)(ze.a.Heading,{className:"swapAwayUsername",style:{fontSize:"1rem"},children:r?r.username:""})})]})}),Object(g.jsx)(w.a,{className:"swapAwayButton",variant:"warning",onClick:j,children:Object(g.jsxs)("div",{className:"swapAwayButtonTextGroup",children:[Object(g.jsx)(b.a,{}),Object(g.jsx)("span",{className:"swapAwayButtonText",children:"Swap Away!"})]})})]})})}s(334);var Je=s(167),Ke=s.n(Je),Ye=s(168),$e=s.n(Ye),Qe=s(228),Xe=s.n(Qe);function Ze(e){var t=e.itemUserId,s=e.itemStatus,n=e.handleReserve,c=e.handleUnreserve,r=e.handleSwap,o=e.handleUnswap,l=e.handleDelete,u="http://localhost:8080/images/",j=Object(a.useState)(null),d=Object(i.a)(j,2),b=d[0],m=d[1],x=Object(a.useState)(!1),O=Object(i.a)(x,2),f=O[0],N=O[1],k=Object(a.useState)(""),y=Object(i.a)(k,2),C=y[0],I=y[1],S=Object(a.useState)(""),P=Object(i.a)(S,2),T=P[0],R=P[1],L=Object(p.g)();Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,re.a.get("/api/users?userId="+t);case 3:s=e.sent,m(s.data),console.log("itemUser is: "+s.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var B=function(){var e=Object(se.a)(te.a.mark((function e(t){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=20;break}if(t.preventDefault(),console.log("user pressed enter key and the value is: "+C),""===C){e.next=18;break}return console.log("input is not empty"),e.prev=5,e.next=8,re.a.get("/api/agreements?id="+C);case 8:(s=e.sent)&&200===s.status&&s.data?s.data.parties.length>=2||s.data.items.length>=2?(console.log("Error 2"),R("This agreement id already involves 2 parties or 2 items")):(r(s.data._id),I(""),N(!1)):(console.log("Error 1"),R("Agreement does not exist!")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("Error 1"),R("Agreement does not exist!");case 16:e.next=20;break;case 18:console.log("input empty!"),R("Agreement code cannot be empty!");case 20:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsx)(ze.a,{className:"userItemCommandPrompt",children:Object(g.jsxs)(oe.a,{children:[Object(g.jsxs)(h.a,{children:[Object(g.jsx)(v.a,{sm:2,children:Object(g.jsx)("img",{className:"userItemCommandUserImg",src:b&&b.profilePicture?u+b.profilePicture:u+"person/noAvatar.png",onClick:function(){b&&L.push("/profile/"+b.username+"/listings")},alt:""})}),Object(g.jsx)(v.a,{sm:10,children:Object(g.jsx)(ze.a.Heading,{className:"userItemCommandUsername",style:{fontSize:"1rem"},children:b?b.username:"Anonymous"})})]}),Object(g.jsxs)("div",{className:"buttonWrapper",children:["waiting"===s?Object(g.jsx)("div",{children:Object(g.jsxs)(w.a,{className:"button",variant:"warning",onClick:n,children:[Object(g.jsx)(Ke.a,{className:"icons"}),Object(g.jsx)("span",{className:"action",children:"Mark as Reserve"})]})}):"reserved"===s?Object(g.jsx)("div",{children:Object(g.jsxs)(w.a,{className:"button",variant:"warning",onClick:c,children:[Object(g.jsx)(Ke.a,{className:"icons"}),Object(g.jsx)("span",{className:"action",children:"Unreserve"})]})}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)("div",{children:"deleted"===s?Object(g.jsx)(g.Fragment,{}):"swapped"===s?Object(g.jsxs)(w.a,{className:"button",variant:"warning",children:[Object(g.jsx)($e.a,{className:"icons"}),Object(g.jsx)("span",{className:"action",onClick:o,children:"Cancel Agreement"})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(w.a,{className:"button",variant:"warning",children:[Object(g.jsx)($e.a,{className:"icons"}),Object(g.jsx)("span",{className:"action",onClick:function(){return N(!f)},children:"Mark as Swapped"})]}),f?Object(g.jsx)(Le.a,{className:"userItemCommandForm",children:Object(g.jsxs)(Le.a.Group,{controlId:"title",children:[Object(g.jsx)(Le.a.Control,{className:"userItemCommandFormControl",type:"input",maxlength:"30",placeholder:"Enter your agreement code",value:C,onChange:function(e){I(e.target.value),R(""),console.log("changed to: "+e.target.value)},onKeyDown:B,isInvalid:""!==T}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:T})]})}):Object(g.jsx)(g.Fragment,{})]})}),Object(g.jsx)("div",{children:"deleted"===s||"swapped"===s?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)(w.a,{className:"button",variant:"warning",onClick:l,children:[Object(g.jsx)(Xe.a,{className:"icons"}),Object(g.jsx)("span",{className:"action",children:"Delete"})]})})]})]})})})}function et(){var e=Object(a.useContext)(Y),t=e.user,s=(e.sockio,Object(p.h)().itemId),n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],o=c[1],l=Object(p.g)(),u=Object(a.useState)(""),j=Object(i.a)(u,2),d=j[0],b=j[1];Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=7;break}return e.next=4,re.a.get("/api/items?itemId="+s);case 4:return t=e.sent,e.next=7,o(t.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[s]);var m=function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=6;break}return e.next=4,re.a.put("/api/items/update/status/"+s,{status:"reserved"});case 4:200===(t=e.sent).status&&t.data&&o(t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=6;break}return e.next=4,re.a.put("/api/items/update/status/"+s,{status:"waiting"});case 4:200===(t=e.sent).status&&t.data&&o(t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(se.a)(te.a.mark((function e(a){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleSwap called with agreementId: "+a),e.prev=1,e.next=4,re.a.put("/api/agreements/update/addParties/"+a,{userId:null===t||void 0===t?void 0:t._id,itemId:s});case 4:if(200!==e.sent.status||!s){e.next=10;break}return e.next=8,re.a.put("/api/items/update/status/"+s,{status:"swapped"});case 8:200===(n=e.sent).status&&n.data&&o(n.data);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(se.a)(te.a.mark((function e(){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleUnswap called"),e.prev=1,e.next=4,re.a.put("/api/agreements/update/removeParties",{userId:null===t||void 0===t?void 0:t._id,itemId:s});case 4:if(200!==e.sent.status||!s){e.next=10;break}return e.next=8,re.a.put("/api/items/update/status/"+s,{status:"waiting"});case 8:200===(a=e.sent).status&&a.data&&o(a.data);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(se.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("handleDelete called"),e.prev=1,e.next=4,re.a.delete("/api/items?itemId="+(null===r||void 0===r?void 0:r._id));case 4:200===e.sent.status&&l.push("/profile/"+t.username+"/listings"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(e){console.log("copy link");var t=document.createElement("input"),s="link"===e?window.location.href:(null===r||void 0===r?void 0:r._id)?r._id:"";document.body.appendChild(t),t.value=s,t.select(),document.execCommand("copy"),document.body.removeChild(t),b("link"===e?"Link to this page has been copied":"Item ID has been copied")};return Object(g.jsxs)("div",{className:"itemPage",children:[Object(g.jsx)(N,{currentUser:t}),Object(g.jsxs)("label",{className:"itemHeader",children:[r?r.title:"Error: No Item Displayed",r?Object(g.jsx)(V.a,{className:"itemTag",label:"waiting"===r.status?"available":r.status,size:"small",color:"waiting"===r.status?"":"reserved"===r.status?"primary":"secondary",style:{marginLeft:"15px",marginRight:"10px",marginTop:"0px"}}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsx)(oe.a,{className:"itemImg",children:Object(g.jsxs)(h.a,{children:[Object(g.jsx)(v.a,{children:Object(g.jsx)(Ve,{imgLinkArray:r?r.img:[]})}),Object(g.jsx)(v.a,{children:(null===t||void 0===t?void 0:t._id)===(null===r||void 0===r?void 0:r.userId)?Object(g.jsx)(Ze,{itemUserId:null===r||void 0===r?void 0:r.userId,itemStatus:null===r||void 0===r?void 0:r.status,handleReserve:m,handleUnreserve:x,handleDelete:w,handleSwap:O,handleUnswap:f}):Object(g.jsx)(qe,{itemUserId:null===r||void 0===r?void 0:r.userId})})]})}),Object(g.jsxs)("div",{className:"itemHeaderSecond",children:[Object(g.jsx)("div",{className:"itemGetLink",onClick:function(){return k("link")},children:"Copy Link"}),Object(g.jsx)("div",{className:"itemGetLink",onClick:function(){return k("id")},children:"Copy Item ID"}),Object(g.jsx)("div",{className:"itemCopyLinkText",children:d})]}),Object(g.jsxs)("div",{className:"itemDescription",children:[Object(g.jsx)("h5",{children:"Description"}),Object(g.jsx)("span",{children:r?r.desc:"The item does not exist, and hence no description"})]}),Object(g.jsxs)("div",{className:"itemIdealSwaps",children:[Object(g.jsx)("h5",{children:"Ideal swaps"}),null===r||void 0===r?void 0:r.idealSwaps.map((function(e){return Object(g.jsx)(V.a,{className:"tag",label:e,size:"small",color:"secondary",style:{marginRight:"5px"}},e)}))]})]})}s(335);var tt=s(230),st=s.n(tt),at=s(231),nt=s.n(at),ct=s(232),rt=s.n(ct),it=s(229);function ot(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(""),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useContext)(Y),j=u.user,d=u.dispatch,b=Object(a.useRef)(),p=Object(a.useRef)();Object(a.useEffect)((function(){console.log("user is changed"),console.log(j)}),[j]);var x=function(){var e=Object(se.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.a.post("/api/auth/login",{username:b.current.value,password:p.current.value}).then((function(){b.current.setCustomValidity(""),p.current.setCustomValidity("")}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),400===e.t0.response.status&&b.current.setCustomValidity("Incorrect username or password");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(se.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t.target.value),console.log(t.target.value),x();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(se.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t.target.value),console.log(t.target.value),x();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(se.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),function(){var e=Object(se.a)(te.a.mark((function e(t,s){var a,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOGIN_START"}),e.prev=1,e.next=4,re.a.post("/api/auth/login",t);case 4:return a=e.sent,e.next=7,Object(it.io)();case 7:(n=e.sent).on("connect",(function(){n.emit("addUser",a.data._id),console.log("sock inside try block: ",n),s({type:"LOGIN_SUCCESS",payload:{user:a.data,sock:n}})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),s({type:"LOGIN_FAILURE",payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,s){return e.apply(this,arguments)}}()({username:s,password:o},d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("div",{className:"loginWrapper",children:[Object(g.jsx)("div",{className:"loginTop",children:Object(g.jsx)(st.a,{className:"loginShoppingCartIcon",style:{fontSize:220,color:"white"}})}),Object(g.jsxs)("form",{className:"loginBottom",onSubmit:v,children:[Object(g.jsxs)("div",{className:"loginInputWrapper",children:[Object(g.jsx)(nt.a,{style:{position:"absolute",color:"white",fontSize:32,top:32,left:10}}),Object(g.jsx)("input",{placeholder:"USERNAME",onChange:O,value:s,ref:b,required:!0,className:"loginInput"})]}),Object(g.jsxs)("div",{className:"loginInputWrapper",children:[Object(g.jsx)(rt.a,{style:{position:"absolute",color:"white",fontSize:32,top:32,left:10}}),Object(g.jsx)("input",{placeholder:"PASSWORD",required:!0,onChange:h,value:o,ref:p,className:"loginInput",type:"password"})]}),Object(g.jsx)("button",{className:"loginButton",type:"submit",children:"LOGIN"}),Object(g.jsx)(m.b,{to:"/register",className:"loginBottomLink",children:"Forgot password?"}),Object(g.jsx)(m.b,{to:"/register",className:"loginBottomLink",children:"New to ReHash? Sign up now!"})]})]})})}s(356);var lt=s(63);function ut(e){var t=e.active,s=e.userId,n=e.lastMessageText,c=e.lastMessageTime,r=e.online,o="http://localhost:8080/images/",l=Object(a.useState)(""),u=Object(i.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(null),p=Object(i.a)(b,2),m=p[0],x=p[1];return Object(a.useEffect)((function(){console.log("lastMessageText updated. the new message is: ",n)}),[n]),Object(a.useEffect)((function(){c&&d(Object(lt.a)(c));var e=setInterval((function(){c&&j!==Object(lt.a)(c)&&d(Object(lt.a)(c))}),6e4);return function(){return clearInterval(e)}}),[c]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re()("/api/users?userId="+s);case 3:return t=e.sent,e.next=6,x(t.data);case 6:console.log("successfully got user"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(g.jsxs)("div",{className:t?"conversation conversationActive":"conversation",children:[Object(g.jsxs)("div",{className:"conversationLeft",children:[Object(g.jsx)("img",{src:(null===m||void 0===m?void 0:m.profilePicture)?o+m.profilePicture:o+"person/noAvatar.png",alt:"",className:"conversationImg"}),r?Object(g.jsx)("div",{className:"conversationBadge"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("div",{className:"conversationRight",children:[Object(g.jsxs)("div",{className:"conversationRightTop",children:[Object(g.jsx)("div",{className:"conversationName",children:null===m||void 0===m?void 0:m.username}),Object(g.jsx)("div",{className:"conversationStatus",children:j})]}),Object(g.jsx)("span",{className:"conversationLastMsg",children:n})]})]})}s(357);function jt(e){var t=e.message,s=e.own,n=e.pictureLink,c=Object(a.useState)(""),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)(!1),j=Object(i.a)(u,2),d=j[0],b=j[1];return Object(a.useEffect)((function(){t&&l(Object(lt.a)(t.createdAt));var e=setInterval((function(){o!==Object(lt.a)(t.createdAt)&&l(Object(lt.a)(t.createdAt))}),6e4);return function(){return clearInterval(e)}}),[t]),s?Object(g.jsxs)("div",{className:"messageOwn",children:[Object(g.jsxs)("div",{className:"messageTopOwn",children:[Object(g.jsx)("img",{className:"messageImgOwn",src:n,alt:""}),Object(g.jsx)("p",{className:"messageTextOwn",onClick:function(){b(!d)},children:t.text})]}),d?Object(g.jsx)("div",{className:"messageBottom",children:o}):Object(g.jsx)(g.Fragment,{})]}):Object(g.jsxs)("div",{className:"message",children:[Object(g.jsxs)("div",{className:"messageTop",children:[Object(g.jsx)("img",{className:"messageImg",src:n,alt:""}),Object(g.jsx)("p",{className:"messageText",onClick:function(){b(!d)},children:t.text})]}),d?Object(g.jsx)("div",{className:"messageBottom",children:o}):Object(g.jsx)(g.Fragment,{})]})}s(358);function dt(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(null),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)([]),j=Object(i.a)(u,2),d=j[0],b=j[1],m=Object(a.useState)(""),x=Object(i.a)(m,2),O=x[0],h=x[1],v=Object(a.useState)(null),f=Object(i.a)(v,2),w=f[0],k=f[1],y=Object(a.useState)([]),C=Object(i.a)(y,2),I=C[0],S=C[1],P=Object(a.useState)(""),T=Object(i.a)(P,2),R=T[0],L=T[1],B=Object(a.useState)(null),U=Object(i.a)(B,2),E=U[0],F=U[1],A=Object(a.useState)(""),_=Object(i.a)(A,2),D=_[0],M=_[1],G="http://localhost:8080/images/",W=Object(a.useRef)(),H=Object(p.h)().initialActiveConvoId,V=Object(a.useContext)(Y),z=V.user,q=V.sockio,J=Object(p.g)();Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0"===H){e.next=6;break}return console.log("initialActiveConvoId is: "+H),e.next=4,re.a.get("/api/conversations/id/"+H);case 4:t=e.sent,l(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[H]),Object(a.useEffect)((function(){console.log("socket is: ",q.id),q.on("getMessage",(function(e){k({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[q]),Object(a.useEffect)((function(){w&&(null===o||void 0===o?void 0:o.members.includes(w.sender))&&b((function(e){return[].concat(Object(Ce.a)(e),[w])}))}),[w,o]),Object(a.useEffect)((function(){q.on("getUsers",(function(e){console.log("getUser received on client side"),S(z.chatFollow.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[z,q]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.a.get("/api/conversations/"+z._id);case 3:return t=e.sent,e.next=6,n(t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[z._id,d,I]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.a.get("/api/messages/"+(null===o||void 0===o?void 0:o._id));case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(a.useEffect)((function(){var e=null===o||void 0===o?void 0:o.members.find((function(e){return e!==z._id}));(function(){var t=Object(se.a)(te.a.mark((function t(){var s;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re()("/api/users?userId="+e);case 3:return s=t.sent,t.next=6,F(s.data);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[z,o]),Object(a.useEffect)((function(){var e=function(){var e=Object(se.a)(te.a.mark((function e(){var t,s,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,re()("/api/users?userId="+(null===E||void 0===E?void 0:E._id));case 4:s=e.sent,a=s.data.lastActive,console.log("newLastActive: ",a),t=Object(lt.a)(a),console.log("LOOK AT ME: TIMEAGO ",t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t=Object(lt.a)(null===E||void 0===E?void 0:E.lastActive),console.log(e.t0);case 15:M("Active "+t);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval((function(){e()}),5e3);return function(){return clearInterval(t)}}),[E]);var K=function(){var e=Object(se.a)(te.a.mark((function e(t){var s,a,n,c,r,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===O){e.next=26;break}return t.preventDefault(),e.next=4,h("");case 4:return s={sender:z._id,text:O,conversationId:o._id},e.prev=5,e.next=8,re.a.post("/api/messages",s);case 8:return a=e.sent,n=a.data.text,c=a.data.createdAt,e.next=13,re.a.put("/api/conversations/"+o._id+"/lastmessage",{lastMessageText:n,lastMessageTime:c});case 13:return r=e.sent,console.log(r),console.log("currentChat is: ",o),e.next=18,b([].concat(Object(Ce.a)(d),[a.data]));case 18:console.log("updated messages. the new messaged sent is: ",a.data.text),i=o.members.find((function(e){return e!==z._id})),q.emit("sendMessage",{senderId:z._id,receiverId:i,text:O}),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[5,23]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("generate agreement is clicked"),e.next=3,re.a.post("/api/agreements");case 3:(t=e.sent).data&&t.data._id&&h("Your agreement code has been generated: "+t.data._id);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e;null===(e=W.current)||void 0===e||e.scrollIntoView({behavior:"auto"})}),[d]),Object(g.jsxs)("div",{children:[Object(g.jsx)(N,{currentUser:z}),Object(g.jsxs)("div",{className:"messenger",children:[Object(g.jsx)("div",{className:"chatMenu",children:Object(g.jsxs)("div",{className:"chatMenuWrapper",children:[Object(g.jsx)("input",{placeholder:"Search for users",className:"chatMenuInput",onChange:function(e){return L(e.target.value)},value:R}),s.map((function(e){var t=e.members.find((function(e){return e!==z._id}));return Object(g.jsx)("div",{onClick:function(){return l(e)},children:Object(g.jsx)(ut,{online:I.includes(t),lastMessageText:e.lastMessageText,lastMessageTime:e.lastMessageTime,userId:t,active:!!o&&e._id===o._id})})}))]})}),Object(g.jsx)("div",{className:"chatBox",children:Object(g.jsx)("div",{className:"chatBoxWrapper",children:o?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"chatBoxHeader",children:[Object(g.jsxs)("div",{className:"chatBoxHeaderLeft",children:[Object(g.jsx)("img",{src:(null===E||void 0===E?void 0:E.profilePicture)?G+E.profilePicture:G+"person/noAvatar.png",alt:"",className:"chatBoxHeaderImg"}),Object(g.jsxs)("div",{className:"chatBoxHeaderContent",children:[Object(g.jsx)("div",{className:"chatBoxHeaderName",children:null===E||void 0===E?void 0:E.username}),Object(g.jsx)("div",{className:"chatBoxHeaderStatus",children:I.includes(null===E||void 0===E?void 0:E._id)?"Online now":D})]})]}),Object(g.jsx)("button",{className:"chatBoxViewProfileButton",onClick:function(){J.push("/profile/"+E.username+"/listings")},children:"View Profile"})]}),Object(g.jsx)("div",{className:"chatBoxTop",children:d.map((function(e){return Object(g.jsx)("div",{ref:W,children:Object(g.jsx)(jt,{message:e,own:e.sender===z._id,pictureLink:e.sender===z._id?(null===z||void 0===z?void 0:z.profilePicture)?G+z.profilePicture:G+"person/noAvatar.png":(null===E||void 0===E?void 0:E.profilePicture)?G+E.profilePicture:G+"person/noAvatar.png"})})}))}),Object(g.jsxs)("div",{className:"chatBoxBottom",children:[Object(g.jsx)("textarea",{className:"chatMessageInput",placeholder:"Write a message ...",onChange:function(e){return h(e.target.value)},value:O,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),console.log("new message when eneter is pressed: ",O),h(O),""!==O&&(K(e),console.log("passing to handleSendMessage")))}}),Object(g.jsx)("button",{className:"chatAgreementButton",onClick:$,children:"Generate Agreement"}),Object(g.jsx)("button",{className:"chatSubmitButton",onClick:K,children:"Send"})]})]}):Object(g.jsxs)("span",{className:"noConversationText",children:["Open a conversation to start a chat ",q.id]})})})]})]})}s(359);function bt(){var e=Object(a.useContext)(Y),t=e.user,s=(e.sockio,Object(p.h)().username),n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],o=c[1],l=Object(a.useState)([]),u=Object(i.a)(l,2),j=u[0],d=u[1];return Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=6;break}return e.next=3,re.a.get("/api/users?username="+s);case 3:t=e.sent,o(t.data),console.log("profileUser is: "+t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,re.a.get("/api/groups/filter?userId="+r._id);case 3:t=e.sent,d(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"myGroupsPageTopSection",children:Object(g.jsx)(N,{currentUser:t})}),Object(g.jsxs)("div",{className:"myGroupsPageMiddleSection",children:[Object(g.jsx)(Oe,{className:"sidebar",sidebarUser:r}),Object(g.jsx)("div",{className:"myGroupsPageMiddleSectionRight",children:Object(g.jsxs)("div",{className:"myGroupsPageMiddleSectionRightHeader",children:[Object(g.jsx)("span",{className:"myGroupsPageMiddleSectionRightHeaderText",children:"Groups You Have Joined"}),Object(g.jsx)("div",{className:"myGroupsPageGroupIconWrapper",children:Object(g.jsx)(h.a,{className:"myGroupsPageGroupIconContainer",xl:5,lg:4,md:3,xs:2,children:j.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(v.a,{children:Object(g.jsx)(Q,{groupImg:e.groupImg,groupName:e.groupName,groupId:e._id})}),Object(g.jsx)(v.a,{children:Object(g.jsx)(Q,{groupImg:e.groupImg,groupName:e.groupName,groupId:e._id})}),Object(g.jsx)(v.a,{children:Object(g.jsx)(Q,{groupImg:e.groupImg,groupName:e.groupName,groupId:e._id})})]})}))})})]})})]})]})}s(360);function pt(){var e=Object(a.useContext)(Y),t=e.user,s=e.sockio,n=e.dispatch,c=(Object(p.h)().username,Object(a.useState)(null)),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)({showPassword:!1}),j=Object(i.a)(u,2),d=j[0],b=j[1],m=Object(a.useState)({}),x=Object(i.a)(m,2),O=x[0],f=x[1],k=Object(a.useState)({}),y=Object(i.a)(k,2),C=y[0],I=y[1],S=Object(a.useState)(!1),P=Object(i.a)(S,2),T=P[0],R=P[1];Object(a.useEffect)((function(){console.log("user is changed"),console.log(t)}),[t]);Object(a.useEffect)((function(){return function(){o&&URL.revokeObjectURL(o.preview)}}),[o]);var L=function(){var e=Object(se.a)(te.a.mark((function e(a){var c,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o){e.next=5;break}I({imgFile:"No image uploaded!"}),e.next=12;break;case 5:return(c=new FormData).append("file",o),console.log(c),r=function(){var e=Object(se.a)(te.a.mark((function e(){var a,r,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.a.post("/api/upload/person",c);case 3:if(200!==(a=e.sent).status){e.next=12;break}return r={profilePicture:a.data.imagePath},i=Object(Te.a)(Object(Te.a)({},t),r),console.log(i),e.next=10,re.a.put("/api/users/"+t._id,{profilePicture:a.data.imagePath});case 10:200===e.sent.status&&n({type:"UPDATE",payload:{user:i,sock:s}});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),e.next=11,r();case 11:l(null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e,t){b(Object(Te.a)(Object(Te.a)({},d),{},Object(Pe.a)({},e,t))),O[e]&&f(Object(Te.a)(Object(Te.a)({},O),{},Object(Pe.a)({},e,null))),T&&R(!1)},U=function(){var e=Object(se.a)(te.a.mark((function e(s){var a,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),R(!1),a=E(),!(Object.keys(a).length>0)){e.next=8;break}f(a),console.log(a),e.next=11;break;case 8:return n=function(){var e=Object(se.a)(te.a.mark((function e(){var s,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.a.put("/api/auth/updatePassword/"+t._id,{currentPassword:d.currentPassword,newPassword:d.newPassword});case 3:(s=e.sent)&&200===s.status&&"User password has been updated"===s.data.message?(R(!0),b({showPassword:!1,confirmPassword:"",newPassword:"",currentPassword:""})):s&&200===s.status&&"wrong password"===s.data.message&&(a={currentPassword:"Wrong Password!"},f(Object(Te.a)(Object(Te.a)({},O),a))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),e.next=11,n();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=d.currentPassword,t=d.newPassword,s=d.confirmPassword,a={};return e&&""!==e||(a.currentPassword="Current password cannot be empty!"),(!t||t.length<6)&&(a.newPassword="New password must have at least 6 characters!"),s&&s===t||(a.confirmPassword="New and confirm passwords do not match!"),a};return Object(g.jsxs)("div",{children:[Object(g.jsx)(N,{currentUser:t}),Object(g.jsxs)("div",{className:"settingsContainer",children:[Object(g.jsx)(Oe,{sidebarUser:t}),Object(g.jsxs)("div",{className:"settingsRight",children:[Object(g.jsx)("span",{className:"settingsHeader",children:"Settings"}),Object(g.jsxs)(oe.a,{className:"settingsWrapper",children:[Object(g.jsxs)(H.a,{style:{width:"60em",height:"19em"},className:"settingsUserProfileContainer shadow p-3 mb-5 bg-white rounded",children:[Object(g.jsx)("span",{className:"settingsUserProfileHeader",children:"User Profile"}),Object(g.jsx)(oe.a,{children:Object(g.jsxs)(h.a,{children:[Object(g.jsx)(v.a,{children:Object(g.jsx)("img",{src:o&&o.preview?o.preview:t&&t.profilePicture?"http://localhost:8080/images/"+t.profilePicture:"/assests/userProfile.png",alt:"",className:"userProfileImg"})}),Object(g.jsx)(v.a,{children:Object(g.jsxs)("div",{className:"settingsImgInstructions",children:[Object(g.jsx)("div",{className:"settingsImgInstructionsText",children:"Upload a profile picture of yourself to help others know more about you!"}),Object(g.jsxs)(Le.a.Group,{children:[Object(g.jsx)(Le.a.Control,{className:"imgUploadButton",as:"input",name:"image-upload",type:"file",accept:"image/*",onChange:function(e){var t=Object.assign(e.target.files[0],{preview:URL.createObjectURL(e.target.files[0])});l(t),t&&C.imgFile&&I({imgFile:null}),console.log(t.preview)},isInvalid:!!C.imgFile}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:C.imgFile})]}),Object(g.jsx)(w.a,{className:"changeProfilePictureButton",variant:"warning",onClick:L,children:"Change profile picture"})]})})]})})]}),Object(g.jsxs)(H.a,{style:{width:"60em"},className:"settingsPasswordContainer shadow p-3 mb-5 bg-white rounded",children:[Object(g.jsx)("span",{className:"settingsPasswordHeader",children:"Password"}),Object(g.jsxs)(Le.a,{children:[Object(g.jsxs)("div",{className:"passwordInputWrapper",children:[Object(g.jsxs)(Le.a.Group,{controlId:"oldPassword",children:[Object(g.jsx)(Le.a.Control,{className:"passwordInput",name:"currentPassword",type:d.showPassword?"text":"password",placeHolder:"Current Password",value:d.currentPassword,onChange:function(e){return B("currentPassword",e.target.value)},isInvalid:!!O.currentPassword,isValid:T}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:O.currentPassword})]}),Object(g.jsxs)(Le.a.Group,{controlId:"newPassword",children:[Object(g.jsx)(Le.a.Control,{className:"passwordInput",name:"newPassword",type:d.showPassword?"text":"password",placeHolder:"New Password",value:d.newPassword,onChange:function(e){return B("newPassword",e.target.value)},isInvalid:!!O.newPassword,isValid:T}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:O.newPassword})]}),Object(g.jsxs)(Le.a.Group,{controlId:"confirmPassword",children:[Object(g.jsx)(Le.a.Control,{className:"passwordInput",name:"confirmPassword",type:d.showPassword?"text":"password",placeHolder:"Confirm Password",value:d.confirmPassword,onChange:function(e){return B("confirmPassword",e.target.value)},isInvalid:!!O.confirmPassword,isValid:T}),Object(g.jsx)(Le.a.Control.Feedback,{type:"invalid",children:O.confirmPassword}),Object(g.jsx)(Le.a.Control.Feedback,{type:"valid",children:'"Password updated successfully"'})]})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"checkbox",checked:d.showPassword,onClick:function(){return B("showPassword",!d.showPassword)}}),Object(g.jsx)("label",{className:"checkboxLabel",children:"Show input"})]}),Object(g.jsx)("div",{children:Object(g.jsx)(w.a,{className:"passwordButton",variant:"warning",onClick:U,children:"Update password"})})]})]})]})]})]})]})}s(361),s(362);var mt=s(234),xt=s.n(mt),Ot=s(233),ht=s.n(Ot);function vt(e){var t=e.group,s="http://localhost:8080/images/",n=Object(a.useState)(!0),c=Object(i.a)(n,2),r=c[0],o=(c[1],Object(a.useState)(!1)),l=Object(i.a)(o,2),u=l[0],j=l[1],d=Object(g.jsx)("div",{className:"inviteComponentWrapper",children:Object(g.jsxs)("div",{className:"inviteComponentContainer",children:[Object(g.jsx)("span",{className:"inviteComponentText",children:"Who do you want to invite?"}),Object(g.jsx)("input",{className:"inviteComponentInput",placeholder:"Input name..."})]})});return Object(g.jsx)("div",{className:"GroupSidebarWrapper",children:Object(g.jsxs)(ue.a,{textColor:"black",backgroundColor:"#FFD68D",children:[Object(g.jsx)(ue.d,{prefix:Object(g.jsx)("i",{className:"fa fa-bars fa-large"}),children:Object(g.jsx)("img",{className:"groupProfile",src:(null===t||void 0===t?void 0:t.groupImg)?s+t.groupImg:s+"group/noImageUploaded.png",alt:""})}),Object(g.jsxs)(ue.d,{style:{textAlign:"center"},children:[Object(g.jsx)("div",{className:"groupNameWrapper",children:Object(g.jsx)("div",{className:"groupName",children:Object(g.jsx)("span",{className:"groupNameText",children:(null===t||void 0===t?void 0:t.groupName)?t.groupName:"No Group Name"})})}),r?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"groupInviteButtonWrapper",children:Object(g.jsx)("div",{className:"groupInviteButton",onClick:function(){j(!u)},children:Object(g.jsx)("span",{className:"groupInviteButtonText",children:"+ Invite"})})}),Object(g.jsx)("div",{children:u?d:Object(g.jsx)(g.Fragment,{})})]}):Object(g.jsx)("div",{className:"groupJoinButtonWrapper",children:Object(g.jsx)("div",{className:"groupJoinButton",children:Object(g.jsx)("span",{className:"groupJoinButtonText",children:"+ Join Group"})})})]}),Object(g.jsx)(ue.b,{children:Object(g.jsxs)(ue.e,{children:[Object(g.jsxs)("div",{className:"groupDescriptionContainer",children:[Object(g.jsx)("div",{className:"groupDescriptionHeader",children:"Group Description:"}),Object(g.jsxs)("div",{className:"groupDescriptionContent",children:[(null===t||void 0===t?void 0:t.description)?t.description:"This group creator has left no description of this group"," "]})]}),Object(g.jsxs)(ue.f,{className:"groupMenuItem",children:[Object(g.jsx)(ht.a,{className:"groupMyPostsIcon"}),Object(g.jsx)("span",{className:"groupMyPosts",children:"Group Home"})," "]}),Object(g.jsx)(ue.f,{className:"groupMenuItem",children:r?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(xt.a,{className:"groupMyPostsIcon"}),Object(g.jsx)("span",{className:"groupMyPosts",children:"My Posts"})," "]}):Object(g.jsx)(g.Fragment,{})})]})}),Object(g.jsx)(ue.c,{children:r?Object(g.jsx)("div",{className:"groupLeaveButtonWrapper",children:Object(g.jsx)("div",{className:"groupLeaveButton",children:Object(g.jsx)("span",{className:"groupLeaveButtonText",children:"Leave Group"})})}):Object(g.jsx)(g.Fragment,{})})]})})}s(363);function gt(){return Object(g.jsx)("div",{className:"groupSharePostWrapper",children:Object(g.jsxs)("div",{className:"groupSharePostContainer",children:[Object(g.jsx)("div",{className:"sharePostTop",children:Object(g.jsxs)("div",{className:"sharePostTopContainer",children:[Object(g.jsx)("img",{className:"sharePostProfileImg",src:"/assests/EugeneTan.png",alt:""}),Object(g.jsx)("span",{className:"sharePostProfileText",children:"Username here"})]})}),Object(g.jsx)("div",{className:"sharePostContainer",children:Object(g.jsxs)(h.a,{className:"sharePostContainerWrapper",children:[Object(g.jsxs)(v.a,{className:"sharePostContainerLeft",children:[Object(g.jsx)("input",{className:"sharePostContainerInput",placeholder:"Input your post ID..."}),Object(g.jsx)("input",{className:"sharePostContainerInput",placeholder:"Describe your post..."})]}),Object(g.jsx)(v.a,{className:"sharePostContainerRight",children:Object(g.jsx)("div",{className:"sharePostButtonWrapper",children:Object(g.jsx)("div",{className:"sharePostButton",children:Object(g.jsx)("span",{className:"sharePostButtonText",children:"Post"})})})})]})})]})})}s(364);var ft=s(235),Nt=s.n(ft),wt=s(236),kt=s.n(wt),yt=s(237),Ct=s.n(yt);s(365);function It(e){var t=e.commentText,s=e.commentUserId,n=(e.own,e.handleDelete,"http://localhost:8080/images/"),c=Object(a.useState)(null),r=Object(i.a)(c,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re()("/api/users?userId="+s);case 3:return t=e.sent,e.next=6,l(t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(g.jsx)("div",{className:"commentWrapper",children:Object(g.jsxs)("div",{className:"commentContainer",children:[Object(g.jsxs)("div",{className:"commentUserDetails",children:[Object(g.jsx)("img",{className:"commentProfileImg",src:o&&o.profilePicture?n+o.profilePicture:n+"person/noAvatar.png",alt:""}),Object(g.jsx)("span",{className:"commentProfileText",children:(null===o||void 0===o?void 0:o.username)?o.username:"No Name"})]}),Object(g.jsx)("div",{className:"commentUserContent",children:t})]})})}function St(e){var t=e.post,s="http://localhost:8080/images/",n=Object(a.useContext)(Y),c=(n.user,n.sockio,Object(a.useState)(null)),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)([]),j=Object(i.a)(u,2),d=j[0],b=j[1],p=Object(a.useState)(null),m=Object(i.a)(p,2),x=m[0],O=m[1];return Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re()("/api/users?userId="+(null===t||void 0===t?void 0:t.postUserId));case 3:return s=e.sent,e.next=6,l(s.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re()("/api/comments/filter?postId="+(null===t||void 0===t?void 0:t._id));case 3:return s=e.sent,e.next=6,b(s.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re()("/api/items?itemId="+(null===t||void 0===t?void 0:t.itemId));case 3:return s=e.sent,e.next=6,O(s.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(g.jsx)("div",{className:"postWrapper",children:Object(g.jsxs)("div",{className:"postContainer",children:[Object(g.jsx)("div",{className:"postTop",children:Object(g.jsxs)(h.a,{className:"postTopContainerWrapper",children:[Object(g.jsxs)(v.a,{className:"postTopContainerLeft",children:[Object(g.jsx)("img",{className:"postProfileImg",src:o&&o.profilePicture?s+o.profilePicture:s+"person/noAvatar.png",alt:""}),Object(g.jsx)("span",{className:"postProfileText",children:(null===o||void 0===o?void 0:o.username)?o.username:"No Name"})]}),Object(g.jsx)(v.a,{className:"postTopContainerRight",children:Object(g.jsx)("div",{className:"postSwapButtonWrapper",children:Object(g.jsxs)("div",{className:"postSwapButton",children:[Object(g.jsx)(Nt.a,{className:"chatIcon"}),Object(g.jsx)("span",{className:"postSwapButtonText",children:"Swap Away!"})]})})})]})}),Object(g.jsxs)("div",{className:"postMiddle",children:[Object(g.jsx)("div",{className:"postMiddleDescription",children:Object(g.jsx)("div",{className:"postMiddleDescriptionContainer",children:(null===t||void 0===t?void 0:t.description)?t.description:"No description available"})}),Object(g.jsx)("div",{className:"postMiddleItemListing",children:Object(g.jsx)(he,{item:x,inPost:!0})}),Object(g.jsx)("div",{className:"postMiddleItemLikesComments",children:Object(g.jsxs)("div",{className:"postMiddleItemLikesCommentsContainer",children:[Object(g.jsxs)("div",{className:"postMiddleItemLikes",children:[Object(g.jsx)(kt.a,{}),Object(g.jsx)("span",{className:"numberLikes",children:(null===t||void 0===t?void 0:t.likedBy)?t.likedBy.length:0})]}),Object(g.jsxs)("div",{className:"postMiddleItemComments",children:[Object(g.jsx)(Ct.a,{}),Object(g.jsx)("span",{className:"numberComments",children:d.length})]})]})})]}),Object(g.jsxs)("div",{className:"postBottom",children:[Object(g.jsx)("div",{className:"postCommentInputWrapper",children:Object(g.jsx)("input",{className:"postCommentInput",placeholder:"Write a comment..."})}),Object(g.jsx)("div",{className:"postCommentContentSection",children:d.map((function(e){return Object(g.jsx)(It,{commentText:e.commentText,commentUserId:e.commentUserId},e._id)}))})]})]})})}function Pt(){var e=Object(a.useContext)(Y),t=e.user,s=(e.sockio,Object(p.h)().groupId),n=Object(p.h)().pageType,c=Object(a.useState)([]),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)(null),j=Object(i.a)(u,2),d=j[0],b=j[1];return Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re()("/api/groups?groupId="+s);case 3:return t=e.sent,e.next=6,b(t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(a.useEffect)((function(){(function(){var e=Object(se.a)(te.a.mark((function e(){var a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"main"!==n){e.next=10;break}return console.log("page type is main"),e.next=5,re()("/api/posts/filter?groupId="+s);case 5:return a=e.sent,e.next=8,l(a.data);case 8:e.next=17;break;case 10:if("myPosts"!==n){e.next=17;break}return console.log("page type is myPosts"),e.next=14,re()("/api/posts/filter?groupId="+s+"&userId="+(null===t||void 0===t?void 0:t._id));case 14:return c=e.sent,e.next=17,l(c.data);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}})()()}),[n,s,t]),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"groupPageTop",children:Object(g.jsx)(N,{currentUser:t})}),Object(g.jsxs)("div",{className:"groupPageContainer",children:[Object(g.jsx)("div",{className:"groupSidebarWrapper",children:Object(g.jsx)(vt,{className:"groupSidebarComponent",group:d})}),Object(g.jsxs)("div",{className:"groupPageContainerRight",children:[Object(g.jsx)("div",{className:"groupPagecontainerRightShareWrapper",children:Object(g.jsx)(gt,{})}),o.map((function(e){return Object(g.jsx)(St,{post:e},e._id)}))]})]})]})}var Tt=function(){var e=Object(a.useContext)(Y).user;return Object(g.jsx)(m.a,{children:Object(g.jsxs)(p.d,{children:[Object(g.jsx)(p.b,{exact:!0,path:"/",children:e?Object(g.jsx)(p.a,{to:"/home"}):Object(g.jsx)(ot,{})}),Object(g.jsx)(p.b,{path:"/register",children:e?Object(g.jsx)(p.a,{to:"/home"}):Object(g.jsx)(ie,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/product/:pageType/:categoryName",children:Object(g.jsx)(Se,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/home",children:Object(g.jsx)(Z,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/create",children:e?Object(g.jsx)(He,{}):Object(g.jsx)(ot,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/chat/:initialActiveConvoId",children:e?Object(g.jsx)(dt,{}):Object(g.jsx)(ot,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/profile/:username/listings",children:Object(g.jsx)(ye,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/profile/:username/reviews",children:Object(g.jsx)(Ie,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/profile/:username/settings",children:Object(g.jsx)(pt,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/profile/:username/mygroups",children:Object(g.jsx)(bt,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/items/:itemId",children:Object(g.jsx)(et,{})}),Object(g.jsx)(p.b,{exact:!0,path:"/groups/:groupId/:pageType",children:Object(g.jsx)(Pt,{})})]})})},Rt=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,448)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};r.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)($,{children:Object(g.jsx)(Tt,{})})}),document.getElementById("root")),Rt()}},[[366,1,2]]]);
//# sourceMappingURL=main.604ad336.chunk.js.map