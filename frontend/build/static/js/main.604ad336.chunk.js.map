{"version":3,"sources":["components/notification/Notification.js","components/topbar/TopBar.js","components/itemlistsTangible/ItemListsTangible.js","components/itemlistsIntangible/ItemListsIntangible.js","components/ads/Ads.js","context/AuthReducer.js","context/AuthContext.js","components/groupIcon/GroupIcon.js","components/groupIconContainer/GroupIconContainer.js","pages/home/Home.js","pages/register/Register.jsx","components/sidebar/SideBar.js","components/itemListing/ItemListing.js","components/star/Star.jsx","components/RatingIcon/RatingIcon.jsx","components/userReview/UserReview.jsx","pages/userlisting/UserListing.js","pages/review/Review.js","pages/product/Product.js","pages/createListing/CreateListing.js","components/singleItem/SingleItem.js","components/swapAway/SwapAway.js","components/userItemCommand/UserItemCommand.js","pages/item/Item.js","pages/login/Login.jsx","components/conversation/Conversation.jsx","components/message/Message.jsx","pages/chat/Chat.jsx","pages/myGroups/MyGroups.js","pages/settings/Settings.js","components/groupSidebar/GroupSidebar.js","components/groupSharePost/GroupSharePost.js","components/comment/Comment.jsx","components/post/Post.jsx","pages/group/Group.js","App.js","reportWebVitals.js","index.js"],"names":["Notification","className","Row","Col","TopBar","currentUser","PF","process","history","useHistory","useState","searchText","setSearchText","navbarNotificationTitle","htmlColor","Navbar","expand","Brand","onClick","push","src","alt","Toggle","aria-controls","Collapse","id","Nav","Link","Search","placeholder","value","onChange","e","target","onKeyDown","key","preventDefault","match","length","console","log","to","TextsmsOutlined","DropdownButton","variant","title","Dropdown","Item","username","profilePicture","ItemLists","handleClick","category","responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","mobile","Button","Accessibility","Face","SportsFootball","Home","DriveEta","Redeem","Computer","Apps","ItemListsIntangible","OutdoorGrill","Room","Forum","Fastfood","BeachAccess","SportsHandball","SportsEsports","Ads","Carousel","interval","AuthReducer","state","action","type","user","isFetching","error","sockio","payload","sock","INITIAL_STATE","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","Provider","GroupIcon","groupImg","groupName","groupId","GroupIconContainer","useContext","useEffect","Register","email","setEmail","setUsername","password","setPassword","confirmPassword","setConfirmPassword","handleEmail","a","axios","get","setCustomValidity","response","status","handleUsername","post","onSubmit","required","SideBar","sidebarUser","handleLogOut","logoutCall","disconnect","textColor","backgroundColor","prefix","style","textAlign","Rating","cumulativeRating","ratedByUsers","precision","readOnly","LocalMall","SwapVert","_id","Settings","padding","ExitToApp","ItemListing","item","inPost","Card","Img","img","Body","Title","marginRight","Chip","label","size","color","marginBottom","marginTop","idealSwaps","map","tags","Text","desc","Star","props","fill","class","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","RatingIcon","index","rating","hoverRating","onMouseEnter","onMouseLeave","onSaveRating","selected","notSelected","useMemo","height","width","UserReview","review","doneReview","handleSubmit","handleDelete","setRating","setHoverRating","reviewer","setReviewer","reviewText","setReviewText","reviewerId","res","data","getReviewUser","UserListing","useParams","displayItems","setDisplayItems","viewingCategory","setViewingCategory","profileUser","setProfileUser","tabValue","setTabValue","getProfileUser","getDisplayItems","Container","Paper","margin","Tabs","indicatorColor","centered","Tab","xs","md","Review","reviews","setReviews","alreadyReviewed","setAlreadyReviewed","myReview","setMyReview","initialCumRating","setInitialCumRating","initialRatedBy","setInitialRatedBy","filterMyReview","filter","getReviews","getAlreadyReviewed","newReview","revieweeId","put","delete","Product","categoryName","pageType","setItems","getItems","charAt","toUpperCase","slice","lg","s","useStyles","makeStyles","theme","root","spacing","baseStyle","flex","display","flexDirection","alignItems","borderWidth","borderRadius","borderColor","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","CreateListing","classes","files","setFiles","form","setForm","errors","setErrors","idealCategories","setIdealCategories","swapCategories","setSwapCategories","onDrop","useCallback","acceptedFiles","images","newFiles","file","Object","assign","preview","URL","createObjectURL","customFileName","Date","now","toString","concat","name","allFiles","useDropzone","accept","maxFiles","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","thumbs","forEach","revokeObjectURL","setField","field","findFormErrors","description","tangible","newErrors","keys","newItemSwapCat","categoryObject","toLowerCase","newItemIdealSwap","FormData","i","append","uploadFileRes","newItem","userId","imagePaths","categories","Form","Group","controlId","Control","isInvalid","fontSize","Feedback","Label","maxlength","as","rows","disabled","hidden","Autocomplete","multiple","limitTags","options","getOptionLabel","option","newValue","renderInput","params","TextField","SingleItem","imgLinkArray","imgLink","SwapAway","itemUserId","itemUser","setItemUser","getItemUser","handleSwapAway","members","newConvo","Alert","sm","Heading","UserItemCommand","itemStatus","handleReserve","handleUnreserve","handleSwap","handleUnswap","showInput","setShowInput","input","setInput","setError","handleKeyDownSwap","parties","itemId","setItem","copyLinkText","setCopyLinkText","getItem","agreementId","handleCopyLink","dummy","document","createElement","text","window","location","href","body","appendChild","select","execCommand","removeChild","marginLeft","Login","usernameRef","useRef","passwordRef","checkCredentials","current","then","handlePassword","userCredential","io","on","emit","loginCall","position","top","left","ref","Conversation","active","lastMessageText","lastMessageTime","online","displayTimeAgo","setDisplayTimeAgo","setUser","format","setInterval","clearInterval","getUser","Message","message","own","pictureLink","show","setShow","createdAt","Chat","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","onlineUsers","setOnlineUsers","currentChatWith","setCurrentChatWith","currentChatWithLastActive","setCurrentChatWithLastActive","scrollRef","initialActiveConvoId","getInitialActiveConvo","sender","senderId","includes","prev","users","chatFollow","f","some","u","getConversations","getMessages","friendId","find","m","getCurrentChatWith","updateLastActive","timeago","newLastActive","lastActive","handleSendMessage","conversationId","updateRes","receiverId","member","handleGenerateAgreement","scrollIntoView","behavior","c","MyGroups","myGroups","setMyGroups","getMyGroups","xl","group","imgFile","setImgFile","showPassword","imgError","setImgError","passwordUpdateValid","setPasswordUpdateValid","handleChangePicture","updatePicture","newProfilePicture","imagePath","newUser","handleSubmitPassword","updatePassword","currentPassword","newPassword","wrongPasswordError","newFile","placeHolder","isValid","checked","GroupSidebar","isGroupMember","showInviteInput","setShowInviteInput","inviteComponent","GroupSharePost","Comment","commentText","commentUserId","commentUser","setCommentUser","getCommentUser","Post","postUser","setPostUser","postComments","setPostComments","postItem","setPostItem","postUserId","getPostUser","getPostComments","getPostItem","likedBy","comment","displayPosts","setDisplayPosts","setGroup","getGroup","getDisplayPosts","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.604ad336.chunk.js","sourcesContent":["import React from 'react';\r\nimport \"./notification.css\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nexport default function Notification() {\r\n    return (\r\n        <div className=\"notiWrapper\">\r\n            <div className=\"notiContainer\">\r\n                <span className=\"notiContainerUsername\">username</span> has invited you to join <span className=\"notiContainerGroupName\">LegoBricks enthusiasts</span>!\r\n            </div>\r\n            <Row className=\"notibuttonGroupWrapper\">\r\n                <Col>\r\n                    <div className=\"acceptButtonWrapper\">\r\n                        <div className=\"acceptButton\">\r\n                            <span className=\"acceptButtonText\">Accept</span>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n                <Col>\r\n                    <div className=\"denyButtonWrapper\">\r\n                        <div className=\"denyButton\">\r\n                            <span className=\"denyButtonText\">Deny</span>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Navbar, Nav, Form, FormControl, Button, DropdownButton, Dropdown } from \"react-bootstrap\";\r\nimport \"./topbar.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { Search, TextsmsOutlined } from \"@material-ui/icons\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport Notification from \"../notification/Notification\";\r\n\r\nexport default function TopBar({ currentUser }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const history = useHistory();\r\n  const [searchText, setSearchText] = useState(\"\");\r\n\r\n  const handleClickHome = () => {\r\n    history.push(\"/home\");\r\n  };\r\n  const handleClickCreate = () => {\r\n    history.push(\"/create\");\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      if ((searchText.match(/^\\s*\\n*\\t*$/) || []).length > 0) {\r\n        console.log(\"search string is empty!\");\r\n      } else {\r\n        history.push(\"/product/search/\" + searchText);\r\n      }\r\n    }\r\n  };\r\n\r\n  const navbarNotificationTitle = (<NotificationsIcon  className=\"userNotificationIcon\" htmlColor=\"orange\"/>);\r\n\r\n  return (\r\n    <Navbar className=\"topbarWrapper fixed-top\" expand=\"lg\">\r\n      <Navbar.Brand onClick={() => handleClickHome()}>\r\n        <img className=\"ReHashLogo\" src={PF + \"ReHashLogo.png\"} alt=\"\" />\r\n        <span className=\"logoText\">ReHash</span>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\" className=\"collapseBar\">\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link className=\"swap\" onClick={() => handleClickCreate()}>\r\n            Swap on ReHash\r\n          </Nav.Link>\r\n          <div className=\"searchbar\">\r\n            <Search className=\"searchIcon\" />\r\n            <input\r\n              placeholder=\"Seach for a swap...\"\r\n              className=\"searchInput\"\r\n              value={searchText}\r\n              onChange={(e) => setSearchText(e.target.value)}\r\n              onKeyDown={handleSearch}\r\n            />\r\n          </div>\r\n          <Link to=\"/chat/0\">\r\n            <TextsmsOutlined className=\"chat\" htmlColor=\"orange\" />\r\n          </Link>\r\n          {/* notification list */}\r\n          <DropdownButton className=\"userNotification\" variant=\"light\" title={navbarNotificationTitle}>\r\n            <div className=\"userNotificationList\">\r\n              <Dropdown.Item><Notification /></Dropdown.Item>\r\n              <Dropdown.Item><Notification /></Dropdown.Item>\r\n              <Dropdown.Item><Notification /></Dropdown.Item>\r\n            </div>\r\n          </DropdownButton>\r\n            {/* <NotificationsIcon className=\"userNotification\" htmlColor=\"orange\"/> */}\r\n          \r\n          <Link\r\n            to={\r\n              currentUser\r\n                ? \"/profile/\" + currentUser.username + \"/listings\"\r\n                : \"/\"\r\n            }\r\n          >\r\n            <img\r\n              className=\"userProfilePic\"\r\n              src={\r\n                currentUser && currentUser.profilePicture\r\n                  ? PF + currentUser.profilePicture\r\n                  : PF + \"person/noAvatar.png\"\r\n              }\r\n              alt=\"userProfile\"\r\n            />\r\n          </Link>\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n    \r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button, Col, Row } from \"react-bootstrap\";\r\nimport {\r\n  Accessibility,\r\n  Face,\r\n  SportsFootball,\r\n  Home,\r\n  DriveEta,\r\n  Redeem,\r\n  Computer,\r\n  Apps,\r\n} from \"@material-ui/icons\";\r\nimport \"./itemlistsTangible.css\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function ItemLists() {\r\n  const responsive = {\r\n    superLargeDesktop: {\r\n      // the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 8,\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 6,\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n    },\r\n  };\r\n  const history = useHistory();\r\n  const handleClick = (category) => {\r\n    history.push(\"/product/categories/\" + category);\r\n  };\r\n  return (\r\n    <Carousel responsive={responsive}>\r\n      <div className=\"item\" onClick={() => handleClick(\"clothing\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Accessibility className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Clothing</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"beauty\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Face className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Beauty</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"sports equipments\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <SportsFootball className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Sports Equipments</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"home appliances\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Home className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Home Appliances</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"automotive\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <DriveEta className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Automotive</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"hobbies\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Redeem className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Hobbies</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"computers and tech\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Computer className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Computers & Tech</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"other tangibles\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Apps className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Others</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Carousel>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./itemlistsIntangible.css\";\r\nimport { Button, Col, Row } from \"react-bootstrap\";\r\nimport {\r\n  OutdoorGrill,\r\n  Room,\r\n  Forum,\r\n  Fastfood,\r\n  BeachAccess,\r\n  SportsHandball,\r\n  SportsEsports,\r\n  Apps,\r\n} from \"@material-ui/icons\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function ItemListsIntangible() {\r\n  const responsive = {\r\n    superLargeDesktop: {\r\n      // the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 8,\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 6,\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n    },\r\n  };\r\n  const history = useHistory();\r\n  const handleClick = (category) => {\r\n    history.push(\"/product/categories/\" + category);\r\n  };\r\n  return (\r\n    <Carousel responsive={responsive}>\r\n      <div className=\"item\" onClick={() => handleClick(\"outdoor activities\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <OutdoorGrill className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Outdoor Activities</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"travel\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Room className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Travel</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"discussion\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Forum className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Discussion</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"food\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Fastfood className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Food</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"indoor activities\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <BeachAccess className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Indoor Activities</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"sports\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <SportsHandball className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Sports</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"games and esports\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <SportsEsports className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Games & Esports</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"other intangibles\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Apps className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Others</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Carousel>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport \"./ads.css\";\r\nimport { Carousel } from \"react-bootstrap\";\r\n\r\nexport default function Ads() {\r\n    return (\r\n        <div>\r\n           <Carousel className=\"adsWrapper\">\r\n                <Carousel.Item interval={3000}>\r\n                    <img\r\n                    className=\"adsPics d-block w-50\"\r\n                    src=\"assests/adsPics/ads1.jpeg\"\r\n                    alt=\"First slide\"\r\n                    />\r\n                </Carousel.Item>\r\n                <Carousel.Item interval={3000}>\r\n                    <img\r\n                    className=\"adsPics d-block w-50\"\r\n                    src=\"/assests/adsPics/ads2.jpeg\"\r\n                    alt=\"Second slide\"\r\n                    />\r\n                </Carousel.Item>\r\n                <Carousel.Item interval={3000}>\r\n                    <img\r\n                    className=\"adsPics d-block w-50\"\r\n                    src=\"/assests/adsPics/ads3.jpeg\"\r\n                    alt=\"Third slide\"\r\n                    />\r\n                </Carousel.Item>\r\n            </Carousel> \r\n        </div>\r\n    )\r\n}\r\n","const AuthReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n        sockio: null,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload.user,\r\n        isFetching: false,\r\n        error: false,\r\n        sockio: action.payload.sock,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: action.payload,\r\n        sockio: null,\r\n      };\r\n    case \"LOGOUT_START\":\r\n      return {\r\n        user: action.payload.user,\r\n        isFetching: true,\r\n        error: false,\r\n        sockio: action.payload.sock,\r\n      };\r\n    case \"LOGOUT_SUCCESS\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: false,\r\n        sockio: null,\r\n      };\r\n    case \"LOGOUT_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: action.payload,\r\n        sockio: null,\r\n      };\r\n    case \"UPDATE\":\r\n      return {\r\n        user: action.payload.user,\r\n        isFetching: false,\r\n        error: false,\r\n        sockio: action.payload.sock,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AuthReducer;\r\n","import { createContext, useReducer } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: null,\r\n  isFetching: false,\r\n  error: false,\r\n  sockio: null,\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        sockio: state.sockio,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./groupIcon.css\";\r\n\r\nexport default function GroupIcon({ groupImg, groupName, groupId }) {\r\n  //should limit to 35-40 characters\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const history = useHistory();\r\n\r\n  const handleClickGroupIcon = () => {\r\n    if (groupId) {\r\n      history.push(\"/groups/\" + groupId + \"/main\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"groupIconButtonBackground\" onClick={handleClickGroupIcon}>\r\n      <img\r\n        className=\"groupIconButtonImg\"\r\n        src={groupImg ? PF + groupImg : PF + \"group.noImageUploaded.png\"}\r\n        alt=\"\"\r\n      />\r\n      <div className=\"groupIconButtonName\">\r\n        {groupName ? groupName : \"No Group Name\"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport \"./groupIconContainer.css\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport GroupIcon from \"../groupIcon/GroupIcon\";\r\n\r\nexport default function GroupIconContainer() {\r\n    const responsive = {\r\n        superLargeDesktop: {\r\n          // the naming can be any, depends on you.\r\n          breakpoint: { max: 4000, min: 3000 },\r\n          items: 8,\r\n        },\r\n        desktop: {\r\n          breakpoint: { max: 3000, min: 1024 },\r\n          items: 6,\r\n        },\r\n        tablet: {\r\n          breakpoint: { max: 1024, min: 464 },\r\n          items: 2,\r\n        },\r\n        mobile: {\r\n          breakpoint: { max: 464, min: 0 },\r\n          items: 1,\r\n        },\r\n      };\r\n\r\n    return (\r\n        <Carousel responsive={responsive}>\r\n            <GroupIcon />\r\n            <GroupIcon />\r\n            <GroupIcon />\r\n            <GroupIcon />\r\n            <GroupIcon />\r\n            <GroupIcon />\r\n            <GroupIcon />\r\n        </Carousel>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport ItemListsTangible from \"../../components/itemlistsTangible/ItemListsTangible\";\r\nimport \"./home.css\";\r\nimport ItemListsIntangible from \"../../components/itemlistsIntangible/ItemListsIntangible\";\r\nimport TrendingSwaps from \"../../components/trendingSwaps/TrendingSwaps\";\r\nimport Ads from \"../../components/ads/Ads\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport GroupIconContainer from \"../../components/groupIconContainer/GroupIconContainer\";\r\n\r\nexport default function Home() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    console.log(\"socket is: \", sockio?.id);\r\n    console.log(\"user is: \", user);\r\n  }, [sockio, user]);\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <Ads />\r\n      <div className=\"homeWrapper\">\r\n        <div className=\"tangible\">\r\n          <div className=\"itemsType\">\r\n            <span>Explore Tangible</span>\r\n          </div>\r\n          <ItemListsTangible />\r\n        </div>\r\n        <div className=\"intangible\">\r\n          <div className=\"itemsType\">\r\n            <span>Explore Intangible {sockio?.id}</span>\r\n          </div>\r\n          <ItemListsIntangible />\r\n        </div>\r\n        <div className=\"recommendedGroups\">\r\n          <div className=\"itemsType\">\r\n            <span>Recommended Groups</span>\r\n          </div>\r\n          <GroupIconContainer />\r\n        </div>\r\n        {/* <div className=\"trendingSwap\">\r\n          <span className=\"trendingSwapHead\">Trending Swaps</span>\r\n          <TrendingSwaps className=\"trendingSwapItems\" />\r\n        </div> */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./register.css\";\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Register() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const handleEmail = async (e) => {\r\n    setEmail(e.target.value);\r\n    try {\r\n      await axios.get(\"/api/users?email=\" + e.target.value);\r\n      e.target.setCustomValidity(\"Email already taken\");\r\n    } catch (err) {\r\n      if (err.response.status === 400) {\r\n        e.target.setCustomValidity(\"\");\r\n      }\r\n    }\r\n  };\r\n  const handleUsername = async (e) => {\r\n    setUsername(e.target.value);\r\n    try {\r\n      await axios.get(\"/api/users?username=\" + e.target.value);\r\n      e.target.setCustomValidity(\"Username already taken\");\r\n    } catch (err) {\r\n      if (err.response.status === 400) {\r\n        e.target.setCustomValidity(\"\");\r\n      }\r\n    }\r\n  };\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value);\r\n    if (e.target.value.length < 6) {\r\n      e.target.setCustomValidity(\"Password must have at least 6 characters\");\r\n    } else {\r\n      e.target.setCustomValidity(\"\");\r\n    }\r\n  };\r\n  const handleConfirmPassword = (e) => {\r\n    console.log(e.target.value);\r\n    setConfirmPassword(e.target.value);\r\n    if (e.target.value !== password) {\r\n      console.log(password);\r\n      console.log(e.target.value);\r\n      e.target.setCustomValidity(\"Passwords don't match!\");\r\n    } else {\r\n      e.target.setCustomValidity(\"\");\r\n    }\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n    console.log(email);\r\n    console.log(username);\r\n    console.log(password);\r\n    console.log(confirmPassword);\r\n    const user = {\r\n      username: username,\r\n      email: email,\r\n      password: password,\r\n    };\r\n    try {\r\n      await axios.post(\"/api/auth/register\", user);\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <div className=\"registerWrapper\">\r\n        <div className=\"registerLeft\">\r\n          <div className=\"registerLeftWrapper  \">\r\n            <div className=\"registerLeftTop \">\r\n              <img\r\n                className=\"registerLeftLogo\"\r\n                src=\"/assests/ReHashLogo.png\"\r\n                alt=\"ReHash logo\"\r\n              />\r\n              <span id=\"registerText\" className=\"registerLeftLogoText \">\r\n                ReHash\r\n              </span>\r\n            </div>\r\n            <span className=\"registerLeftBottom\">\r\n              Excited to embark on you ReHash journey? Sign up now!\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"registerRight\">\r\n          <div className=\"registerRightTop\">\r\n            <Link to=\"/\" className=\"registerBack\">\r\n              <ArrowBackIosIcon />\r\n              <span>Back</span>\r\n            </Link>\r\n          </div>\r\n          <div className=\"registerRightBottom\">\r\n            <div className=\"registerRightHeader\">\r\n              <h2>Register Individual Account!</h2>\r\n              <span className=\"registerRightHeaderText\">\r\n                For the purpose of industry regulations, your details are\r\n                requested\r\n              </span>\r\n            </div>\r\n            <form action=\"\" className=\"registerBox\" onSubmit={handleClick}>\r\n              <span className=\"registerInputLabel\">Your full name *</span>\r\n              <input\r\n                placeholder=\"Enter username\"\r\n                required\r\n                value={username}\r\n                onChange={handleUsername}\r\n                className=\"registerInput\"\r\n              />\r\n              <span className=\"registerInputLabel\">Email address *</span>\r\n              <input\r\n                placeholder=\"Enter email address\"\r\n                required\r\n                value={email}\r\n                onChange={handleEmail}\r\n                type=\"email\"\r\n                className=\"registerInput\"\r\n              />\r\n              <span className=\"registerInputLabel\">Create password *</span>\r\n              <input\r\n                placeholder=\"Enter password with at least 6 characters\"\r\n                required\r\n                value={password}\r\n                onChange={handlePassword}\r\n                type=\"password\"\r\n                className=\"registerInput\"\r\n              />\r\n              <span className=\"registerInputLabel\">Confirm password *</span>\r\n              <input\r\n                placeholder=\"Confirm password\"\r\n                required\r\n                value={confirmPassword}\r\n                onChange={handleConfirmPassword}\r\n                type=\"password\"\r\n                className=\"registerInput\"\r\n              />\r\n              <button className=\"registerButton\" type=\"submit\">\r\n                Register Account\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport \"./sidebar.css\";\r\nimport { Rating } from \"@material-ui/lab\";\r\n\r\nimport {\r\n  CDBSidebar,\r\n  CDBSidebarContent,\r\n  CDBSidebarFooter,\r\n  CDBSidebarHeader,\r\n  CDBSidebarMenu,\r\n  CDBSidebarMenuItem,\r\n} from \"cdbreact\";\r\nimport { LocalMall, SwapVert, ExitToApp, Settings } from \"@material-ui/icons\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function SideBar({ sidebarUser }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const { user, sockio, dispatch } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const handleLogOut = async (e) => {\r\n    e.preventDefault();\r\n    const logoutCall = async (dispatch) => {\r\n      dispatch({ type: \"LOGOUT_START\", payload: { user: user, sock: sockio } });\r\n      try {\r\n        await sockio.disconnect();\r\n        dispatch({ type: \"LOGOUT_SUCCESS\" });\r\n      } catch (err) {\r\n        dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n      }\r\n    };\r\n    await logoutCall(dispatch);\r\n    history.push(\"/\");\r\n    console.log(\"logged out\");\r\n  };\r\n\r\n  const handleListings = () => {\r\n    history.push(\"/profile/\" + sidebarUser?.username + \"/listings\");\r\n    console.log(\"done\");\r\n  };\r\n  const handleReviews = () => {\r\n    history.push(\"/profile/\" + sidebarUser?.username + \"/reviews\");\r\n  };\r\n  const handleSettings = () => {\r\n    history.push(\"/profile/\" + sidebarUser?.username + \"/settings\");\r\n  };\r\n  const handleMyGroups = () => {\r\n    history.push(\"/profile/\" + sidebarUser?.username + \"/mygroups\");\r\n  };\r\n  return (\r\n    <div\r\n      className=\"sidebar\"\r\n      // style={{ display: \"flex\", height: \"100vh\", overflow: \"scroll initial\" }}\r\n    >\r\n      <CDBSidebar textColor=\"black\" backgroundColor=\"#FFD68D\">\r\n        {/* <CDBSidebarMenu className=\"dummyslot\"></CDBSidebarMenu>\r\n        <CDBSidebarMenu className=\"dummyslot\"></CDBSidebarMenu>\r\n        <CDBSidebarMenu className=\"dummyslot\"></CDBSidebarMenu>\r\n        <CDBSidebarMenu className=\"dummyslot\"></CDBSidebarMenu> */}\r\n        <CDBSidebarHeader prefix={<i className=\"fa fa-bars fa-large\"></i>}>\r\n          <img\r\n            className=\"userProfile\"\r\n            src={\r\n              sidebarUser?.profilePicture\r\n                ? PF + sidebarUser.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n            }\r\n            alt=\"\"\r\n          />\r\n        </CDBSidebarHeader>\r\n        <CDBSidebarHeader style={{ textAlign: \"center\" }}>\r\n          <div>{sidebarUser?.username}</div>\r\n          <div className=\"ratings\">\r\n            <div>Ratings: </div>\r\n            <Rating\r\n              value={\r\n                sidebarUser\r\n                  ? sidebarUser.cumulativeRating / sidebarUser.ratedByUsers\r\n                  : 3\r\n              }\r\n              precision={0.1}\r\n              readOnly\r\n            />\r\n          </div>\r\n        </CDBSidebarHeader>\r\n        <CDBSidebarContent>\r\n          <CDBSidebarMenu>\r\n            <CDBSidebarMenuItem\r\n              onClick={handleListings}\r\n              className=\"sidebarMenuItem\"\r\n            >\r\n              <LocalMall className=\"sidebarIcons\" />\r\n              <span className=\"sidebarMenuText\">Listings</span>\r\n            </CDBSidebarMenuItem>\r\n            <CDBSidebarMenuItem\r\n              className=\"sidebarMenuItem\"\r\n              onClick={handleReviews}\r\n            >\r\n              <SwapVert className=\"sidebarIcons\" />\r\n              <span className=\"sidebarMenuText\">Reviews</span>\r\n            </CDBSidebarMenuItem>\r\n            {sidebarUser && sidebarUser._id === user?._id ? (\r\n              <CDBSidebarMenuItem\r\n                className=\"sidebarMenuItem\"\r\n                onClick={handleMyGroups}\r\n              >\r\n                <GroupIcon className=\"sidebarIcons\" />\r\n                <span className=\"sidebarMenuText\">My Groups</span>\r\n              </CDBSidebarMenuItem>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            {/* {sidebarUser && sidebarUser._id === user?._id ? (\r\n              <CDBSidebarMenuItem className=\"sidebarMenuItem\" onClick={handleMyGroups}>\r\n                <GroupIcon className=\"sidebarIcons\"/>\r\n                <span className=\"sidebarMenuText\">My Groups</span>\r\n              </CDBSidebarMenuItem>\r\n            ) : (\r\n              <></>\r\n            )} */}\r\n\r\n            {sidebarUser && sidebarUser._id === user?._id ? (\r\n              <CDBSidebarMenuItem\r\n                className=\"sidebarMenuItem\"\r\n                onClick={handleSettings}\r\n              >\r\n                <Settings className=\"sidebarIcons\" />\r\n                <span className=\"sidebarMenuText\">Settings</span>\r\n              </CDBSidebarMenuItem>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </CDBSidebarMenu>\r\n        </CDBSidebarContent>\r\n        {sidebarUser && sidebarUser._id === user?._id ? (\r\n          <CDBSidebarFooter style={{ textAlign: \"center\" }}>\r\n            <div\r\n              className=\"sidebar-btn-wrapper\"\r\n              style={{ padding: \"20px 5px\" }}\r\n            >\r\n              <ExitToApp className=\"sidebarIcons\" onClick={handleLogOut} />\r\n              <span className=\"sidebarMenuText\" onClick={handleLogOut}>\r\n                Log out\r\n              </span>\r\n            </div>\r\n          </CDBSidebarFooter>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </CDBSidebar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport \"./itemListing.css\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function ItemListing({ item, inPost }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const history = useHistory();\r\n  const handleClickItem = () => {\r\n    history.push(\"/items/\" + item._id);\r\n    // console.log(\"clicked\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(item);\r\n  }, [item]);\r\n  return (\r\n    <div className=\"itemListingWrapper\" onClick={() => handleClickItem()}>\r\n      <Card>\r\n        {inPost ? (\r\n          <>\r\n            <Card.Img src={PF + item?.img[0]} />\r\n            <Card.Body className=\"PostItemBody\">{item?.title}</Card.Body>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Card.Img\r\n              variant=\"top\"\r\n              src={PF + item.img[0]}\r\n              className=\"trendingSwapItemImg\"\r\n            />\r\n\r\n            <Card.Body className=\"trendingSwapItemBody\">\r\n              <Card.Title className=\"itemListingCardTitle\">\r\n                <span style={{ marginRight: \"10px\" }}>{item.title}</span>\r\n                <Chip\r\n                  className=\"tag\"\r\n                  label={item.status === \"waiting\" ? \"available\" : item.status}\r\n                  size=\"small\"\r\n                  color={\r\n                    item.status === \"waiting\"\r\n                      ? \"\"\r\n                      : item.status === \"reserved\"\r\n                      ? \"primary\"\r\n                      : \"secondary\"\r\n                  }\r\n                  style={{\r\n                    marginBottom: \"5px\",\r\n                    marginTop: \"5px\",\r\n                  }}\r\n                />\r\n              </Card.Title>\r\n              <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n              {item.idealSwaps.map((tags) => (\r\n                <Chip\r\n                  key={tags}\r\n                  className=\"tag\"\r\n                  label={tags}\r\n                  size=\"small\"\r\n                  color=\"secondary\"\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n              ))}\r\n\r\n              <Card.Text>{item.desc}</Card.Text>\r\n            </Card.Body>\r\n          </>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Star(props) {\r\n  const { fill = \"none\" } = props;\r\n  return (\r\n    <svg\r\n      class=\"w-6 h-6 star\"\r\n      fill={fill}\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth=\"0\"\r\n        d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\r\n      ></path>\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useMemo } from \"react\";\r\nimport Star from \"../star/Star\";\r\n\r\nexport default function RatingIcon({\r\n  index,\r\n  rating,\r\n  hoverRating,\r\n  onMouseEnter,\r\n  onMouseLeave,\r\n  onSaveRating,\r\n  selected,\r\n  notSelected,\r\n}) {\r\n  const fill = useMemo(() => {\r\n    if (hoverRating >= index) {\r\n      return \"rgb(240, 158, 6)\";\r\n    } else if (!hoverRating && rating >= index) {\r\n      return \"rgb(240, 158, 6)\";\r\n    }\r\n    return \"rgb(145, 144, 144)\";\r\n  }, [rating, hoverRating, index]);\r\n\r\n  return (\r\n    <div\r\n      style={{ height: \"20px\", width: \"20px\" }}\r\n      className=\"cursor-pointer\"\r\n      onMouseEnter={() => onMouseEnter(index)}\r\n      onMouseLeave={() => onMouseLeave()}\r\n      onClick={() => onSaveRating(index)}\r\n    >\r\n      {selected ? (\r\n        <Star fill={\"rgb(240, 158, 6)\"} />\r\n      ) : notSelected ? (\r\n        <Star fill={\"rgb(145, 144, 144)\"} />\r\n      ) : (\r\n        <Star fill={fill} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./userReview.css\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport Star from \"../star/Star\";\r\nimport RatingIcon from \"../RatingIcon/RatingIcon\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { get } from \"mongoose\";\r\nimport axios from \"axios\";\r\n\r\nexport default function UserReview({\r\n  review,\r\n  doneReview,\r\n  handleSubmit,\r\n  handleDelete,\r\n}) {\r\n  const [rating, setRating] = useState(0);\r\n  const [hoverRating, setHoverRating] = useState(0);\r\n  const { user } = useContext(AuthContext);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [reviewer, setReviewer] = useState(null);\r\n  const [reviewText, setReviewText] = useState(\"\");\r\n\r\n  //set the reviewer\r\n  useEffect(() => {\r\n    const getReviewUser = async () => {\r\n      const res = await axios.get(\"/api/users?userId=\" + review.reviewerId);\r\n      setReviewer(res.data);\r\n    };\r\n    if (review) {\r\n      getReviewUser();\r\n    }\r\n  }, [review]);\r\n\r\n  const onMouseEnter = (index) => {\r\n    if (!doneReview) {\r\n      setHoverRating(index);\r\n      console.log(\"hover rating is: \" + index);\r\n    }\r\n  };\r\n\r\n  const onMouseLeave = () => {\r\n    if (!doneReview) {\r\n      setHoverRating(0);\r\n    }\r\n  };\r\n\r\n  const onSaveRating = (index) => {\r\n    if (!doneReview) {\r\n      setRating(index);\r\n      console.log(\"your rating is: \" + index);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"userReview\">\r\n      <div className=\"userReviewTop\">\r\n        <img\r\n          src={\r\n            doneReview\r\n              ? reviewer && reviewer.profilePicture\r\n                ? PF + reviewer.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n              : user && user.profilePicture\r\n              ? PF + user.profilePicture\r\n              : PF + \"person/noAvatar.png\"\r\n          }\r\n          alt=\"\"\r\n          className=\"userReviewImg\"\r\n        />\r\n        <div className=\"userReviewTopMiddle\">\r\n          <div className=\"userReviewTopMiddleName\">\r\n            {doneReview\r\n              ? reviewer?.username\r\n              : user\r\n              ? user.username\r\n              : \"Anonymous\"}\r\n          </div>\r\n          <div className=\"userReviewTopMiddleRatings\">\r\n            <div className=\"userReviewTopMiddleRatingsText\">Ratings: </div>\r\n            <div className=\"userReviewRatingStars\">\r\n              {review\r\n                ? [1, 2, 3, 4, 5].map((index) => {\r\n                    return (\r\n                      <RatingIcon\r\n                        index={index}\r\n                        rating={rating}\r\n                        hoverRating={hoverRating}\r\n                        onMouseEnter={onMouseEnter}\r\n                        onMouseLeave={onMouseLeave}\r\n                        onSaveRating={onSaveRating}\r\n                        selected={review.rating >= index}\r\n                        notSelected={review.rating < index}\r\n                      />\r\n                    );\r\n                  })\r\n                : [1, 2, 3, 4, 5].map((index) => {\r\n                    return (\r\n                      <RatingIcon\r\n                        index={index}\r\n                        rating={rating}\r\n                        hoverRating={hoverRating}\r\n                        onMouseEnter={onMouseEnter}\r\n                        onMouseLeave={onMouseLeave}\r\n                        onSaveRating={onSaveRating}\r\n                      />\r\n                    );\r\n                  })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"userReviewTopRight\">\r\n          {doneReview ? (\r\n            review.reviewerId === user?._id ? (\r\n              <button\r\n                className=\"userReviewSubmitButton\"\r\n                onClick={() => handleDelete(review)}\r\n              >\r\n                Delete\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )\r\n          ) : (\r\n            <button\r\n              className=\"userReviewSubmitButton\"\r\n              onClick={() => handleSubmit(reviewText, rating)}\r\n            >\r\n              Submit\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"userReviewBottom\">\r\n        {doneReview ? (\r\n          <div className=\"userReviewedText\">{review.reviewText}</div>\r\n        ) : (\r\n          <textarea\r\n            placeholder=\"(Optional) Leave a review ...\"\r\n            className=\"userReviewInput\"\r\n            value={reviewText}\r\n            onChange={(e) => setReviewText(e.target.value)}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./userlisting.css\";\r\nimport { Row, Container } from \"react-bootstrap\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport ItemListing from \"../../components/itemListing/ItemListing\";\r\nimport { Paper, Tabs, Tab } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport UserReview from \"../../components/userReview/UserReview\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function UserListing() {\r\n  const { user, sockio } = useContext(AuthContext); //this user is currentUser\r\n  const username = useParams().username;\r\n  // const subpage = useParams().subpage;\r\n  const [displayItems, setDisplayItems] = useState([]);\r\n  const [viewingCategory, setViewingCategory] = useState(\"tangibles\");\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [tabValue, setTabValue] = useState(0);\r\n\r\n  useEffect(() => {\r\n    console.log(\"socket is: \", sockio?.id);\r\n    console.log(\"username is: \", username);\r\n    // console.log(\"subpage is:\", subpage);\r\n  }, [sockio, username]);\r\n\r\n  useEffect(() => {\r\n    const getProfileUser = async () => {\r\n      if (username) {\r\n        const res = await axios.get(\"/api/users?username=\" + username);\r\n        setProfileUser(res.data);\r\n        console.log(\"profileUser is: \" + res.data);\r\n      }\r\n    };\r\n    getProfileUser();\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    const getDisplayItems = async () => {\r\n      if (profileUser) {\r\n        const res = await axios.get(\r\n          \"/api/items/categories?categoryName=\" +\r\n            viewingCategory +\r\n            \"&userId=\" +\r\n            profileUser._id\r\n        );\r\n        setDisplayItems(res.data);\r\n        //console.log(res.data);\r\n      }\r\n    };\r\n    getDisplayItems();\r\n  }, [viewingCategory, profileUser]);\r\n\r\n  const handleClickTangible = () => {\r\n    setViewingCategory(\"tangibles\");\r\n    setTabValue(0);\r\n  };\r\n\r\n  const handleClickIntangible = () => {\r\n    setViewingCategory(\"intangibles\");\r\n    setTabValue(1);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"userlistingContainer\">\r\n        <SideBar className=\"sidebar\" sidebarUser={profileUser} />\r\n        <div className=\"userListingsRight\">\r\n          <Container className=\"userlistingWrapper\">\r\n            <div className=\"tabBar\">\r\n              <Paper margin={200} style={{ marginBottom: \"10px\" }}>\r\n                <Tabs\r\n                  value={tabValue}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  centered\r\n                >\r\n                  <Tab label=\"Tangible\" onClick={handleClickTangible} />\r\n                  <Tab label=\"Intangible\" onClick={handleClickIntangible} />\r\n                </Tabs>\r\n              </Paper>\r\n            </div>\r\n            <Row className=\"listingRow\" xs={1} md={3}>\r\n              {displayItems.length ? (\r\n                displayItems.map((item) => (\r\n                  <ItemListing key={item._id} item={item} />\r\n                ))\r\n              ) : (\r\n                <div>User does not have any item in this category</div>\r\n              )}\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./review.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport UserReview from \"../../components/userReview/UserReview\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst cheeseCakeReview = {\r\n  _id: \"60cb421ce5ae38aaf0c6ec7b\",\r\n  reviewerId: \"60bf21abb893706a58752ecf\",\r\n  revieweeId: \"60bf2195b893706a58752ece\",\r\n  rating: 4,\r\n  reviewText:\r\n    \"The cheese baked rice session I attended was awesome! Punpun is very patient and handheld me throughout the whole session. I'm satisfied with my homemade cheese baked rice!\",\r\n  createdAt: \"2021-06-17T12:37:48.610Z\",\r\n  updatedAt: \"2021-06-17T12:37:48.610Z\",\r\n  __v: 0,\r\n};\r\n\r\nconst punpunReviewBing = {\r\n  _id: \"60ca10cf56bca394fc060b94\",\r\n  reviewerId: \"60bf2195b893706a58752ece\",\r\n  revieweeId: \"60bf21abb893706a58752ecf\",\r\n  rating: 4,\r\n  reviewText: \"The user is very patient and I find the swap very worthwhile\",\r\n  createdAt: \"2021-06-17T12:37:48.610Z\",\r\n  updatedAt: \"2021-06-17T12:37:48.610Z\",\r\n  __v: 0,\r\n};\r\n\r\nexport default function Review() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const username = useParams().username;\r\n  const [reviews, setReviews] = useState([]);\r\n  const [alreadyReviewed, setAlreadyReviewed] = useState(false);\r\n  const [myReview, setMyReview] = useState([]); //the review by the currentUser on the profileUser\r\n  const [initialCumRating, setInitialCumRating] = useState(0);\r\n  const [initialRatedBy, setInitialRatedBy] = useState(0);\r\n  //get the profile user of this page\r\n  useEffect(() => {\r\n    const getProfileUser = async () => {\r\n      if (username) {\r\n        const res = await axios.get(\"/api/users?username=\" + username);\r\n        setProfileUser(res.data);\r\n        console.log(\"profileUser is: \" + res.data);\r\n      }\r\n    };\r\n    getProfileUser();\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"user is changed\");\r\n    console.log(user);\r\n  }, [user]);\r\n\r\n  //get all the reviews of this profileUser\r\n  useEffect(() => {\r\n    console.log(user);\r\n    const getReviews = async () => {\r\n      const res = await axios.get(\r\n        \"/api/reviews/profileUser/\" + profileUser._id\r\n      );\r\n      const filterMyReview = res.data.filter(\r\n        //filter away reviews made by currentUser\r\n        (review) => review.reviewerId !== user?._id\r\n      );\r\n      setReviews(filterMyReview);\r\n      console.log(filterMyReview);\r\n    };\r\n    if (profileUser) {\r\n      getReviews();\r\n      setInitialCumRating(profileUser.cumulativeRating);\r\n      setInitialRatedBy(profileUser.ratedByUsers);\r\n    }\r\n  }, [profileUser, user]);\r\n\r\n  //set alreadyReviewed intially based on currentUser and profileUser\r\n  useEffect(() => {\r\n    const getAlreadyReviewed = async () => {\r\n      if (!user || !profileUser || profileUser._id === user._id) {\r\n        setAlreadyReviewed(true); //set to true so we cannot review the profileUser\r\n      } else {\r\n        const res = await axios.get(\r\n          \"/api/reviews/between/\" + profileUser._id + \"/\" + user._id\r\n        );\r\n        if (res.data.length > 0) {\r\n          setAlreadyReviewed(true);\r\n          setMyReview(res.data);\r\n          console.log(res.data);\r\n        } else {\r\n          setAlreadyReviewed(false);\r\n        }\r\n      }\r\n    };\r\n    getAlreadyReviewed();\r\n  }, [profileUser, user]);\r\n\r\n  //handleSubmit if a review is added\r\n  const handleSubmit = async (reviewText, rating) => {\r\n    if (!alreadyReviewed && rating > 0) {\r\n      console.log(\"reviewText is: \" + reviewText + \"\\n rating is: \" + rating);\r\n      const newReview = {\r\n        reviewerId: user._id,\r\n        revieweeId: profileUser._id,\r\n        rating: rating,\r\n        reviewText: reviewText,\r\n      };\r\n      const res = await axios.post(\"/api/reviews\", newReview);\r\n      setMyReview([...myReview, res.data]);\r\n      setAlreadyReviewed(true);\r\n      //also update ratings of profileUser\r\n      const updateRatingRes = await axios.put(\"/api/users/\" + profileUser._id, {\r\n        cumulativeRating: initialCumRating + rating,\r\n        ratedByUsers: initialRatedBy + 1,\r\n      });\r\n      setInitialCumRating(initialCumRating + rating);\r\n      setInitialRatedBy(initialRatedBy + 1);\r\n    }\r\n  };\r\n\r\n  //handleDelete if own rating is deleted\r\n  const handleDelete = async (review) => {\r\n    if (alreadyReviewed) {\r\n      console.log(review);\r\n      const res = await axios.delete(\"/api/reviews/id/\" + review._id);\r\n      console.log(res.status);\r\n      console.log(typeof res.status);\r\n      setMyReview([]);\r\n      setAlreadyReviewed(false);\r\n      const updateRatingRes = await axios.put(\"/api/users/\" + profileUser._id, {\r\n        cumulativeRating: initialCumRating - review.rating,\r\n        ratedByUsers: initialRatedBy - 1,\r\n      });\r\n      setInitialCumRating(initialCumRating - review.rating);\r\n      setInitialRatedBy(initialRatedBy - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"userReviewsContainer\">\r\n        <SideBar sidebarUser={profileUser} />\r\n        <div className=\"userReviewsRight\">\r\n          <Container className=\"userReviewsWrapper\">\r\n            <span className=\"userReviewsHeader\">Reviews</span>\r\n            {alreadyReviewed ? (\r\n              <></>\r\n            ) : (\r\n              <UserReview\r\n                className=\"userReview\"\r\n                doneReview={false}\r\n                handleSubmit={handleSubmit}\r\n                handleDelete={handleDelete}\r\n              />\r\n            )}\r\n            {myReview.map((review) => (\r\n              <UserReview\r\n                className=\"userReview\"\r\n                key={review._id}\r\n                review={review}\r\n                doneReview={true}\r\n                handleSubmit={handleSubmit}\r\n                handleDelete={handleDelete}\r\n              />\r\n            ))}\r\n            {reviews.map((review) => (\r\n              <UserReview\r\n                className=\"userReview\"\r\n                key={review._id}\r\n                review={review}\r\n                doneReview={true}\r\n                handleSubmit={handleSubmit}\r\n                handleDelete={handleDelete}\r\n              />\r\n            ))}\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./product.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport ItemListing from \"../../components/itemListing/ItemListing\";\r\nimport { ArrowBackIos } from \"@material-ui/icons\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Product() {\r\n  const categoryName = useParams().categoryName;\r\n  const pageType = useParams().pageType;\r\n  const [items, setItems] = useState([]);\r\n  const { user, sockio } = useContext(AuthContext);\r\n  useEffect(() => {\r\n    console.log(\"categoryName is: \" + categoryName);\r\n    console.log(\"pageType is \" + pageType);\r\n    const getItems = async () => {\r\n      try {\r\n        if (pageType === \"categories\" && categoryName) {\r\n          const res = await axios.get(\r\n            \"/api/items/categories?categoryName=\" + categoryName\r\n          );\r\n          await setItems(res.data);\r\n        } else if (pageType === \"search\" && categoryName) {\r\n          const res = await axios.get(\"/api/items?search=\" + categoryName);\r\n          await setItems(res.data);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getItems();\r\n  }, [categoryName, pageType]);\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n\r\n      <div className=\"productWrapper\">\r\n        {/*<div className=\"backArrow\">\r\n          <ArrowBackIos />\r\n          <span>Back</span>\r\n        </div> */}\r\n        <span className=\"productHeader\">\r\n          {pageType === \"search\"\r\n            ? \"Search results for: \" + categoryName\r\n            : pageType === \"categories\" && categoryName\r\n            ? categoryName.charAt(0).toUpperCase() + categoryName.slice(1)\r\n            : \"Product Descrption Header\"}\r\n        </span>\r\n        <Row className=\"listingRow\" lg={3} md={2} s={1}>\r\n          {items.map((item) => (\r\n            <div>\r\n              <ItemListing key={item._id} item={item} />\r\n            </div>\r\n          ))}\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  useContext,\r\n} from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport \"./createListing.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport { Form, Button, Card, Row, Col } from \"react-bootstrap\";\r\nimport AddPhotoAlternateOutlinedIcon from \"@material-ui/icons/AddPhotoAlternateOutlined\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 500,\r\n    \"& > * + *\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n}));\r\n\r\nconst baseStyle = {\r\n  flex: 1,\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  padding: \"20px\",\r\n  borderWidth: 2,\r\n  borderRadius: 2,\r\n  borderColor: \"#eeeeee\",\r\n  borderStyle: \"dashed\",\r\n  backgroundColor: \"#fafafa\",\r\n  color: \"#bdbdbd\",\r\n  outline: \"none\",\r\n  transition: \"border .24s ease-in-out\",\r\n};\r\n\r\nconst activeStyle = {\r\n  borderColor: \"#2196f3\",\r\n};\r\n\r\nconst acceptStyle = {\r\n  borderColor: \"#00e676\",\r\n};\r\n\r\nconst rejectStyle = {\r\n  borderColor: \"#ff1744\",\r\n};\r\n\r\nexport default function CreateListing() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const classes = useStyles();\r\n  const category = [\r\n    { title: \"Clothing\" },\r\n    { title: \"Beauty\" },\r\n    { title: \"Sports Equipments\" },\r\n    { title: \"Home Appliances\" },\r\n    { title: \"Automotive\" },\r\n    { title: \"Clothing\" },\r\n    { title: \"Hobbies\" },\r\n    { title: \"Computers and Tech\" },\r\n    { title: \"Outdoor Activities\" },\r\n    { title: \"Travel\" },\r\n    { title: \"Discussion\" },\r\n    { title: \"Food\" },\r\n    { title: \"Indoor Activities\" },\r\n    { title: \"Sports\" },\r\n    { title: \"Games and Esports\" },\r\n    { title: \"Others\" },\r\n  ];\r\n\r\n  //Below is code for the Dropzone\r\n  const [files, setFiles] = useState([]);\r\n  const [form, setForm] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [idealCategories, setIdealCategories] = useState([]);\r\n  const [swapCategories, setSwapCategories] = useState([]);\r\n\r\n  //When file is dropped, set the new array of files based on different conditions\r\n  const onDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      if (!!errors[\"images\"]) {\r\n        setErrors({\r\n          ...errors,\r\n          images: null,\r\n        });\r\n      }\r\n      const newFiles = acceptedFiles.map((file) =>\r\n        Object.assign(file, {\r\n          preview: URL.createObjectURL(file),\r\n          customFileName: Date.now().toString().concat(file.name),\r\n        })\r\n      );\r\n      var allFiles = [...files, ...newFiles];\r\n      console.log(allFiles);\r\n      console.log(allFiles.length);\r\n      if (allFiles.length > 6) {\r\n        allFiles = allFiles.slice(allFiles.length - 6, allFiles.length);\r\n        console.log(allFiles);\r\n      }\r\n      setFiles(allFiles);\r\n    },\r\n    [errors, files]\r\n  );\r\n\r\n  //The useDropzone hook\r\n  const {\r\n    getRootProps,\r\n    getInputProps,\r\n    isDragActive,\r\n    isDragAccept,\r\n    isDragReject,\r\n  } = useDropzone({\r\n    accept: \"image/*\",\r\n    onDrop: onDrop,\r\n    maxFiles: 6,\r\n  });\r\n\r\n  //setting style for the dropzone\r\n  const style = useMemo(\r\n    () => ({\r\n      ...baseStyle,\r\n      ...(isDragActive ? activeStyle : {}),\r\n      ...(isDragAccept ? acceptStyle : {}),\r\n      ...(isDragReject ? rejectStyle : {}),\r\n    }),\r\n    [isDragActive, isDragReject, isDragAccept]\r\n  );\r\n\r\n  //previews of the images uploaded\r\n  const thumbs = files.map((file) => (\r\n    <div className=\"thumb\" key={file.customFileName}>\r\n      <img src={file.preview} className=\"userSwapImg\" alt=\"\" />\r\n    </div>\r\n  ));\r\n\r\n  useEffect(\r\n    () => () => {\r\n      // Make sure to revoke the data uris to avoid memory leaks\r\n      files.forEach((file) => URL.revokeObjectURL(file.preview));\r\n    },\r\n    [files]\r\n  );\r\n\r\n  //Below is for Form Control\r\n\r\n  const setField = (field, value) => {\r\n    setForm({\r\n      ...form,\r\n      [field]: value,\r\n    });\r\n\r\n    //if error exists, remove them from the error object\r\n    if (!!errors[field]) {\r\n      setErrors({\r\n        ...errors,\r\n        [field]: null,\r\n      });\r\n    }\r\n  };\r\n\r\n  const findFormErrors = () => {\r\n    const { title, description, tangible } = form;\r\n    const newErrors = {};\r\n\r\n    //title error\r\n    if (!title || title === \"\") {\r\n      newErrors.title = \"title cannot be blank!\";\r\n    } else if (title.length > 50) {\r\n      newErrors.title = \"title cannot be more than 50 characters\";\r\n    }\r\n\r\n    //description error\r\n    if (!description || description === \"\") {\r\n      newErrors.description = \"description cannot be blank!\";\r\n    } else if (description.length > 500) {\r\n      newErrors.description = \"description cannot be more than 500 characters\";\r\n    }\r\n\r\n    //Tangibles of intangibles not selected\r\n    if (!tangible || tangible === \"\") {\r\n      newErrors.tangible =\r\n        \"specify whether your item is tangible or intangible!\";\r\n    }\r\n\r\n    //Swap category errors\r\n    if (!swapCategories || swapCategories.length === 0) {\r\n      newErrors.swapCategories = \"select at least 1 category!\";\r\n    }\r\n\r\n    //Ideal swap category errors\r\n    if (!idealCategories || idealCategories.length === 0) {\r\n      newErrors.idealCategories = \"select at least 1 category!\";\r\n    }\r\n\r\n    //Check for images\r\n    if (files.length === 0) {\r\n      newErrors.images = \"you have to upload at least 1 image!\";\r\n    }\r\n\r\n    return newErrors;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newErrors = findFormErrors();\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      console.log(newErrors);\r\n    } else {\r\n      var newItemSwapCat = swapCategories.map((categoryObject) =>\r\n        categoryObject.title.toLowerCase()\r\n      );\r\n      newItemSwapCat = [...newItemSwapCat, form.tangible];\r\n      const newItemIdealSwap = idealCategories.map((categoryObject) =>\r\n        categoryObject.title.toLowerCase()\r\n      );\r\n\r\n      const data = new FormData();\r\n      for (let i = 0; i < files.length; i += 1) {\r\n        data.append(\"file\", files[i]);\r\n        data.append(\"name\", files[i].customFileName);\r\n        console.log(\"customFileName is: \" + files[i].customFileName);\r\n        console.log(typeof files[i].customFileName);\r\n      }\r\n\r\n      console.log(data);\r\n      const uploadFileRes = await axios.post(\"/api/upload/items\", data);\r\n      if (uploadFileRes.status === 200) {\r\n        const newItem = {\r\n          userId: user._id,\r\n          title: form.title,\r\n          desc: form.description,\r\n          img: uploadFileRes.data.imagePaths,\r\n          categories: newItemSwapCat,\r\n          idealSwaps: newItemIdealSwap,\r\n          status: \"waiting\",\r\n        };\r\n        console.log(newItem);\r\n        const res = await axios.post(\"/api/items\", newItem);\r\n        console.log(res.data);\r\n      }\r\n\r\n      setFiles([]);\r\n      setForm({\r\n        tangible: \"\",\r\n      });\r\n      setIdealCategories([]);\r\n      setSwapCategories([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"createListingContainer\">\r\n        <div className=\"createListingHeader\">\r\n          <span>Make your swap today!</span>\r\n        </div>\r\n\r\n        {/* /* for uploading of images */}\r\n        <Row className=\"createListingContent\">\r\n          <Col xs={6}>\r\n            <Card className=\"uploadImagesCard shadow p-3 mb-5 bg-white rounded\">\r\n              <Card.Body>\r\n                <h5 className=\"uploadImagesCardHeader\">\r\n                  Drag and Drop images here\r\n                </h5>\r\n                <h6 className=\"uploadImagesCardSubHeader\">\r\n                  or click to upload\r\n                </h6>\r\n                <Form>\r\n                  <Form.Group controlId=\"images\">\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      style={{ display: \"none\" }}\r\n                      isInvalid={!!errors.images}\r\n                    />\r\n                    <div className=\"swapImgDragAndDropWrapper\">\r\n                      <section className=\"container\">\r\n                        <div\r\n                          {...getRootProps({ style })}\r\n                          className=\"dragAndDropDiv\"\r\n                        >\r\n                          <input {...getInputProps()} />\r\n                          <p>\r\n                            <AddPhotoAlternateOutlinedIcon fontSize=\"large\" />\r\n                          </p>\r\n                          <p>Drop away your swap images...</p>\r\n                        </div>\r\n                        <aside className=\"thumbsContainer\">{thumbs}</aside>\r\n                      </section>\r\n                    </div>\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                      {errors.images}\r\n                    </Form.Control.Feedback>\r\n                  </Form.Group>\r\n                </Form>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n\r\n          <Col xs={6} className=\"createListingContentRight\">\r\n            <Form className=\"formWrapper\">\r\n              <Form.Group controlId=\"title\">\r\n                <Form.Label>Title</Form.Label>\r\n                <Form.Control\r\n                  className=\"swapAwayFormControl\"\r\n                  type=\"text\"\r\n                  maxlength=\"50\"\r\n                  placeholder=\"Enter your swap title\"\r\n                  value={form.title ? form.title : \"\"}\r\n                  onChange={(e) => setField(\"title\", e.target.value)}\r\n                  isInvalid={!!errors.title}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.title}\r\n                </Form.Control.Feedback>\r\n                <Form.Text className=\"text-muted\">\r\n                  Create an interesting title for your swap!\r\n                </Form.Text>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"description\">\r\n                <Form.Label>Description</Form.Label>\r\n                <Form.Control\r\n                  className=\"swapAwayFormControl\"\r\n                  as=\"textarea\"\r\n                  maxlength=\"500\"\r\n                  rows={3}\r\n                  value={form.description ? form.description : \"\"}\r\n                  placeholder=\"Describe your swap\"\r\n                  onChange={(e) => setField(\"description\", e.target.value)}\r\n                  isInvalid={!!errors.description}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.description}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"tangible\">\r\n                <Form.Label>Is your item Tangible or Intangible?</Form.Label>\r\n                <Form.Control\r\n                  className=\"swapAwayFormControl\"\r\n                  as=\"select\"\r\n                  value={form.tangible}\r\n                  onChange={(e) => setField(\"tangible\", e.target.value)}\r\n                  isInvalid={!!errors.tangible}\r\n                >\r\n                  <option value=\"\" disabled hidden selected>\r\n                    Select category:\r\n                  </option>\r\n                  {/*The tangibles and intangibles spelling must be exactly like this for the database*/}\r\n                  <option value=\"tangibles\">Tangible</option>\r\n                  <option value=\"intagibles\">Intangible</option>\r\n                </Form.Control>\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.tangible}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"swapCategories\">\r\n                <Form.Label>What is your swap category?</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  style={{ display: \"none\" }}\r\n                  isInvalid={!!errors.swapCategories}\r\n                />\r\n                <div className={classes.root}>\r\n                  <Autocomplete\r\n                    multiple\r\n                    limitTags={2}\r\n                    id=\"multiple-limit-tags\"\r\n                    options={category}\r\n                    value={swapCategories}\r\n                    getOptionLabel={(option) => option.title}\r\n                    onChange={(e, newValue) => {\r\n                      if (!!errors[\"swapCategories\"]) {\r\n                        setErrors({ ...errors, swapCategories: null });\r\n                      }\r\n                      setSwapCategories(newValue);\r\n                      console.log(newValue);\r\n                    }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        variant=\"outlined\"\r\n                        label=\"Select categories\"\r\n                      />\r\n                    )}\r\n                  />\r\n                </div>\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.swapCategories}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"idealCategories\">\r\n                <Form.Label>What is your ideal swap?</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  style={{ display: \"none\" }}\r\n                  isInvalid={!!errors.idealCategories}\r\n                />\r\n                <div className={classes.root}>\r\n                  <Autocomplete\r\n                    multiple\r\n                    limitTags={2}\r\n                    id=\"multiple-limit-tags2\"\r\n                    options={category}\r\n                    value={idealCategories}\r\n                    getOptionLabel={(option) => option.title}\r\n                    onChange={(e, newValue) => {\r\n                      if (!!errors[\"idealCategories\"]) {\r\n                        setErrors({ ...errors, idealCategories: null });\r\n                      }\r\n                      setIdealCategories(newValue);\r\n                      console.log(newValue);\r\n                    }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        variant=\"outlined\"\r\n                        label=\"Select ideal swaps\"\r\n                      />\r\n                    )}\r\n                  />\r\n                </div>\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.idealCategories}\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n              <Button\r\n                className=\"postButton\"\r\n                variant=\"warning\"\r\n                onClick={handleSubmit}\r\n              >\r\n                Post Swap\r\n              </Button>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport \"./singleItem.css\";\r\n//option1\r\n// import Carousel from \"react-multi-carousel\";\r\n//option2\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\n\r\nexport default function SingleItem({ imgLinkArray }) {\r\n  //if you want to show all pictures in 1 line\r\n  const responsive = {\r\n    superLargeDesktop: {\r\n      //the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 8,\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 6,\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n    },\r\n  };\r\n\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  // const images = ['/assests/singleItemPics/keychronK2Pic1.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic2.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic3.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic3.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic1.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic2.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic3.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic3.jpg',\r\n  //                 ];\r\n  // return (\r\n  //     <div>\r\n\r\n  //        <Carousel\r\n  //   ssr\r\n  //   partialVisbile\r\n  // //   deviceType={deviceType}\r\n  //   itemClass=\"image-item\"\r\n  //   responsive={responsive}\r\n  // >\r\n  //   {images.slice(0, ).map((image, index) => {\r\n  //     return (\r\n  //       <div key={index} style={{ position: \"relative\" }}>\r\n  //         <img\r\n  //           draggable={false}\r\n  //           alt=\"text\"\r\n  //           style={{ width: \"100%\", height: \"100%\" }}\r\n  //           src={image}\r\n  //         />\r\n  //       </div>\r\n  //     );\r\n  //   })}\r\n  // </Carousel>\r\n  //     </div>\r\n\r\n  //if you want to show carousel in just 1 image\r\n\r\n  useEffect(() => {\r\n    console.log(imgLinkArray);\r\n  }, [imgLinkArray]);\r\n  return (\r\n    <div className=\"singleItemWrapper\">\r\n      <Carousel responsive={responsive}>\r\n        {imgLinkArray?.map((imgLink) => (\r\n          <Carousel.Item>\r\n            <img\r\n              className=\"singleItemCarouselItemImg\"\r\n              src={PF + imgLink}\r\n              alt=\"\"\r\n            />\r\n          </Carousel.Item>\r\n        ))}\r\n\r\n        {/* <Carousel.Item>\r\n          <img\r\n            className=\"singleItemCarouselItemImg\"\r\n            src=\"/assests/singleItemPics/keychronK2Pic2.jpg\"\r\n            alt=\"\"\r\n          />\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"singleItemCarouselItemImg\"\r\n            src=\"/assests/singleItemPics/keychronK2Pic3.jpg\"\r\n            alt=\"\"\r\n          />\r\n        </Carousel.Item> */}\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./swapAway.css\";\r\nimport { Alert, Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport { TextsmsOutlined } from \"@material-ui/icons\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function SwapAway({ itemUserId }) {\r\n  //if delete, go back to listings page\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [itemUser, setItemUser] = useState(null);\r\n  const history = useHistory();\r\n  const { user } = useContext(AuthContext);\r\n  useEffect(() => {\r\n    const getItemUser = async () => {\r\n      if (itemUserId) {\r\n        const res = await axios.get(\"/api/users?userId=\" + itemUserId);\r\n        setItemUser(res.data);\r\n        console.log(\"itemUser is: \" + res.data);\r\n      }\r\n    };\r\n    getItemUser();\r\n  }, [itemUserId]);\r\n\r\n  const handleSwapAway = async () => {\r\n    if (!user) {\r\n      history.push(\"/\");\r\n      console.log(\"pushed to login\");\r\n    } else {\r\n      const res = await axios.get(\r\n        \"/api/conversations/find/\" + user._id + \"/\" + itemUserId\r\n      );\r\n      if (res.data.length > 0) {\r\n        history.push(\"/chat/\" + res.data[0]._id);\r\n        console.log(\"pushed to chat id:\" + res.data[0]._id);\r\n      } else {\r\n        const newConvo = await axios.post(\"/api/conversations\", {\r\n          members: [itemUserId, user._id],\r\n        });\r\n        //chatFollow is not used for now\r\n        history.push(\"/chat/\" + newConvo._id); //likely works but needs to be tested\r\n        console.log(newConvo.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Alert className=\"swapAwayPrompt\">\r\n        <Container>\r\n          <Row>\r\n            <Col sm={2}>\r\n              <img\r\n                className=\"swapAwayUserImg\"\r\n                src={\r\n                  itemUser && itemUser.profilePicture\r\n                    ? PF + itemUser.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                onClick={() => {\r\n                  itemUser &&\r\n                    history.push(\"/profile/\" + itemUser.username + \"/listings\");\r\n                }}\r\n                alt=\"\"\r\n              />\r\n            </Col>\r\n            <Col sm={10}>\r\n              <Alert.Heading\r\n                className=\"swapAwayUsername\"\r\n                style={{ fontSize: \"1rem\" }}\r\n              >\r\n                {itemUser ? itemUser.username : \"\"}\r\n              </Alert.Heading>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n\r\n        <Button\r\n          className=\"swapAwayButton\"\r\n          variant=\"warning\"\r\n          onClick={handleSwapAway}\r\n        >\r\n          <div className=\"swapAwayButtonTextGroup\">\r\n            <TextsmsOutlined />\r\n            <span className=\"swapAwayButtonText\">Swap Away!</span>\r\n          </div>\r\n        </Button>\r\n      </Alert>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./userItemCommand.css\";\r\nimport { Alert, Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport VerifiedUserIcon from \"@material-ui/icons/VerifiedUser\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport axios from \"axios\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function UserItemCommand({\r\n  itemUserId,\r\n  itemStatus,\r\n  handleReserve,\r\n  handleUnreserve,\r\n  handleSwap,\r\n  handleUnswap,\r\n  handleDelete,\r\n}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [itemUser, setItemUser] = useState(null);\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [input, setInput] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const getItemUser = async () => {\r\n      if (itemUserId) {\r\n        const res = await axios.get(\"/api/users?userId=\" + itemUserId);\r\n        setItemUser(res.data);\r\n        console.log(\"itemUser is: \" + res.data);\r\n      }\r\n    };\r\n    getItemUser();\r\n  }, [itemUserId]);\r\n\r\n  const handleKeyDownSwap = async (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      console.log(\"user pressed enter key and the value is: \" + input);\r\n      if (input !== \"\") {\r\n        console.log(\"input is not empty\");\r\n        try {\r\n          const res = await axios.get(\"/api/agreements?id=\" + input);\r\n          if (!res || res.status !== 200 || !res.data) {\r\n            console.log(\"Error 1\");\r\n            setError(\"Agreement does not exist!\");\r\n          } else if (\r\n            res.data.parties.length >= 2 ||\r\n            res.data.items.length >= 2\r\n          ) {\r\n            console.log(\"Error 2\");\r\n            setError(\"This agreement id already involves 2 parties or 2 items\");\r\n          } else {\r\n            handleSwap(res.data._id);\r\n            setInput(\"\");\r\n            setShowInput(false);\r\n          }\r\n        } catch (err) {\r\n          console.log(\"Error 1\");\r\n          setError(\"Agreement does not exist!\");\r\n        }\r\n      } else {\r\n        console.log(\"input empty!\");\r\n        setError(\"Agreement code cannot be empty!\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Alert className=\"userItemCommandPrompt\">\r\n        <Container>\r\n          <Row>\r\n            <Col sm={2}>\r\n              <img\r\n                className=\"userItemCommandUserImg\"\r\n                src={\r\n                  itemUser && itemUser.profilePicture\r\n                    ? PF + itemUser.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                onClick={() => {\r\n                  itemUser &&\r\n                    history.push(\"/profile/\" + itemUser.username + \"/listings\");\r\n                }}\r\n                alt=\"\"\r\n              />\r\n            </Col>\r\n            <Col sm={10}>\r\n              <Alert.Heading\r\n                className=\"userItemCommandUsername\"\r\n                style={{ fontSize: \"1rem\" }}\r\n              >\r\n                {itemUser ? itemUser.username : \"Anonymous\"}\r\n              </Alert.Heading>\r\n            </Col>\r\n          </Row>\r\n          <div className=\"buttonWrapper\">\r\n            {itemStatus === \"waiting\" ? (\r\n              <div>\r\n                <Button\r\n                  className=\"button\"\r\n                  variant=\"warning\"\r\n                  onClick={handleReserve}\r\n                >\r\n                  <VerifiedUserIcon className=\"icons\" />\r\n                  <span className=\"action\">Mark as Reserve</span>\r\n                </Button>\r\n              </div>\r\n            ) : itemStatus === \"reserved\" ? (\r\n              <div>\r\n                <Button\r\n                  className=\"button\"\r\n                  variant=\"warning\"\r\n                  onClick={handleUnreserve}\r\n                >\r\n                  <VerifiedUserIcon className=\"icons\" />\r\n                  <span className=\"action\">Unreserve</span>\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            <div>\r\n              {itemStatus === \"deleted\" ? (\r\n                <></>\r\n              ) : itemStatus === \"swapped\" ? (\r\n                <Button className=\"button\" variant=\"warning\">\r\n                  <ShoppingBasketIcon className=\"icons\" />\r\n                  <span className=\"action\" onClick={handleUnswap}>\r\n                    Cancel Agreement\r\n                  </span>\r\n                </Button>\r\n              ) : (\r\n                <>\r\n                  <Button className=\"button\" variant=\"warning\">\r\n                    <ShoppingBasketIcon className=\"icons\" />\r\n                    <span\r\n                      className=\"action\"\r\n                      onClick={() => setShowInput(!showInput)}\r\n                    >\r\n                      Mark as Swapped\r\n                    </span>\r\n                  </Button>\r\n                  {showInput ? (\r\n                    <Form className=\"userItemCommandForm\">\r\n                      <Form.Group controlId=\"title\">\r\n                        <Form.Control\r\n                          className=\"userItemCommandFormControl\"\r\n                          type=\"input\"\r\n                          maxlength=\"30\"\r\n                          placeholder=\"Enter your agreement code\"\r\n                          value={input}\r\n                          onChange={(e) => {\r\n                            setInput(e.target.value);\r\n                            setError(\"\");\r\n                            console.log(\"changed to: \" + e.target.value);\r\n                          }}\r\n                          onKeyDown={handleKeyDownSwap}\r\n                          isInvalid={error !== \"\"}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">\r\n                          {error}\r\n                        </Form.Control.Feedback>\r\n                      </Form.Group>\r\n                    </Form>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              {itemStatus === \"deleted\" || itemStatus === \"swapped\" ? (\r\n                <></>\r\n              ) : (\r\n                <Button\r\n                  className=\"button\"\r\n                  variant=\"warning\"\r\n                  onClick={handleDelete}\r\n                >\r\n                  <HighlightOffIcon className=\"icons\" />\r\n                  <span className=\"action\">Delete</span>\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </Alert>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./item.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SingleItem from \"../../components/singleItem/SingleItem\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { ArrowBackIos } from \"@material-ui/icons\";\r\nimport SwapAway from \"../../components/swapAway/SwapAway\";\r\nimport UserItemCommand from \"../../components/userItemCommand/UserItemCommand\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Item() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const itemId = useParams().itemId;\r\n  const [item, setItem] = useState(null);\r\n  const history = useHistory();\r\n  const [copyLinkText, setCopyLinkText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const getItem = async () => {\r\n      try {\r\n        if (itemId) {\r\n          const res = await axios.get(\"/api/items?itemId=\" + itemId);\r\n          await setItem(res.data);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getItem();\r\n  }, [itemId]);\r\n\r\n  const handleReserve = async () => {\r\n    try {\r\n      if (itemId) {\r\n        const res = await axios.put(\"/api/items/update/status/\" + itemId, {\r\n          status: \"reserved\",\r\n        });\r\n        if (res.status === 200 && res.data) {\r\n          setItem(res.data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleUnreserve = async () => {\r\n    try {\r\n      if (itemId) {\r\n        const res = await axios.put(\"/api/items/update/status/\" + itemId, {\r\n          status: \"waiting\",\r\n        });\r\n        if (res.status === 200 && res.data) {\r\n          setItem(res.data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleSwap = async (agreementId) => {\r\n    console.log(\"handleSwap called with agreementId: \" + agreementId);\r\n    try {\r\n      const agreementRes = await axios.put(\r\n        \"/api/agreements/update/addParties/\" + agreementId,\r\n        { userId: user?._id, itemId: itemId }\r\n      );\r\n      if (agreementRes.status === 200 && itemId) {\r\n        const res = await axios.put(\"/api/items/update/status/\" + itemId, {\r\n          status: \"swapped\",\r\n        });\r\n        if (res.status === 200 && res.data) {\r\n          setItem(res.data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleUnswap = async () => {\r\n    console.log(\"handleUnswap called\");\r\n    try {\r\n      const agreementRes = await axios.put(\r\n        \"/api/agreements/update/removeParties\",\r\n        {\r\n          userId: user?._id,\r\n          itemId: itemId,\r\n        }\r\n      );\r\n      if (agreementRes.status === 200 && itemId) {\r\n        const res = await axios.put(\"/api/items/update/status/\" + itemId, {\r\n          status: \"waiting\",\r\n        });\r\n        if (res.status === 200 && res.data) {\r\n          setItem(res.data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    console.log(\"handleDelete called\");\r\n    try {\r\n      const res = await axios.delete(\"/api/items?itemId=\" + item?._id);\r\n      if (res.status === 200) {\r\n        history.push(\"/profile/\" + user.username + \"/listings\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = (type) => {\r\n    console.log(\"copy link\");\r\n    var dummy = document.createElement(\"input\");\r\n    const text =\r\n      type === \"link\" ? window.location.href : item?._id ? item._id : \"\";\r\n\r\n    document.body.appendChild(dummy);\r\n    dummy.value = text;\r\n    dummy.select();\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(dummy);\r\n    setCopyLinkText(\r\n      type === \"link\"\r\n        ? \"Link to this page has been copied\"\r\n        : \"Item ID has been copied\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"itemPage\">\r\n      <TopBar currentUser={user} />\r\n      {/* <div className=\"itemBackArrow\">\r\n        <ArrowBackIos />\r\n        <span>Back</span>\r\n      </div> */}\r\n      <label className=\"itemHeader\">\r\n        {item ? item.title : \"Error: No Item Displayed\"}\r\n        {item ? (\r\n          <Chip\r\n            className=\"itemTag\"\r\n            label={item.status === \"waiting\" ? \"available\" : item.status}\r\n            size=\"small\"\r\n            color={\r\n              item.status === \"waiting\"\r\n                ? \"\"\r\n                : item.status === \"reserved\"\r\n                ? \"primary\"\r\n                : \"secondary\"\r\n            }\r\n            style={{\r\n              marginLeft: \"15px\",\r\n              marginRight: \"10px\",\r\n              marginTop: \"0px\",\r\n            }}\r\n          />\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </label>\r\n\r\n      <Container className=\"itemImg\">\r\n        <Row>\r\n          <Col>\r\n            <SingleItem imgLinkArray={item ? item.img : []} />\r\n          </Col>\r\n          <Col>\r\n            {user?._id === item?.userId ? (\r\n              <UserItemCommand\r\n                itemUserId={item?.userId}\r\n                itemStatus={item?.status}\r\n                handleReserve={handleReserve}\r\n                handleUnreserve={handleUnreserve}\r\n                handleDelete={handleDelete}\r\n                handleSwap={handleSwap}\r\n                handleUnswap={handleUnswap}\r\n              />\r\n            ) : (\r\n              <SwapAway itemUserId={item?.userId} />\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      {/* <div className=\"itemImg\">\r\n                <SingleItem />\r\n                <SwapAway />\r\n            </div> */}\r\n      <div className=\"itemHeaderSecond\">\r\n        <div className=\"itemGetLink\" onClick={() => handleCopyLink(\"link\")}>\r\n          Copy Link\r\n        </div>\r\n        <div className=\"itemGetLink\" onClick={() => handleCopyLink(\"id\")}>\r\n          Copy Item ID\r\n        </div>\r\n        <div className=\"itemCopyLinkText\">{copyLinkText}</div>\r\n      </div>\r\n      <div className=\"itemDescription\">\r\n        <h5>Description</h5>\r\n        <span>\r\n          {item\r\n            ? item.desc\r\n            : \"The item does not exist, and hence no description\"}\r\n        </span>\r\n      </div>\r\n      <div className=\"itemIdealSwaps\">\r\n        <h5>Ideal swaps</h5>\r\n        {item?.idealSwaps.map((tags) => (\r\n          <Chip\r\n            className=\"tag\"\r\n            key={tags}\r\n            label={tags}\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n            style={{ marginRight: \"5px\" }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./login.css\";\r\nimport RestoreFromTrashRoundedIcon from \"@material-ui/icons/RestoreFromTrashRounded\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PersonOutlineOutlinedIcon from \"@material-ui/icons/PersonOutlineOutlined\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { user, dispatch } = useContext(AuthContext);\r\n  const usernameRef = useRef();\r\n  const passwordRef = useRef();\r\n\r\n  useEffect(() => {\r\n    console.log(\"user is changed\");\r\n    console.log(user);\r\n  }, [user]);\r\n\r\n  const checkCredentials = async () => {\r\n    try {\r\n      const res = await axios\r\n        .post(\"/api/auth/login\", {\r\n          username: usernameRef.current.value,\r\n          password: passwordRef.current.value,\r\n        })\r\n        .then(() => {\r\n          usernameRef.current.setCustomValidity(\"\");\r\n          passwordRef.current.setCustomValidity(\"\");\r\n        });\r\n    } catch (err) {\r\n      if (err.response.status === 400) {\r\n        usernameRef.current.setCustomValidity(\"Incorrect username or password\");\r\n      }\r\n    }\r\n  };\r\n  const handleUsername = async (e) => {\r\n    setUsername(e.target.value);\r\n    console.log(e.target.value);\r\n    checkCredentials();\r\n  };\r\n  const handlePassword = async (e) => {\r\n    setPassword(e.target.value);\r\n    console.log(e.target.value);\r\n    checkCredentials();\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const loginCall = async (userCredential, dispatch) => {\r\n      dispatch({ type: \"LOGIN_START\" });\r\n      try {\r\n        const res = await axios.post(\"/api/auth/login\", userCredential);\r\n        const sock = await io(); //const sock = await io(\"ws://localhost:8080\");\r\n        sock.on(\"connect\", () => {\r\n          sock.emit(\"addUser\", res.data._id);\r\n          console.log(\"sock inside try block: \", sock);\r\n          dispatch({\r\n            type: \"LOGIN_SUCCESS\",\r\n            payload: { user: res.data, sock: sock },\r\n          });\r\n        });\r\n      } catch (err) {\r\n        dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n      }\r\n    };\r\n    loginCall({ username: username, password: password }, dispatch);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginTop\">\r\n          <RestoreFromTrashRoundedIcon\r\n            className=\"loginShoppingCartIcon\"\r\n            style={{\r\n              fontSize: 220,\r\n              color: \"white\",\r\n            }}\r\n          />\r\n        </div>\r\n        <form className=\"loginBottom\" onSubmit={handleSubmit}>\r\n          <div className=\"loginInputWrapper\">\r\n            <PersonOutlineOutlinedIcon\r\n              style={{\r\n                position: \"absolute\",\r\n                color: \"white\",\r\n                fontSize: 32,\r\n                top: 32,\r\n                left: 10,\r\n              }}\r\n            />\r\n            <input\r\n              placeholder=\"USERNAME\"\r\n              onChange={handleUsername}\r\n              value={username}\r\n              ref={usernameRef}\r\n              required\r\n              className=\"loginInput\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"loginInputWrapper\">\r\n            <LockOutlinedIcon\r\n              style={{\r\n                position: \"absolute\",\r\n                color: \"white\",\r\n                fontSize: 32,\r\n                top: 32,\r\n                left: 10,\r\n              }}\r\n            />\r\n            <input\r\n              placeholder=\"PASSWORD\"\r\n              required\r\n              onChange={handlePassword}\r\n              value={password}\r\n              ref={passwordRef}\r\n              className=\"loginInput\"\r\n              type=\"password\"\r\n            />\r\n          </div>\r\n          <button className=\"loginButton\" type=\"submit\">\r\n            LOGIN\r\n          </button>\r\n          <Link to=\"/register\" className=\"loginBottomLink\">\r\n            Forgot password?\r\n          </Link>\r\n          <Link to=\"/register\" className=\"loginBottomLink\">\r\n            New to ReHash? Sign up now!\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport \"./conversation.css\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\n\r\nexport default function Conversation({\r\n  active,\r\n  userId,\r\n  lastMessageText,\r\n  lastMessageTime,\r\n  online,\r\n}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [displayTimeAgo, setDisplayTimeAgo] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      \"lastMessageText updated. the new message is: \",\r\n      lastMessageText\r\n    );\r\n  }, [lastMessageText]);\r\n\r\n  useEffect(() => {\r\n    if (lastMessageTime) {\r\n      setDisplayTimeAgo(format(lastMessageTime));\r\n    }\r\n    const interval = setInterval(() => {\r\n      if (lastMessageTime) {\r\n        if (displayTimeAgo !== format(lastMessageTime)) {\r\n          setDisplayTimeAgo(format(lastMessageTime));\r\n        }\r\n      }\r\n\r\n      // console.log(\"This will run every second!\");\r\n    }, 60000);\r\n    return () => clearInterval(interval);\r\n  }, [lastMessageTime]);\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios(\"/api/users?userId=\" + userId);\r\n        await setUser(res.data);\r\n        console.log(\"successfully got user\");\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [userId]);\r\n\r\n  return (\r\n    <div\r\n      className={active ? \"conversation conversationActive\" : \"conversation\"}\r\n    >\r\n      <div className=\"conversationLeft\">\r\n        <img\r\n          src={\r\n            user?.profilePicture\r\n              ? PF + user.profilePicture\r\n              : PF + \"person/noAvatar.png\"\r\n          }\r\n          alt=\"\"\r\n          className=\"conversationImg\"\r\n        />\r\n        {online ? <div className=\"conversationBadge\"></div> : <></>}\r\n      </div>\r\n\r\n      <div className=\"conversationRight\">\r\n        <div className=\"conversationRightTop\">\r\n          <div className=\"conversationName\">{user?.username}</div>\r\n          <div className=\"conversationStatus\">{displayTimeAgo}</div>\r\n        </div>\r\n\r\n        <span className=\"conversationLastMsg\">{lastMessageText}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./message.css\";\r\nimport { format } from \"timeago.js\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function Message({ message, own, pictureLink }) {\r\n  const [displayTimeAgo, setDisplayTimeAgo] = useState(\"\");\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    if (message) {\r\n      setDisplayTimeAgo(format(message.createdAt));\r\n    }\r\n    const interval = setInterval(() => {\r\n      if (displayTimeAgo !== format(message.createdAt)) {\r\n        setDisplayTimeAgo(format(message.createdAt));\r\n      }\r\n      // console.log(\"This will run every second!\");\r\n    }, 60000);\r\n    return () => clearInterval(interval);\r\n  }, [message]);\r\n\r\n  return own ? (\r\n    <div className=\"messageOwn\">\r\n      <div className=\"messageTopOwn\">\r\n        <img className=\"messageImgOwn\" src={pictureLink} alt=\"\" />\r\n        <p\r\n          className=\"messageTextOwn\"\r\n          onClick={() => {\r\n            setShow(!show);\r\n          }}\r\n        >\r\n          {message.text}\r\n        </p>\r\n      </div>\r\n      {show ? <div className=\"messageBottom\">{displayTimeAgo}</div> : <></>}\r\n    </div>\r\n  ) : (\r\n    <div className=\"message\">\r\n      <div className=\"messageTop\">\r\n        <img className=\"messageImg\" src={pictureLink} alt=\"\" />\r\n        <p\r\n          className=\"messageText\"\r\n          onClick={() => {\r\n            setShow(!show);\r\n          }}\r\n        >\r\n          {message.text}\r\n        </p>\r\n      </div>\r\n      {show ? <div className=\"messageBottom\">{displayTimeAgo}</div> : <></>}\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport Conversation from \"../../components/conversation/Conversation\";\r\nimport Message from \"../../components/message/Message\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport \"./chat.css\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\n\r\nexport default function Chat() {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [currentChatWith, setCurrentChatWith] = useState(null);\r\n  const [currentChatWithLastActive, setCurrentChatWithLastActive] =\r\n    useState(\"\");\r\n\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  const scrollRef = useRef();\r\n  const initialActiveConvoId = useParams().initialActiveConvoId;\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const getInitialActiveConvo = async () => {\r\n      if (initialActiveConvoId !== \"0\") {\r\n        console.log(\"initialActiveConvoId is: \" + initialActiveConvoId);\r\n        const res = await axios.get(\r\n          \"/api/conversations/id/\" + initialActiveConvoId\r\n        );\r\n        setCurrentChat(res.data);\r\n      }\r\n    };\r\n    getInitialActiveConvo();\r\n  }, [initialActiveConvoId]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"socket is: \", sockio.id);\r\n    //can change slightly to map for all convo, even if not opened\r\n    sockio.on(\"getMessage\", (data) => {\r\n      setArrivalMessage({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, [sockio]);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  useEffect(() => {\r\n    sockio.on(\"getUsers\", (users) => {\r\n      console.log(\"getUser received on client side\");\r\n      setOnlineUsers(\r\n        user.chatFollow.filter((f) => users.some((u) => u.userId === f))\r\n      );\r\n    });\r\n  }, [user, sockio]);\r\n\r\n  useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        //need to change this and add another API when search function is implemented\r\n        const res = await axios.get(\"/api/conversations/\" + user._id);\r\n        await setConversations(res.data);\r\n        // console.log(conversations);\r\n        // console.log(user);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [user._id, messages, onlineUsers]);\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axios.get(\"/api/messages/\" + currentChat?._id);\r\n        setMessages(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n  }, [currentChat]);\r\n\r\n  useEffect(() => {\r\n    const friendId = currentChat?.members.find((m) => m !== user._id);\r\n\r\n    const getCurrentChatWith = async () => {\r\n      try {\r\n        const res = await axios(\"/api/users?userId=\" + friendId);\r\n        await setCurrentChatWith(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getCurrentChatWith();\r\n  }, [user, currentChat]);\r\n\r\n  useEffect(() => {\r\n    const updateLastActive = async () => {\r\n      var timeago = \"\";\r\n      try {\r\n        const res = await axios(\"/api/users?userId=\" + currentChatWith?._id);\r\n        const newLastActive = res.data.lastActive;\r\n        console.log(\"newLastActive: \", newLastActive);\r\n        timeago = format(newLastActive);\r\n        console.log(\"LOOK AT ME: TIMEAGO \", timeago);\r\n      } catch (err) {\r\n        timeago = format(currentChatWith?.lastActive);\r\n        console.log(err);\r\n      }\r\n      setCurrentChatWithLastActive(\"Active \" + timeago);\r\n    };\r\n\r\n    updateLastActive();\r\n    const interval = setInterval(() => {\r\n      updateLastActive();\r\n    }, 5000);\r\n    return () => clearInterval(interval);\r\n  }, [currentChatWith]);\r\n\r\n  //handles the event that the \"send\" button is clicked\r\n  const handleSendMessage = async (e) => {\r\n    if (newMessage !== \"\") {\r\n      e.preventDefault();\r\n      await setNewMessage(\"\");\r\n      const message = {\r\n        sender: user._id,\r\n        text: newMessage,\r\n        conversationId: currentChat._id,\r\n      };\r\n\r\n      try {\r\n        const res = await axios.post(\"/api/messages\", message);\r\n\r\n        const lastMessageText = res.data.text;\r\n        const lastMessageTime = res.data.createdAt;\r\n        const updateRes = await axios.put(\r\n          \"/api/conversations/\" + currentChat._id + \"/lastmessage\",\r\n          { lastMessageText: lastMessageText, lastMessageTime: lastMessageTime }\r\n        );\r\n        console.log(updateRes);\r\n        console.log(\"currentChat is: \", currentChat);\r\n        await setMessages([...messages, res.data]);\r\n        console.log(\r\n          \"updated messages. the new messaged sent is: \",\r\n          res.data.text\r\n        );\r\n\r\n        const receiverId = currentChat.members.find(\r\n          (member) => member !== user._id\r\n        );\r\n\r\n        sockio.emit(\"sendMessage\", {\r\n          senderId: user._id,\r\n          receiverId,\r\n          text: newMessage,\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      console.log(\"new message when eneter is pressed: \", newMessage);\r\n      setNewMessage(newMessage);\r\n      if (newMessage !== \"\") {\r\n        handleSendMessage(e);\r\n        console.log(\"passing to handleSendMessage\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleViewProfile = () => {\r\n    history.push(\"/profile/\" + currentChatWith.username + \"/listings\");\r\n  };\r\n\r\n  const handleGenerateAgreement = async () => {\r\n    console.log(\"generate agreement is clicked\");\r\n    const res = await axios.post(\"/api/agreements\");\r\n    if (res.data && res.data._id) {\r\n      setNewMessage(\"Your agreement code has been generated: \" + res.data._id);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"auto\" });\r\n  }, [messages]);\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"messenger\">\r\n        <div className=\"chatMenu\">\r\n          <div className=\"chatMenuWrapper\">\r\n            <input\r\n              placeholder=\"Search for users\"\r\n              className=\"chatMenuInput\"\r\n              onChange={(e) => setSearchText(e.target.value)}\r\n              value={searchText}\r\n            />\r\n            {conversations.map((c) => {\r\n              const userId = c.members.find((m) => m !== user._id);\r\n              return (\r\n                <div onClick={() => setCurrentChat(c)}>\r\n                  <Conversation\r\n                    online={onlineUsers.includes(userId)}\r\n                    lastMessageText={c.lastMessageText}\r\n                    lastMessageTime={c.lastMessageTime}\r\n                    userId={userId}\r\n                    active={currentChat ? c._id === currentChat._id : false}\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatBox\">\r\n          <div className=\"chatBoxWrapper\">\r\n            {currentChat ? (\r\n              <>\r\n                <div className=\"chatBoxHeader\">\r\n                  <div className=\"chatBoxHeaderLeft\">\r\n                    <img\r\n                      src={\r\n                        currentChatWith?.profilePicture\r\n                          ? PF + currentChatWith.profilePicture\r\n                          : PF + \"person/noAvatar.png\"\r\n                      }\r\n                      alt=\"\"\r\n                      className=\"chatBoxHeaderImg\"\r\n                    />\r\n                    <div className=\"chatBoxHeaderContent\">\r\n                      <div className=\"chatBoxHeaderName\">\r\n                        {currentChatWith?.username}\r\n                      </div>\r\n                      <div className=\"chatBoxHeaderStatus\">\r\n                        {onlineUsers.includes(currentChatWith?._id)\r\n                          ? \"Online now\"\r\n                          : currentChatWithLastActive}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    className=\"chatBoxViewProfileButton\"\r\n                    onClick={handleViewProfile}\r\n                  >\r\n                    View Profile\r\n                  </button>\r\n                </div>\r\n                <div className=\"chatBoxTop\">\r\n                  {messages.map((m) => (\r\n                    <div ref={scrollRef}>\r\n                      <Message\r\n                        message={m}\r\n                        own={m.sender === user._id}\r\n                        pictureLink={\r\n                          m.sender === user._id\r\n                            ? user?.profilePicture\r\n                              ? PF + user.profilePicture\r\n                              : PF + \"person/noAvatar.png\"\r\n                            : currentChatWith?.profilePicture\r\n                            ? PF + currentChatWith.profilePicture\r\n                            : PF + \"person/noAvatar.png\"\r\n                        }\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"chatBoxBottom\">\r\n                  <textarea\r\n                    className=\"chatMessageInput\"\r\n                    placeholder=\"Write a message ...\"\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    value={newMessage}\r\n                    onKeyDown={handleKeyDown}\r\n                  ></textarea>\r\n                  <button\r\n                    className=\"chatAgreementButton\"\r\n                    onClick={handleGenerateAgreement}\r\n                  >\r\n                    Generate Agreement\r\n                  </button>\r\n                  <button\r\n                    className=\"chatSubmitButton\"\r\n                    onClick={handleSendMessage}\r\n                  >\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <span className=\"noConversationText\">\r\n                Open a conversation to start a chat {sockio.id}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./myGroups.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport GroupIcon from \"../../components/groupIcon/GroupIcon\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function MyGroups() {\r\n  const { user, sockio } = useContext(AuthContext); //this user is currentUser\r\n  const username = useParams().username;\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [myGroups, setMyGroups] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getProfileUser = async () => {\r\n      if (username) {\r\n        const res = await axios.get(\"/api/users?username=\" + username);\r\n        setProfileUser(res.data);\r\n        console.log(\"profileUser is: \" + res.data);\r\n      }\r\n    };\r\n    getProfileUser();\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    const getMyGroups = async () => {\r\n      if (profileUser) {\r\n        const res = await axios.get(\r\n          \"/api/groups/filter?userId=\" + profileUser._id\r\n        );\r\n        setMyGroups(res.data);\r\n      }\r\n    };\r\n    getMyGroups();\r\n  }, [profileUser]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"myGroupsPageTopSection\">\r\n        <TopBar currentUser={user} />\r\n      </div>\r\n      <div className=\"myGroupsPageMiddleSection\">\r\n        <SideBar className=\"sidebar\" sidebarUser={profileUser} />\r\n        <div className=\"myGroupsPageMiddleSectionRight\">\r\n          <div className=\"myGroupsPageMiddleSectionRightHeader\">\r\n            <span className=\"myGroupsPageMiddleSectionRightHeaderText\">\r\n              Groups You Have Joined\r\n            </span>\r\n            <div className=\"myGroupsPageGroupIconWrapper\">\r\n              <Row\r\n                className=\"myGroupsPageGroupIconContainer\"\r\n                xl={5}\r\n                lg={4}\r\n                md={3}\r\n                xs={2}\r\n              >\r\n                {myGroups.map((group) => (\r\n                  <>\r\n                    <Col>\r\n                      <GroupIcon\r\n                        groupImg={group.groupImg}\r\n                        groupName={group.groupName}\r\n                        groupId={group._id}\r\n                      />\r\n                    </Col>\r\n                    <Col>\r\n                      <GroupIcon\r\n                        groupImg={group.groupImg}\r\n                        groupName={group.groupName}\r\n                        groupId={group._id}\r\n                      />\r\n                    </Col>\r\n                    <Col>\r\n                      <GroupIcon\r\n                        groupImg={group.groupImg}\r\n                        groupName={group.groupName}\r\n                        groupId={group._id}\r\n                      />\r\n                    </Col>\r\n                  </>\r\n                ))}\r\n              </Row>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./settings.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport { Container, Card, Form, Button, Col, Row } from \"react-bootstrap\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nexport default function Settings() {\r\n  const { user, sockio, dispatch } = useContext(AuthContext);\r\n  const username = useParams().username;\r\n  const [imgFile, setImgFile] = useState(null);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  const [form, setForm] = useState({ showPassword: false });\r\n  const [errors, setErrors] = useState({});\r\n  const [imgError, setImgError] = useState({});\r\n  const [passwordUpdateValid, setPasswordUpdateValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"user is changed\");\r\n    console.log(user);\r\n  }, [user]);\r\n\r\n  const imageHandler = (e) => {\r\n    const newFile = Object.assign(e.target.files[0], {\r\n      preview: URL.createObjectURL(e.target.files[0]),\r\n    });\r\n    setImgFile(newFile);\r\n    if (newFile && imgError.imgFile) {\r\n      setImgError({ imgFile: null });\r\n    }\r\n    console.log(newFile.preview);\r\n  };\r\n\r\n  useEffect(\r\n    () => () => {\r\n      // Make sure to revoke the data uris to avoid memory leaks\r\n      if (imgFile) {\r\n        URL.revokeObjectURL(imgFile.preview);\r\n      }\r\n    },\r\n    [imgFile]\r\n  );\r\n\r\n  const handleChangePicture = async (e) => {\r\n    e.preventDefault();\r\n    if (!imgFile) {\r\n      setImgError({ imgFile: \"No image uploaded!\" });\r\n    } else {\r\n      const data = new FormData();\r\n      data.append(\"file\", imgFile);\r\n      console.log(data);\r\n      const updatePicture = async () => {\r\n        try {\r\n          const uploadFileRes = await axios.post(\"/api/upload/person\", data);\r\n          if (uploadFileRes.status === 200) {\r\n            const newProfilePicture = {\r\n              profilePicture: uploadFileRes.data.imagePath,\r\n            };\r\n            const newUser = { ...user, ...newProfilePicture };\r\n            console.log(newUser);\r\n\r\n            const res = await axios.put(\"/api/users/\" + user._id, {\r\n              profilePicture: uploadFileRes.data.imagePath,\r\n            });\r\n            if (res.status === 200) {\r\n              dispatch({\r\n                type: \"UPDATE\",\r\n                payload: { user: newUser, sock: sockio },\r\n              });\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n\r\n      await updatePicture();\r\n      setImgFile(null);\r\n    }\r\n  };\r\n\r\n  //Below is for Form Control for password\r\n  const setField = (field, value) => {\r\n    setForm({\r\n      ...form,\r\n      [field]: value,\r\n    });\r\n\r\n    //if error exists, remove them from the error object\r\n    if (!!errors[field]) {\r\n      setErrors({\r\n        ...errors,\r\n        [field]: null,\r\n      });\r\n    }\r\n\r\n    if (passwordUpdateValid) {\r\n      setPasswordUpdateValid(false);\r\n    }\r\n  };\r\n\r\n  //handles Password submit\r\n  const handleSubmitPassword = async (e) => {\r\n    e.preventDefault();\r\n    setPasswordUpdateValid(false);\r\n    const newErrors = findFormErrors();\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      console.log(newErrors);\r\n    } else {\r\n      const updatePassword = async () => {\r\n        try {\r\n          const res = await axios.put(\"/api/auth/updatePassword/\" + user._id, {\r\n            currentPassword: form.currentPassword,\r\n            newPassword: form.newPassword,\r\n          });\r\n          if (\r\n            res &&\r\n            res.status === 200 &&\r\n            res.data.message === \"User password has been updated\"\r\n          ) {\r\n            setPasswordUpdateValid(true);\r\n            setForm({\r\n              showPassword: false,\r\n              confirmPassword: \"\",\r\n              newPassword: \"\",\r\n              currentPassword: \"\",\r\n            });\r\n          } else if (\r\n            res &&\r\n            res.status === 200 &&\r\n            res.data.message === \"wrong password\"\r\n          ) {\r\n            const wrongPasswordError = { currentPassword: \"Wrong Password!\" };\r\n            setErrors({\r\n              ...errors,\r\n              ...wrongPasswordError,\r\n            });\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n      await updatePassword();\r\n    }\r\n  };\r\n\r\n  //function for finding errors in password form\r\n  const findFormErrors = () => {\r\n    const { currentPassword, newPassword, confirmPassword } = form;\r\n    const newErrors = {};\r\n\r\n    if (!currentPassword || currentPassword === \"\") {\r\n      newErrors.currentPassword = \"Current password cannot be empty!\";\r\n    }\r\n\r\n    if (!newPassword || newPassword.length < 6) {\r\n      newErrors.newPassword = \"New password must have at least 6 characters!\";\r\n    }\r\n\r\n    if (!confirmPassword || confirmPassword !== newPassword) {\r\n      newErrors.confirmPassword = \"New and confirm passwords do not match!\";\r\n    }\r\n\r\n    return newErrors;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"settingsContainer\">\r\n        <SideBar sidebarUser={user} />\r\n        <div className=\"settingsRight\">\r\n          <span className=\"settingsHeader\">Settings</span>\r\n          <Container className=\"settingsWrapper\">\r\n            <Card\r\n              style={{ width: \"60em\", height: \"19em\" }}\r\n              className=\"settingsUserProfileContainer shadow p-3 mb-5 bg-white rounded\"\r\n            >\r\n              <span className=\"settingsUserProfileHeader\">User Profile</span>\r\n              <Container>\r\n                <Row>\r\n                  <Col>\r\n                    <img\r\n                      src={\r\n                        imgFile && imgFile.preview\r\n                          ? imgFile.preview\r\n                          : user && user.profilePicture\r\n                          ? PF + user.profilePicture\r\n                          : \"/assests/userProfile.png\"\r\n                      }\r\n                      alt=\"\"\r\n                      className=\"userProfileImg\"\r\n                    />\r\n                  </Col>\r\n                  <Col>\r\n                    <div className=\"settingsImgInstructions\">\r\n                      <div className=\"settingsImgInstructionsText\">\r\n                        Upload a profile picture of yourself to help others know\r\n                        more about you!\r\n                      </div>\r\n                      <Form.Group>\r\n                        <Form.Control\r\n                          className=\"imgUploadButton\"\r\n                          as=\"input\"\r\n                          name=\"image-upload\"\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          onChange={imageHandler}\r\n                          isInvalid={!!imgError.imgFile}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">\r\n                          {imgError.imgFile}\r\n                        </Form.Control.Feedback>\r\n                      </Form.Group>\r\n                      <Button\r\n                        className=\"changeProfilePictureButton\"\r\n                        variant=\"warning\"\r\n                        onClick={handleChangePicture}\r\n                      >\r\n                        Change profile picture\r\n                      </Button>\r\n                    </div>\r\n                    {/* <div>{user.profilePicture}</div> */}\r\n                  </Col>\r\n                </Row>\r\n              </Container>\r\n            </Card>\r\n            <Card\r\n              style={{ width: \"60em\" }}\r\n              className=\"settingsPasswordContainer shadow p-3 mb-5 bg-white rounded\"\r\n            >\r\n              <span className=\"settingsPasswordHeader\">Password</span>\r\n              <Form>\r\n                <div className=\"passwordInputWrapper\">\r\n                  <Form.Group controlId=\"oldPassword\">\r\n                    <Form.Control\r\n                      className=\"passwordInput\"\r\n                      name=\"currentPassword\"\r\n                      type={form.showPassword ? \"text\" : \"password\"}\r\n                      placeHolder=\"Current Password\"\r\n                      value={form.currentPassword}\r\n                      onChange={(e) =>\r\n                        setField(\"currentPassword\", e.target.value)\r\n                      }\r\n                      isInvalid={!!errors.currentPassword}\r\n                      isValid={passwordUpdateValid}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                      {errors.currentPassword}\r\n                    </Form.Control.Feedback>\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"newPassword\">\r\n                    <Form.Control\r\n                      className=\"passwordInput\"\r\n                      name=\"newPassword\"\r\n                      type={form.showPassword ? \"text\" : \"password\"}\r\n                      placeHolder=\"New Password\"\r\n                      value={form.newPassword}\r\n                      onChange={(e) => setField(\"newPassword\", e.target.value)}\r\n                      isInvalid={!!errors.newPassword}\r\n                      isValid={passwordUpdateValid}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                      {errors.newPassword}\r\n                    </Form.Control.Feedback>\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"confirmPassword\">\r\n                    <Form.Control\r\n                      className=\"passwordInput\"\r\n                      name=\"confirmPassword\"\r\n                      type={form.showPassword ? \"text\" : \"password\"}\r\n                      placeHolder=\"Confirm Password\"\r\n                      value={form.confirmPassword}\r\n                      onChange={(e) =>\r\n                        setField(\"confirmPassword\", e.target.value)\r\n                      }\r\n                      isInvalid={!!errors.confirmPassword}\r\n                      isValid={passwordUpdateValid}\r\n                    />\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                      {errors.confirmPassword}\r\n                    </Form.Control.Feedback>\r\n                    <Form.Control.Feedback type=\"valid\">\r\n                      \"Password updated successfully\"\r\n                    </Form.Control.Feedback>\r\n                  </Form.Group>\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={form.showPassword}\r\n                    onClick={() => setField(\"showPassword\", !form.showPassword)}\r\n                  />\r\n                  <label className=\"checkboxLabel\">Show input</label>\r\n                </div>\r\n                <div>\r\n                  <Button\r\n                    className=\"passwordButton\"\r\n                    variant=\"warning\"\r\n                    onClick={handleSubmitPassword}\r\n                  >\r\n                    Update password\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n            </Card>\r\n          </Container>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./groupSidebar.css\";\r\nimport {\r\n  CDBSidebar,\r\n  CDBSidebarContent,\r\n  CDBSidebarFooter,\r\n  CDBSidebarHeader,\r\n  CDBSidebarMenu,\r\n  CDBSidebarMenuItem,\r\n} from \"cdbreact\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\n\r\nexport default function GroupSidebar({ group }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [isGroupMember, setIsGroupMember] = useState(true);\r\n  const [showInviteInput, setShowInviteInput] = useState(false);\r\n\r\n  const handleInviteButton = () => {\r\n    showInviteInput ? setShowInviteInput(false) : setShowInviteInput(true);\r\n  };\r\n\r\n  const inviteComponent = (\r\n    <div className=\"inviteComponentWrapper\">\r\n      <div className=\"inviteComponentContainer\">\r\n        <span className=\"inviteComponentText\">Who do you want to invite?</span>\r\n        <input className=\"inviteComponentInput\" placeholder=\"Input name...\" />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  /** TODO: \r\n   1. Add filter to search for groups \r\n   2. Allow update description for creator \r\n   */\r\n  return (\r\n    <div className=\"GroupSidebarWrapper\">\r\n      <CDBSidebar textColor=\"black\" backgroundColor=\"#FFD68D\">\r\n        <CDBSidebarHeader prefix={<i className=\"fa fa-bars fa-large\"></i>}>\r\n          <img\r\n            className=\"groupProfile\"\r\n            src={\r\n              group?.groupImg\r\n                ? PF + group.groupImg\r\n                : PF + \"group/noImageUploaded.png\"\r\n            }\r\n            alt=\"\"\r\n          />\r\n        </CDBSidebarHeader>\r\n        <CDBSidebarHeader style={{ textAlign: \"center\" }}>\r\n          <div className=\"groupNameWrapper\">\r\n            <div className=\"groupName\">\r\n              <span className=\"groupNameText\">\r\n                {group?.groupName ? group.groupName : \"No Group Name\"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          {isGroupMember ? (\r\n            <div>\r\n              <div className=\"groupInviteButtonWrapper\">\r\n                <div className=\"groupInviteButton\" onClick={handleInviteButton}>\r\n                  <span className=\"groupInviteButtonText\">+ Invite</span>\r\n                </div>\r\n\r\n                {/* {showInviteInput ? inviteComponent : <></>} */}\r\n              </div>\r\n              <div>{showInviteInput ? inviteComponent : <></>}</div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"groupJoinButtonWrapper\">\r\n              <div className=\"groupJoinButton\">\r\n                <span className=\"groupJoinButtonText\">+ Join Group</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {/* Invite Button */}\r\n          {/* <div className=\"groupInviteButtonWrapper\">\r\n                        <div className=\"groupInviteButton\" >\r\n                            <span className=\"groupInviteButtonText\">+ Invite</span>\r\n                        </div>\r\n                    </div>  */}\r\n          {/* Join Group Button */}\r\n          {/* <div className=\"groupJoinButtonWrapper\">\r\n                        <div className=\"groupJoinButton\">\r\n                            <span className=\"groupJoinButtonText\">+ Join Group</span>\r\n                        </div>\r\n                    </div>  */}\r\n        </CDBSidebarHeader>\r\n        <CDBSidebarContent>\r\n          <CDBSidebarMenu>\r\n            <div className=\"groupDescriptionContainer\">\r\n              <div className=\"groupDescriptionHeader\">Group Description:</div>\r\n              <div className=\"groupDescriptionContent\">\r\n                {group?.description\r\n                  ? group.description\r\n                  : \"This group creator has left no description of this group\"}{\" \"}\r\n              </div>\r\n            </div>\r\n            <CDBSidebarMenuItem className=\"groupMenuItem\">\r\n              <HomeIcon className=\"groupMyPostsIcon\" />\r\n              <span className=\"groupMyPosts\">Group Home</span>{\" \"}\r\n            </CDBSidebarMenuItem>\r\n            <CDBSidebarMenuItem className=\"groupMenuItem\">\r\n              {isGroupMember ? (\r\n                <>\r\n                  <CreateIcon className=\"groupMyPostsIcon\" />\r\n                  <span className=\"groupMyPosts\">My Posts</span>{\" \"}\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </CDBSidebarMenuItem>\r\n          </CDBSidebarMenu>\r\n        </CDBSidebarContent>\r\n        <CDBSidebarFooter>\r\n          {isGroupMember ? (\r\n            <div className=\"groupLeaveButtonWrapper\">\r\n              <div className=\"groupLeaveButton\">\r\n                <span className=\"groupLeaveButtonText\">Leave Group</span>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </CDBSidebarFooter>\r\n      </CDBSidebar>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport \"./groupSharePost.css\";\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\nexport default function GroupSharePost() {\r\n    return (\r\n        <div className=\"groupSharePostWrapper\">\r\n            <div className=\"groupSharePostContainer\">\r\n                <div className=\"sharePostTop\">\r\n                    <div className=\"sharePostTopContainer\">\r\n                        <img className=\"sharePostProfileImg\" src=\"/assests/EugeneTan.png\" alt=\"\"/>\r\n                        <span className=\"sharePostProfileText\">Username here</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"sharePostContainer\">\r\n                    <Row className=\"sharePostContainerWrapper\">\r\n                        <Col className=\"sharePostContainerLeft\">\r\n                            <input className=\"sharePostContainerInput\" placeholder=\"Input your post ID...\"/>\r\n                            <input className=\"sharePostContainerInput\" placeholder=\"Describe your post...\"/>\r\n                        </Col>\r\n                        <Col className=\"sharePostContainerRight\">\r\n                            <div className=\"sharePostButtonWrapper\">\r\n                                <div className=\"sharePostButton\">\r\n                                    <span className=\"sharePostButtonText\">Post</span>\r\n                                </div>\r\n                            </div> \r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./comment.css\";\r\n\r\nexport default function Comment({\r\n  commentText,\r\n  commentUserId,\r\n  own,\r\n  handleDelete,\r\n}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [commentUser, setCommentUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const getCommentUser = async () => {\r\n      try {\r\n        const res = await axios(\"/api/users?userId=\" + commentUserId);\r\n        await setCommentUser(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getCommentUser();\r\n  }, [commentUserId]);\r\n\r\n  return (\r\n    <div className=\"commentWrapper\">\r\n      <div className=\"commentContainer\">\r\n        <div className=\"commentUserDetails\">\r\n          <img\r\n            className=\"commentProfileImg\"\r\n            src={\r\n              commentUser && commentUser.profilePicture\r\n                ? PF + commentUser.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n            }\r\n            alt=\"\"\r\n          />\r\n          <span className=\"commentProfileText\">\r\n            {commentUser?.username ? commentUser.username : \"No Name\"}\r\n          </span>\r\n        </div>\r\n        <div className=\"commentUserContent\">{commentText}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./post.css\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport TextsmsOutlinedIcon from \"@material-ui/icons/TextsmsOutlined\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport ChatBubbleOutlineIcon from \"@material-ui/icons/ChatBubbleOutline\";\r\nimport ItemListing from \"../itemListing/ItemListing\";\r\nimport Comment from \"../comment/Comment\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Post({ post }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const [postUser, setPostUser] = useState(null);\r\n  const [postComments, setPostComments] = useState([]);\r\n  const [postItem, setPostItem] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const getPostUser = async () => {\r\n      try {\r\n        const res = await axios(\"/api/users?userId=\" + post?.postUserId);\r\n        await setPostUser(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getPostUser();\r\n  }, [post]);\r\n\r\n  useEffect(() => {\r\n    const getPostComments = async () => {\r\n      try {\r\n        const res = await axios(\"/api/comments/filter?postId=\" + post?._id);\r\n        await setPostComments(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getPostComments();\r\n  }, [post]);\r\n\r\n  useEffect(() => {\r\n    const getPostItem = async () => {\r\n      try {\r\n        const res = await axios(\"/api/items?itemId=\" + post?.itemId);\r\n        await setPostItem(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getPostItem();\r\n  }, [post]);\r\n\r\n  return (\r\n    <div className=\"postWrapper\">\r\n      <div className=\"postContainer\">\r\n        <div className=\"postTop\">\r\n          {/* <div className=\"postTopContainer\"> */}\r\n          <Row className=\"postTopContainerWrapper\">\r\n            <Col className=\"postTopContainerLeft\">\r\n              <img\r\n                className=\"postProfileImg\"\r\n                src={\r\n                  postUser && postUser.profilePicture\r\n                    ? PF + postUser.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n              <span className=\"postProfileText\">\r\n                {postUser?.username ? postUser.username : \"No Name\"}\r\n              </span>\r\n            </Col>\r\n            <Col className=\"postTopContainerRight\">\r\n              {/* Swap Away Button */}\r\n              <div className=\"postSwapButtonWrapper\">\r\n                <div className=\"postSwapButton\">\r\n                  <TextsmsOutlinedIcon className=\"chatIcon\" />\r\n                  <span className=\"postSwapButtonText\">Swap Away!</span>\r\n                </div>\r\n              </div>\r\n              {/* Delete Button */}\r\n              {/* <div className=\"deleteButtonWrapper\">\r\n                                    <div className=\"deleteButton\">\r\n                                        <span className=\"deleteButtonText\">Delete</span>\r\n                                    </div>\r\n                                </div> */}\r\n            </Col>\r\n          </Row>\r\n          {/* </div> */}\r\n        </div>\r\n        <div className=\"postMiddle\">\r\n          <div className=\"postMiddleDescription\">\r\n            <div className=\"postMiddleDescriptionContainer\">\r\n              {post?.description\r\n                ? post.description\r\n                : \"No description available\"}\r\n            </div>\r\n          </div>\r\n          <div className=\"postMiddleItemListing\">\r\n            <ItemListing item={postItem} inPost={true} />\r\n          </div>\r\n          <div className=\"postMiddleItemLikesComments\">\r\n            <div className=\"postMiddleItemLikesCommentsContainer\">\r\n              <div className=\"postMiddleItemLikes\">\r\n                <FavoriteIcon />\r\n                <span className=\"numberLikes\">\r\n                  {post?.likedBy ? post.likedBy.length : 0}\r\n                </span>\r\n              </div>\r\n              <div className=\"postMiddleItemComments\">\r\n                <ChatBubbleOutlineIcon />\r\n                <span className=\"numberComments\">{postComments.length}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"postBottom\">\r\n          <div className=\"postCommentInputWrapper\">\r\n            <input\r\n              className=\"postCommentInput\"\r\n              placeholder=\"Write a comment...\"\r\n            />\r\n          </div>\r\n          <div className=\"postCommentContentSection\">\r\n            {postComments.map((comment) => (\r\n              <Comment\r\n                commentText={comment.commentText}\r\n                commentUserId={comment.commentUserId}\r\n                key={comment._id}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./group.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport GroupSidebar from \"../../components/groupSidebar/GroupSidebar\";\r\nimport GroupSharePost from \"../../components/groupSharePost/GroupSharePost\";\r\nimport Post from \"../../components/post/Post\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nconst testPost = {\r\n  description:\r\n    \"Trading away my ultimate Gen 1 Eevee collection! PM or comment below for more details\",\r\n  likedBy: [],\r\n  _id: \"60f783855b6c5a0b147bd42d\",\r\n  groupId: \"60f77ff618a99151cc4df876\",\r\n  postUserId: \"60bf21abb893706a58752ecf\",\r\n  itemId: \"60f784ab5b6c5a0b147bd42f\",\r\n  createdAt: \"2021-07-21T02:16:37.937Z\",\r\n  updatedAt: \"2021-07-21T02:16:37.937Z\",\r\n  __v: 0,\r\n};\r\n\r\nexport default function Group() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const groupId = useParams().groupId;\r\n  const pageType = useParams().pageType;\r\n  const [displayPosts, setDisplayPosts] = useState([]);\r\n  const [group, setGroup] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const getGroup = async () => {\r\n      try {\r\n        const res = await axios(\"/api/groups?groupId=\" + groupId);\r\n        await setGroup(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getGroup();\r\n  }, [groupId]);\r\n\r\n  useEffect(() => {\r\n    const getDisplayPosts = async () => {\r\n      try {\r\n        if (pageType === \"main\") {\r\n          console.log(\"page type is main\");\r\n          const res = await axios(\"/api/posts/filter?groupId=\" + groupId);\r\n          await setDisplayPosts(res.data);\r\n        } else if (pageType === \"myPosts\") {\r\n          console.log(\"page type is myPosts\");\r\n          const res = await axios(\r\n            \"/api/posts/filter?groupId=\" + groupId + \"&userId=\" + user?._id\r\n          );\r\n          await setDisplayPosts(res.data);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getDisplayPosts();\r\n  }, [pageType, groupId, user]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"groupPageTop\">\r\n        <TopBar currentUser={user} />\r\n      </div>\r\n      <div className=\"groupPageContainer\">\r\n        <div className=\"groupSidebarWrapper\">\r\n          <GroupSidebar className=\"groupSidebarComponent\" group={group} />\r\n        </div>\r\n        <div className=\"groupPageContainerRight\">\r\n          <div className=\"groupPagecontainerRightShareWrapper\">\r\n            <GroupSharePost />\r\n          </div>\r\n          {displayPosts.map((post) => (\r\n            <Post post={post} key={post._id} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\r\nimport Home from \"./pages/home/Home\";\r\nimport Register from \"./pages/register/Register\";\r\nimport UserListing from \"./pages/userlisting/UserListing\";\r\nimport Review from \"./pages/review/Review\";\r\nimport Product from \"./pages/product/Product\";\r\nimport CreateListing from \"./pages/createListing/CreateListing\";\r\nimport Item from \"./pages/item/Item\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport Login from \"./pages/login/Login\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport Chat from \"./pages/chat/Chat\";\r\nimport MyGroups from \"./pages/myGroups/MyGroups\";\r\nimport Settings from \"./pages/settings/Settings\";\r\nimport Group from \"./pages/group/Group\";\r\n\r\nfunction App() {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  //Note to punpun: for\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          {user ? <Redirect to=\"/home\" /> : <Login />}\r\n          {/* {user ? <Group /> : <Group />} */}\r\n        </Route>\r\n        <Route path=\"/register\">\r\n          {user ? <Redirect to=\"/home\" /> : <Register />}\r\n        </Route>\r\n        <Route exact path=\"/product/:pageType/:categoryName\">\r\n          <Product />\r\n        </Route>\r\n        <Route exact path=\"/home\">\r\n          <Home />\r\n        </Route>\r\n        <Route exact path=\"/create\">\r\n          {user ? <CreateListing /> : <Login />}\r\n        </Route>\r\n        <Route exact path=\"/chat/:initialActiveConvoId\">\r\n          {user ? <Chat /> : <Login />}\r\n        </Route>\r\n        <Route exact path=\"/profile/:username/listings\">\r\n          <UserListing />\r\n        </Route>\r\n        <Route exact path=\"/profile/:username/reviews\">\r\n          <Review />\r\n        </Route>\r\n        <Route exact path=\"/profile/:username/settings\">\r\n          <Settings />\r\n        </Route>\r\n        <Route exact path=\"/profile/:username/mygroups\">\r\n          <MyGroups />\r\n        </Route>\r\n        <Route exact path=\"/items/:itemId\">\r\n          <Item />\r\n        </Route>\r\n        <Route exact path=\"/groups/:groupId/:pageType\">\r\n          <Group />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { AuthContextProvider } from \"./context/AuthContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <App />\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}