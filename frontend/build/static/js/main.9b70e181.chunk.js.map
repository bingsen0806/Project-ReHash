{"version":3,"sources":["components/topbar/TopBar.js","components/itemlistsTangible/ItemListsTangible.js","components/itemlistsIntangible/ItemListsIntangible.js","components/trendingSwaps/TrendingSwaps.js","components/ads/Ads.js","context/AuthReducer.js","context/AuthContext.js","pages/home/Home.js","components/sidebar/SideBar.js","components/itemListing/ItemListing.js","components/star/Star.jsx","components/RatingIcon/RatingIcon.jsx","components/userReview/UserReview.jsx","pages/userlisting/UserListing.js","pages/review/Review.js","pages/product/Product.js","pages/createListing/CreateListing.js","components/singleItem/SingleItem.js","components/swapAway/SwapAway.js","components/userItemCommand/UserItemCommand.js","pages/item/Item.js","pages/login/Login.jsx","components/conversation/Conversation.jsx","components/message/Message.jsx","pages/chat/Chat.jsx","pages/settings/Settings.js","App.js","reportWebVitals.js","index.js"],"names":["TopBar","currentUser","PF","process","history","useHistory","useState","searchText","setSearchText","Navbar","className","expand","Brand","onClick","push","src","alt","Toggle","aria-controls","Collapse","id","Nav","Link","Search","placeholder","value","onChange","e","target","onKeyDown","key","preventDefault","match","length","console","log","to","TextsmsOutlined","htmlColor","username","profilePicture","ItemLists","handleClick","category","responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","mobile","Button","Col","Row","Accessibility","Face","SportsFootball","Home","DriveEta","Redeem","Computer","Apps","ItemListsIntangible","OutdoorGrill","Room","Forum","Fastfood","BeachAccess","SportsHandball","SportsEsports","TrendingSwaps","xs","md","Card","Img","variant","Body","Title","Chip","label","size","color","Text","Ads","Carousel","Item","interval","AuthReducer","state","action","type","user","isFetching","error","sockio","payload","sock","INITIAL_STATE","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","Provider","useContext","useEffect","SideBar","sidebarUser","handleLogOut","a","logoutCall","disconnect","style","display","height","overflow","textColor","backgroundColor","prefix","textAlign","Rating","cumulativeRating","ratedByUsers","precision","readOnly","LocalMall","SwapVert","_id","Settings","padding","ExitToApp","ItemListing","item","img","marginRight","title","status","marginBottom","marginTop","idealSwaps","map","tags","desc","Star","props","fill","class","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","RatingIcon","index","rating","hoverRating","onMouseEnter","onMouseLeave","onSaveRating","selected","notSelected","useMemo","width","UserReview","review","doneReview","handleSubmit","handleDelete","setRating","setHoverRating","reviewer","setReviewer","reviewText","setReviewText","axios","get","reviewerId","res","data","getReviewUser","UserListing","useParams","displayItems","setDisplayItems","viewingCategory","setViewingCategory","profileUser","setProfileUser","tabValue","setTabValue","getProfileUser","getDisplayItems","Container","Paper","margin","Tabs","indicatorColor","centered","Tab","Review","reviews","setReviews","alreadyReviewed","setAlreadyReviewed","myReview","setMyReview","initialCumRating","setInitialCumRating","initialRatedBy","setInitialRatedBy","filterMyReview","filter","getReviews","getAlreadyReviewed","newReview","revieweeId","post","put","delete","Product","categoryName","pageType","setItems","getItems","charAt","toUpperCase","slice","useStyles","makeStyles","theme","root","spacing","baseStyle","flex","flexDirection","alignItems","borderWidth","borderRadius","borderColor","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","CreateListing","classes","files","setFiles","form","setForm","errors","setErrors","idealCategories","setIdealCategories","swapCategories","setSwapCategories","onDrop","useCallback","acceptedFiles","images","newFiles","file","Object","assign","preview","URL","createObjectURL","customFileName","Date","now","toString","concat","name","allFiles","useDropzone","accept","maxFiles","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","thumbs","forEach","revokeObjectURL","setField","field","findFormErrors","description","tangible","newErrors","keys","newItemSwapCat","categoryObject","toLowerCase","newItemIdealSwap","FormData","i","append","uploadFileRes","newItem","userId","imagePaths","categories","Form","Group","controlId","Control","isInvalid","fontSize","Feedback","Label","maxlength","as","rows","disabled","hidden","Autocomplete","multiple","limitTags","options","getOptionLabel","option","newValue","renderInput","params","TextField","SingleItem","imgLinkArray","imgLink","SwapAway","itemUserId","itemUser","setItemUser","getItemUser","handleSwapAway","members","newConvo","Alert","sm","Heading","UserItemCommand","itemStatus","handleReserve","handleUnreserve","handleSwap","handleUnswap","showInput","setShowInput","input","setInput","setError","handleKeyDownSwap","parties","itemId","setItem","copyLinkText","setCopyLinkText","getItem","agreementId","handleCopyLink","dummy","document","createElement","text","window","location","href","body","appendChild","select","execCommand","removeChild","marginLeft","Login","setUsername","password","setPassword","usernameRef","useRef","passwordRef","checkCredentials","current","then","setCustomValidity","response","handleUsername","handlePassword","userCredential","io","on","emit","loginCall","onSubmit","position","top","left","ref","required","Conversation","active","lastMessageText","lastMessageTime","online","displayTimeAgo","setDisplayTimeAgo","setUser","format","setInterval","clearInterval","getUser","Message","message","own","pictureLink","show","setShow","createdAt","Chat","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","onlineUsers","setOnlineUsers","currentChatWith","setCurrentChatWith","currentChatWithLastActive","setCurrentChatWithLastActive","scrollRef","initialActiveConvoId","getInitialActiveConvo","sender","senderId","includes","prev","users","chatFollow","f","some","u","getConversations","getMessages","friendId","find","m","getCurrentChatWith","updateLastActive","timeago","newLastActive","lastActive","handleSendMessage","conversationId","updateRes","receiverId","member","handleGenerateAgreement","scrollIntoView","behavior","c","imgFile","setImgFile","showPassword","imgError","setImgError","passwordUpdateValid","setPasswordUpdateValid","handleChangePicture","updatePicture","newProfilePicture","imagePath","newUser","handleSubmitPassword","updatePassword","currentPassword","newPassword","confirmPassword","wrongPasswordError","newFile","placeHolder","isValid","checked","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b70e181.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport \"./topbar.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { Search, TextsmsOutlined } from \"@material-ui/icons\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nexport default function TopBar({ currentUser }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const history = useHistory();\r\n  const [searchText, setSearchText] = useState(\"\");\r\n\r\n  const handleClickHome = () => {\r\n    history.push(\"/home\");\r\n  };\r\n  const handleClickCreate = () => {\r\n    history.push(\"/create\");\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      if ((searchText.match(/^\\s*\\n*\\t*$/) || []).length > 0) {\r\n        console.log(\"search string is empty!\");\r\n      } else {\r\n        history.push(\"/product/search/\" + searchText);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <Navbar className=\"topbarWrapper fixed-top\" expand=\"lg\">\r\n      <Navbar.Brand onClick={() => handleClickHome()}>\r\n        <img className=\"ReHashLogo\" src={PF + \"ReHashLogo.png\"} alt=\"\" />\r\n        <span className=\"logoText\">ReHash</span>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\" className=\"collapseBar\">\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link className=\"swap\" onClick={() => handleClickCreate()}>\r\n            Swap on ReHash\r\n          </Nav.Link>\r\n          <div className=\"searchbar\">\r\n            <Search className=\"searchIcon\" />\r\n            <input\r\n              placeholder=\"Seach for a swap...\"\r\n              className=\"searchInput\"\r\n              value={searchText}\r\n              onChange={(e) => setSearchText(e.target.value)}\r\n              onKeyDown={handleSearch}\r\n            />\r\n          </div>\r\n          <Link to=\"/chat/0\">\r\n            <TextsmsOutlined className=\"chat\" htmlColor=\"orange\" />\r\n          </Link>\r\n          <Link\r\n            to={\r\n              currentUser\r\n                ? \"/profile/\" + currentUser.username + \"/listings\"\r\n                : \"/\"\r\n            }\r\n          >\r\n            <img\r\n              className=\"userProfilePic\"\r\n              src={\r\n                currentUser && currentUser.profilePicture\r\n                  ? PF + currentUser.profilePicture\r\n                  : PF + \"person/noAvatar.png\"\r\n              }\r\n              alt=\"userProfile\"\r\n            />\r\n          </Link>\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button, Col, Row } from \"react-bootstrap\";\r\nimport {\r\n  Accessibility,\r\n  Face,\r\n  SportsFootball,\r\n  Home,\r\n  DriveEta,\r\n  Redeem,\r\n  Computer,\r\n  Apps,\r\n} from \"@material-ui/icons\";\r\nimport \"./itemlistsTangible.css\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function ItemLists() {\r\n  const responsive = {\r\n    superLargeDesktop: {\r\n      // the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 8,\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 6,\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n    },\r\n  };\r\n  const history = useHistory();\r\n  const handleClick = (category) => {\r\n    history.push(\"/product/categories/\" + category);\r\n  };\r\n  return (\r\n    <Carousel responsive={responsive}>\r\n      <div className=\"item\" onClick={() => handleClick(\"clothing\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Accessibility className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Clothing</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"beauty\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Face className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Beauty</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"sports equipments\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <SportsFootball className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Sports Equipments</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"home appliances\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Home className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Home Appliances</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"automotive\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <DriveEta className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Automotive</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"hobbies\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Redeem className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Hobbies</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"computers and tech\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Computer className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Computers & Tech</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"other tangibles\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Apps className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Others</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Carousel>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./itemlistsIntangible.css\";\r\nimport { Button, Col, Row } from \"react-bootstrap\";\r\nimport {\r\n  OutdoorGrill,\r\n  Room,\r\n  Forum,\r\n  Fastfood,\r\n  BeachAccess,\r\n  SportsHandball,\r\n  SportsEsports,\r\n  Apps,\r\n} from \"@material-ui/icons\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function ItemListsIntangible() {\r\n  const responsive = {\r\n    superLargeDesktop: {\r\n      // the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 8,\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 6,\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n    },\r\n  };\r\n  const history = useHistory();\r\n  const handleClick = (category) => {\r\n    history.push(\"/product/categories/\" + category);\r\n  };\r\n  return (\r\n    <Carousel responsive={responsive}>\r\n      <div className=\"item\" onClick={() => handleClick(\"outdoor activities\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <OutdoorGrill className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Outdoor Activities</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"travel\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Room className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Travel</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"discussion\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Forum className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Discussion</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"food\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Fastfood className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Food</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"indoor activities\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <BeachAccess className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Indoor Activities</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"sports\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <SportsHandball className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Sports</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"games and esports\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <SportsEsports className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Games & Esports</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"item\" onClick={() => handleClick(\"other intangibles\")}>\r\n        <div className=\"button\">\r\n          <Button className=\"itemButton\">\r\n            <Col>\r\n              <Row>\r\n                <Apps className=\"itemIcon\" />\r\n              </Row>\r\n              <Row>\r\n                <span className=\"itemText text-center\">Others</span>\r\n              </Row>\r\n            </Col>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Carousel>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { Card, Row, Col } from \"react-bootstrap\";\r\nimport \"./trendingswaps.css\";\r\nimport Chip from '@material-ui/core/Chip';\r\n\r\nexport default function TrendingSwaps() {\r\n    return (\r\n        <div className=\"trendingSwap\">\r\n                <Row xs={1} md={3} className=\"g-4\">\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/levijeans.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Male Levi Jeans (size 28)</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Beauty\" size=\"small\" color=\"secondary\"/>\r\n                            <Chip className=\"tag\" label=\"Clothing\" size=\"small\" color=\"secondary\"/>\r\n                            <Card.Text>\r\n                                Looking for a swap as I am trying to clear my wardrobe.\r\n                                The jeans are still in very good conditions. Open to all swaps!\r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                        <Card>  \r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/basketball.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Basketball Experience Session</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Sports Equipments\" size=\"small\" color=\"secondary\"/>\r\n                            <Chip className=\"tag\" label=\"Outdoor Activities\" size=\"small\" color=\"primary\"/>\r\n                            <Card.Text>\r\n                                I'm offering a Basketball experience session for people who are new to the sport. \r\n                                Looking forward to receiving swap offers!\r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/cooking.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Brownies Baking Session</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Indoor Activities\" size=\"small\" color=\"primary\"/>\r\n                            <Card.Text>\r\n                                I am an experienced baker and looking step out of my comfort zones\r\n                                to explore new activities. Indoor activities would be a nice match \r\n                                but I am also open to other swaps as well! Swap away!\r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/drone.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Drone</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Games & Esports\" size=\"small\" color=\"primary\"/>\r\n                            <Chip className=\"tag\" label=\"Hobbies\" size=\"small\" color=\"secondary\"/>\r\n                            <Chip className=\"tag\" label=\"Computers & Tech\" size=\"small\" color=\"secondary\"/>\r\n                            <Card.Text>\r\n                                I bought this drone a few months ago but barely used. \r\n                                Looking for a new hobby as I don't really enjoy drone flying.\r\n                                I like gadgets and IT a lot so i want to explore or own cool gadgets\r\n                                as a replacement for my drones.\r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/esports.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Dota Online Gaming Session</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Computers & Tech\" size=\"small\" color=\"secondary\"/>\r\n                            <Chip className=\"tag\" label=\"Games & Esports\" size=\"small\" color=\"primary\"/>\r\n                            <Chip className=\"tag\" label=\"Discussion\" size=\"small\" color=\"secondary\"/>\r\n                            <Card.Text>\r\n                                I'm a bored gamer who really love to play Dota. I want to find a friend who could \r\n                                play together as make friends :) I also like to discuss game strategies as well \r\n                                as tech related stuff! \r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/guitar.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Guitar Jamming Session</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Indoor Activities\" size=\"small\" color=\"primary\"/>\r\n                            <Chip className=\"tag\" label=\"Others\" size=\"small\" />\r\n                            <Card.Text>\r\n                                Looking for someone who wanna do song covers together. I'm a guitarist so \r\n                                I wanna find a drummer to wanna make music together and jam with me!\r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/hiking.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Hiking Exploration Session</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Outdoor Activities\" size=\"small\" color=\"primary\"/>\r\n                            <Chip className=\"tag\" label=\"Food\" size=\"small\" color=\"primary\"/>\r\n                            <Chip className=\"tag\" label=\"Others\" size=\"small\" />\r\n                            <Card.Text>\r\n                                If you wanna explore hiking do offer me some swap! Details can be \r\n                                discussed later :) \r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/tetris.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Tetris Strategy Discussion</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Games & Esports\" size=\"small\" color=\"primary\"/>\r\n                            <Chip className=\"tag\" label=\"Hobbies\" size=\"small\" color=\"secondary\"/>\r\n                            <Chip className=\"tag\" label=\"Discussion\" size=\"small\" color=\"primary\"/>\r\n                            <Card.Text>\r\n                                Tetris is such a niche game and I don't really have friends \r\n                                around me who emjoy playing such a game. Looking for a tetris player\r\n                                who wanna play together and learn from each other!\r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                        <Col>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src=\"/assests/trendingItems/watch.jpg\" className=\"trendingSwapItemImg\"/>\r\n                            <Card.Body className=\"trendingSwapItemBody\">\r\n                            <Card.Title>Fossil Watch</Card.Title>\r\n                            <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n                            <Chip className=\"tag\" label=\"Clothing\" size=\"small\" color=\"secondary\"/>\r\n                            <Chip className=\"tag\" label=\"Beauty\" size=\"small\" color=\"secondary\"/>\r\n                            <Chip className=\"tag\" label=\"Others\" size=\"small\" color=\"primary\"/>\r\n                            <Card.Text>\r\n                                Bought this watch compulsively but barely used. Looking for \r\n                                a cool swap with this cool watch!\r\n                            </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                        </Col>\r\n                    \r\n                </Row>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport \"./ads.css\";\r\nimport { Carousel } from \"react-bootstrap\";\r\n\r\nexport default function Ads() {\r\n    return (\r\n        <div>\r\n           <Carousel className=\"adsWrapper\">\r\n                <Carousel.Item interval={3000}>\r\n                    <img\r\n                    className=\"adsPics d-block w-50\"\r\n                    src=\"assests/adsPics/ads1.jpeg\"\r\n                    alt=\"First slide\"\r\n                    />\r\n                </Carousel.Item>\r\n                <Carousel.Item interval={3000}>\r\n                    <img\r\n                    className=\"adsPics d-block w-50\"\r\n                    src=\"/assests/adsPics/ads2.jpeg\"\r\n                    alt=\"Second slide\"\r\n                    />\r\n                </Carousel.Item>\r\n                <Carousel.Item interval={3000}>\r\n                    <img\r\n                    className=\"adsPics d-block w-50\"\r\n                    src=\"/assests/adsPics/ads3.jpeg\"\r\n                    alt=\"Third slide\"\r\n                    />\r\n                </Carousel.Item>\r\n            </Carousel> \r\n        </div>\r\n    )\r\n}\r\n","const AuthReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n        sockio: null,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload.user,\r\n        isFetching: false,\r\n        error: false,\r\n        sockio: action.payload.sock,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: action.payload,\r\n        sockio: null,\r\n      };\r\n    case \"LOGOUT_START\":\r\n      return {\r\n        user: action.payload.user,\r\n        isFetching: true,\r\n        error: false,\r\n        sockio: action.payload.sock,\r\n      };\r\n    case \"LOGOUT_SUCCESS\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: false,\r\n        sockio: null,\r\n      };\r\n    case \"LOGOUT_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: action.payload,\r\n        sockio: null,\r\n      };\r\n    case \"UPDATE\":\r\n      return {\r\n        user: action.payload.user,\r\n        isFetching: false,\r\n        error: false,\r\n        sockio: action.payload.sock,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AuthReducer;\r\n","import { createContext, useReducer } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: null,\r\n  isFetching: false,\r\n  error: false,\r\n  sockio: null,\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        sockio: state.sockio,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport ItemListsTangible from \"../../components/itemlistsTangible/ItemListsTangible\";\r\nimport \"./home.css\";\r\nimport ItemListsIntangible from \"../../components/itemlistsIntangible/ItemListsIntangible\";\r\nimport TrendingSwaps from \"../../components/trendingSwaps/TrendingSwaps\";\r\nimport Ads from \"../../components/ads/Ads\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Home() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    console.log(\"socket is: \", sockio?.id);\r\n    console.log(\"user is: \", user);\r\n  }, [sockio, user]);\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <Ads />\r\n      <div className=\"homeWrapper\">\r\n        <div className=\"tangible\">\r\n          <div className=\"itemsType\">\r\n            <span>Explore Tangible</span>\r\n          </div>\r\n          <ItemListsTangible />\r\n        </div>\r\n        <div className=\"intangible\">\r\n          <div className=\"itemsType\">\r\n            <span>Explore Intangible {sockio?.id}</span>\r\n          </div>\r\n          <ItemListsIntangible />\r\n        </div>\r\n\r\n        <div className=\"trendingSwap\">\r\n          <span className=\"trendingSwapHead\">Trending Swaps</span>\r\n          <TrendingSwaps className=\"trendingSwapItems\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport \"./sidebar.css\";\r\nimport { Rating } from \"@material-ui/lab\";\r\n\r\nimport {\r\n  CDBSidebar,\r\n  CDBSidebarContent,\r\n  CDBSidebarFooter,\r\n  CDBSidebarHeader,\r\n  CDBSidebarMenu,\r\n  CDBSidebarMenuItem,\r\n} from \"cdbreact\";\r\nimport { LocalMall, SwapVert, ExitToApp, Settings } from \"@material-ui/icons\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function SideBar({ sidebarUser }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const { user, sockio, dispatch } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const handleLogOut = async (e) => {\r\n    e.preventDefault();\r\n    const logoutCall = async (dispatch) => {\r\n      dispatch({ type: \"LOGOUT_START\", payload: { user: user, sock: sockio } });\r\n      try {\r\n        await sockio.disconnect();\r\n        dispatch({ type: \"LOGOUT_SUCCESS\" });\r\n      } catch (err) {\r\n        dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n      }\r\n    };\r\n    await logoutCall(dispatch);\r\n    history.push(\"/\");\r\n    console.log(\"logged out\");\r\n  };\r\n\r\n  const handleListings = () => {\r\n    history.push(\"/profile/\" + sidebarUser?.username + \"/listings\");\r\n    console.log(\"done\");\r\n  };\r\n  const handleReviews = () => {\r\n    history.push(\"/profile/\" + sidebarUser?.username + \"/reviews\");\r\n  };\r\n  const handleSettings = () => {\r\n    history.push(\"/profile/\" + sidebarUser?.username + \"/settings\");\r\n  };\r\n  return (\r\n    <div\r\n      className=\"sidebar\"\r\n      style={{ display: \"flex\", height: \"100vh\", overflow: \"scroll initial\" }}\r\n    >\r\n      <CDBSidebar textColor=\"black\" backgroundColor=\"#FFD68D\">\r\n        <CDBSidebarMenu className=\"dummyslot\"></CDBSidebarMenu>\r\n        <CDBSidebarMenu className=\"dummyslot\"></CDBSidebarMenu>\r\n        <CDBSidebarMenu className=\"dummyslot\"></CDBSidebarMenu>\r\n        <CDBSidebarMenu className=\"dummyslot\"></CDBSidebarMenu>\r\n        <CDBSidebarHeader prefix={<i className=\"fa fa-bars fa-large\"></i>}>\r\n          <img\r\n            className=\"userProfile\"\r\n            src={\r\n              sidebarUser?.profilePicture\r\n                ? PF + sidebarUser.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n            }\r\n            alt=\"\"\r\n          />\r\n        </CDBSidebarHeader>\r\n        <CDBSidebarHeader style={{ textAlign: \"center\" }}>\r\n          <div>{sidebarUser?.username}</div>\r\n          <div className=\"ratings\">\r\n            <div>Ratings: </div>\r\n            <Rating\r\n              value={\r\n                sidebarUser\r\n                  ? sidebarUser.cumulativeRating / sidebarUser.ratedByUsers\r\n                  : 3\r\n              }\r\n              precision={0.1}\r\n              readOnly\r\n            />\r\n          </div>\r\n        </CDBSidebarHeader>\r\n        <CDBSidebarContent>\r\n          <CDBSidebarMenu>\r\n            <CDBSidebarMenuItem\r\n              onClick={handleListings}\r\n              className=\"sidebarMenuItem\"\r\n            >\r\n              <LocalMall className=\"sidebarIcons\" />\r\n              <span className=\"sidebarMenuText\">Listings</span>\r\n            </CDBSidebarMenuItem>\r\n            <CDBSidebarMenuItem\r\n              className=\"sidebarMenuItem\"\r\n              onClick={handleReviews}\r\n            >\r\n              <SwapVert className=\"sidebarIcons\" />\r\n              <span className=\"sidebarMenuText\">Reviews</span>\r\n            </CDBSidebarMenuItem>\r\n            {sidebarUser && sidebarUser._id === user?._id ? (\r\n              <CDBSidebarMenuItem\r\n                className=\"sidebarMenuItem\"\r\n                onClick={handleSettings}\r\n              >\r\n                <Settings className=\"sidebarIcons\" />\r\n                <span className=\"sidebarMenuText\">Settings</span>\r\n              </CDBSidebarMenuItem>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </CDBSidebarMenu>\r\n        </CDBSidebarContent>\r\n        {sidebarUser && sidebarUser._id === user?._id ? (\r\n          <CDBSidebarFooter style={{ textAlign: \"center\" }}>\r\n            <div\r\n              className=\"sidebar-btn-wrapper\"\r\n              style={{ padding: \"20px 5px\" }}\r\n            >\r\n              <ExitToApp className=\"sidebarIcons\" onClick={handleLogOut} />\r\n              <span className=\"sidebarMenuText\" onClick={handleLogOut}>\r\n                Log out\r\n              </span>\r\n            </div>\r\n          </CDBSidebarFooter>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </CDBSidebar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport \"./itemListing.css\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function ItemListing({ item }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const history = useHistory();\r\n  const handleClickItem = () => {\r\n    history.push(\"/items/\" + item._id);\r\n    // console.log(\"clicked\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(item);\r\n  }, [item]);\r\n  return (\r\n    <div className=\"itemListingWrapper\" onClick={() => handleClickItem()}>\r\n      <Card>\r\n        <Card.Img\r\n          variant=\"top\"\r\n          src={PF + item.img[0]}\r\n          className=\"trendingSwapItemImg\"\r\n        />\r\n        <Card.Body className=\"trendingSwapItemBody\">\r\n          <Card.Title className=\"itemListingCardTitle\">\r\n            <span style={{ marginRight: \"10px\" }}>{item.title}</span>\r\n            <Chip\r\n              className=\"tag\"\r\n              label={item.status === \"waiting\" ? \"available\" : item.status}\r\n              size=\"small\"\r\n              color={\r\n                item.status === \"waiting\"\r\n                  ? \"\"\r\n                  : item.status === \"reserved\"\r\n                  ? \"primary\"\r\n                  : \"secondary\"\r\n              }\r\n              style={{\r\n                marginBottom: \"5px\",\r\n                marginTop: \"5px\",\r\n              }}\r\n            />\r\n          </Card.Title>\r\n          <span className=\"trendingSwapText\">Ideal Swap: </span>\r\n          {item.idealSwaps.map((tags) => (\r\n            <Chip\r\n              key={tags}\r\n              className=\"tag\"\r\n              label={tags}\r\n              size=\"small\"\r\n              color=\"secondary\"\r\n              style={{ marginRight: \"5px\" }}\r\n            />\r\n          ))}\r\n\r\n          <Card.Text>{item.desc}</Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Star(props) {\r\n  const { fill = \"none\" } = props;\r\n  return (\r\n    <svg\r\n      class=\"w-6 h-6 star\"\r\n      fill={fill}\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth=\"0\"\r\n        d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\r\n      ></path>\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useMemo } from \"react\";\r\nimport Star from \"../star/Star\";\r\n\r\nexport default function RatingIcon({\r\n  index,\r\n  rating,\r\n  hoverRating,\r\n  onMouseEnter,\r\n  onMouseLeave,\r\n  onSaveRating,\r\n  selected,\r\n  notSelected,\r\n}) {\r\n  const fill = useMemo(() => {\r\n    if (hoverRating >= index) {\r\n      return \"rgb(240, 158, 6)\";\r\n    } else if (!hoverRating && rating >= index) {\r\n      return \"rgb(240, 158, 6)\";\r\n    }\r\n    return \"rgb(145, 144, 144)\";\r\n  }, [rating, hoverRating, index]);\r\n\r\n  return (\r\n    <div\r\n      style={{ height: \"20px\", width: \"20px\" }}\r\n      className=\"cursor-pointer\"\r\n      onMouseEnter={() => onMouseEnter(index)}\r\n      onMouseLeave={() => onMouseLeave()}\r\n      onClick={() => onSaveRating(index)}\r\n    >\r\n      {selected ? (\r\n        <Star fill={\"rgb(240, 158, 6)\"} />\r\n      ) : notSelected ? (\r\n        <Star fill={\"rgb(145, 144, 144)\"} />\r\n      ) : (\r\n        <Star fill={fill} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./userReview.css\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport Star from \"../star/Star\";\r\nimport RatingIcon from \"../RatingIcon/RatingIcon\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { get } from \"mongoose\";\r\nimport axios from \"axios\";\r\n\r\nexport default function UserReview({\r\n  review,\r\n  doneReview,\r\n  handleSubmit,\r\n  handleDelete,\r\n}) {\r\n  const [rating, setRating] = useState(0);\r\n  const [hoverRating, setHoverRating] = useState(0);\r\n  const { user } = useContext(AuthContext);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [reviewer, setReviewer] = useState(null);\r\n  const [reviewText, setReviewText] = useState(\"\");\r\n\r\n  //set the reviewer\r\n  useEffect(() => {\r\n    const getReviewUser = async () => {\r\n      const res = await axios.get(\"/api/users?userId=\" + review.reviewerId);\r\n      setReviewer(res.data);\r\n    };\r\n    if (review) {\r\n      getReviewUser();\r\n    }\r\n  }, [review]);\r\n\r\n  const onMouseEnter = (index) => {\r\n    if (!doneReview) {\r\n      setHoverRating(index);\r\n      console.log(\"hover rating is: \" + index);\r\n    }\r\n  };\r\n\r\n  const onMouseLeave = () => {\r\n    if (!doneReview) {\r\n      setHoverRating(0);\r\n    }\r\n  };\r\n\r\n  const onSaveRating = (index) => {\r\n    if (!doneReview) {\r\n      setRating(index);\r\n      console.log(\"your rating is: \" + index);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"userReview\">\r\n      <div className=\"userReviewTop\">\r\n        <img\r\n          src={\r\n            doneReview\r\n              ? reviewer && reviewer.profilePicture\r\n                ? PF + reviewer.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n              : user && user.profilePicture\r\n              ? PF + user.profilePicture\r\n              : PF + \"person/noAvatar.png\"\r\n          }\r\n          alt=\"\"\r\n          className=\"userReviewImg\"\r\n        />\r\n        <div className=\"userReviewTopMiddle\">\r\n          <div className=\"userReviewTopMiddleName\">\r\n            {doneReview\r\n              ? reviewer?.username\r\n              : user\r\n              ? user.username\r\n              : \"Anonymous\"}\r\n          </div>\r\n          <div className=\"userReviewTopMiddleRatings\">\r\n            <div className=\"userReviewTopMiddleRatingsText\">Ratings: </div>\r\n            <div className=\"userReviewRatingStars\">\r\n              {review\r\n                ? [1, 2, 3, 4, 5].map((index) => {\r\n                    return (\r\n                      <RatingIcon\r\n                        index={index}\r\n                        rating={rating}\r\n                        hoverRating={hoverRating}\r\n                        onMouseEnter={onMouseEnter}\r\n                        onMouseLeave={onMouseLeave}\r\n                        onSaveRating={onSaveRating}\r\n                        selected={review.rating >= index}\r\n                        notSelected={review.rating < index}\r\n                      />\r\n                    );\r\n                  })\r\n                : [1, 2, 3, 4, 5].map((index) => {\r\n                    return (\r\n                      <RatingIcon\r\n                        index={index}\r\n                        rating={rating}\r\n                        hoverRating={hoverRating}\r\n                        onMouseEnter={onMouseEnter}\r\n                        onMouseLeave={onMouseLeave}\r\n                        onSaveRating={onSaveRating}\r\n                      />\r\n                    );\r\n                  })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"userReviewTopRight\">\r\n          {doneReview ? (\r\n            review.reviewerId === user?._id ? (\r\n              <button\r\n                className=\"userReviewSubmitButton\"\r\n                onClick={() => handleDelete(review)}\r\n              >\r\n                Delete\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )\r\n          ) : (\r\n            <button\r\n              className=\"userReviewSubmitButton\"\r\n              onClick={() => handleSubmit(reviewText, rating)}\r\n            >\r\n              Submit\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"userReviewBottom\">\r\n        {doneReview ? (\r\n          <div className=\"userReviewedText\">{review.reviewText}</div>\r\n        ) : (\r\n          <textarea\r\n            placeholder=\"(Optional) Leave a review ...\"\r\n            className=\"userReviewInput\"\r\n            value={reviewText}\r\n            onChange={(e) => setReviewText(e.target.value)}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./userlisting.css\";\r\nimport { Row, Container } from \"react-bootstrap\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport ItemListing from \"../../components/itemListing/ItemListing\";\r\nimport { Paper, Tabs, Tab } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport UserReview from \"../../components/userReview/UserReview\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function UserListing() {\r\n  const { user, sockio } = useContext(AuthContext); //this user is currentUser\r\n  const username = useParams().username;\r\n  // const subpage = useParams().subpage;\r\n  const [displayItems, setDisplayItems] = useState([]);\r\n  const [viewingCategory, setViewingCategory] = useState(\"tangibles\");\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [tabValue, setTabValue] = useState(0);\r\n\r\n  useEffect(() => {\r\n    console.log(\"socket is: \", sockio?.id);\r\n    console.log(\"username is: \", username);\r\n    // console.log(\"subpage is:\", subpage);\r\n  }, [sockio, username]);\r\n\r\n  useEffect(() => {\r\n    const getProfileUser = async () => {\r\n      if (username) {\r\n        const res = await axios.get(\"/api/users?username=\" + username);\r\n        setProfileUser(res.data);\r\n        console.log(\"profileUser is: \" + res.data);\r\n      }\r\n    };\r\n    getProfileUser();\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    const getDisplayItems = async () => {\r\n      if (profileUser) {\r\n        const res = await axios.get(\r\n          \"/api/items/categories?categoryName=\" +\r\n            viewingCategory +\r\n            \"&userId=\" +\r\n            profileUser._id\r\n        );\r\n        setDisplayItems(res.data);\r\n        //console.log(res.data);\r\n      }\r\n    };\r\n    getDisplayItems();\r\n  }, [viewingCategory, profileUser]);\r\n\r\n  const handleClickTangible = () => {\r\n    setViewingCategory(\"tangibles\");\r\n    setTabValue(0);\r\n  };\r\n\r\n  const handleClickIntangible = () => {\r\n    setViewingCategory(\"intangibles\");\r\n    setTabValue(1);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"userlistingContainer\">\r\n        <SideBar className=\"sidebar\" sidebarUser={profileUser} />\r\n\r\n        <Container className=\"userlistingWrapper\">\r\n          <div className=\"tabBar\">\r\n            <Paper margin={200} style={{ marginBottom: \"10px\" }}>\r\n              <Tabs\r\n                value={tabValue}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                centered\r\n              >\r\n                <Tab label=\"Tangible\" onClick={handleClickTangible} />\r\n                <Tab label=\"Intangible\" onClick={handleClickIntangible} />\r\n              </Tabs>\r\n            </Paper>\r\n          </div>\r\n          <Row className=\"listingRow\" xs={1} md={3}>\r\n            {displayItems.length ? (\r\n              displayItems.map((item) => (\r\n                <ItemListing key={item._id} item={item} />\r\n              ))\r\n            ) : (\r\n              <div>User does not have any item in this category</div>\r\n            )}\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./review.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport UserReview from \"../../components/userReview/UserReview\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst cheeseCakeReview = {\r\n  _id: \"60cb421ce5ae38aaf0c6ec7b\",\r\n  reviewerId: \"60bf21abb893706a58752ecf\",\r\n  revieweeId: \"60bf2195b893706a58752ece\",\r\n  rating: 4,\r\n  reviewText:\r\n    \"The cheese baked rice session I attended was awesome! Punpun is very patient and handheld me throughout the whole session. I'm satisfied with my homemade cheese baked rice!\",\r\n  createdAt: \"2021-06-17T12:37:48.610Z\",\r\n  updatedAt: \"2021-06-17T12:37:48.610Z\",\r\n  __v: 0,\r\n};\r\n\r\nconst punpunReviewBing = {\r\n  _id: \"60ca10cf56bca394fc060b94\",\r\n  reviewerId: \"60bf2195b893706a58752ece\",\r\n  revieweeId: \"60bf21abb893706a58752ecf\",\r\n  rating: 4,\r\n  reviewText: \"The user is very patient and I find the swap very worthwhile\",\r\n  createdAt: \"2021-06-17T12:37:48.610Z\",\r\n  updatedAt: \"2021-06-17T12:37:48.610Z\",\r\n  __v: 0,\r\n};\r\n\r\nexport default function Review() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const username = useParams().username;\r\n  const [reviews, setReviews] = useState([]);\r\n  const [alreadyReviewed, setAlreadyReviewed] = useState(false);\r\n  const [myReview, setMyReview] = useState([]); //the review by the currentUser on the profileUser\r\n  const [initialCumRating, setInitialCumRating] = useState(0);\r\n  const [initialRatedBy, setInitialRatedBy] = useState(0);\r\n  //get the profile user of this page\r\n  useEffect(() => {\r\n    const getProfileUser = async () => {\r\n      if (username) {\r\n        const res = await axios.get(\"/api/users?username=\" + username);\r\n        setProfileUser(res.data);\r\n        console.log(\"profileUser is: \" + res.data);\r\n      }\r\n    };\r\n    getProfileUser();\r\n  }, [username]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"user is changed\");\r\n    console.log(user);\r\n  }, [user]);\r\n\r\n  //get all the reviews of this profileUser\r\n  useEffect(() => {\r\n    console.log(user);\r\n    const getReviews = async () => {\r\n      const res = await axios.get(\r\n        \"/api/reviews/profileUser/\" + profileUser._id\r\n      );\r\n      const filterMyReview = res.data.filter(\r\n        //filter away reviews made by currentUser\r\n        (review) => review.reviewerId !== user?._id\r\n      );\r\n      setReviews(filterMyReview);\r\n      console.log(filterMyReview);\r\n    };\r\n    if (profileUser) {\r\n      getReviews();\r\n      setInitialCumRating(profileUser.cumulativeRating);\r\n      setInitialRatedBy(profileUser.ratedByUsers);\r\n    }\r\n  }, [profileUser, user]);\r\n\r\n  //set alreadyReviewed intially based on currentUser and profileUser\r\n  useEffect(() => {\r\n    const getAlreadyReviewed = async () => {\r\n      if (!user || !profileUser || profileUser._id === user._id) {\r\n        setAlreadyReviewed(true); //set to true so we cannot review the profileUser\r\n      } else {\r\n        const res = await axios.get(\r\n          \"/api/reviews/between/\" + profileUser._id + \"/\" + user._id\r\n        );\r\n        if (res.data.length > 0) {\r\n          setAlreadyReviewed(true);\r\n          setMyReview(res.data);\r\n          console.log(res.data);\r\n        } else {\r\n          setAlreadyReviewed(false);\r\n        }\r\n      }\r\n    };\r\n    getAlreadyReviewed();\r\n  }, [profileUser, user]);\r\n\r\n  //handleSubmit if a review is added\r\n  const handleSubmit = async (reviewText, rating) => {\r\n    if (!alreadyReviewed && rating > 0) {\r\n      console.log(\"reviewText is: \" + reviewText + \"\\n rating is: \" + rating);\r\n      const newReview = {\r\n        reviewerId: user._id,\r\n        revieweeId: profileUser._id,\r\n        rating: rating,\r\n        reviewText: reviewText,\r\n      };\r\n      const res = await axios.post(\"/api/reviews\", newReview);\r\n      setMyReview([...myReview, res.data]);\r\n      setAlreadyReviewed(true);\r\n      //also update ratings of profileUser\r\n      const updateRatingRes = await axios.put(\"/api/users/\" + profileUser._id, {\r\n        cumulativeRating: initialCumRating + rating,\r\n        ratedByUsers: initialRatedBy + 1,\r\n      });\r\n      setInitialCumRating(initialCumRating + rating);\r\n      setInitialRatedBy(initialRatedBy + 1);\r\n    }\r\n  };\r\n\r\n  //handleDelete if own rating is deleted\r\n  const handleDelete = async (review) => {\r\n    if (alreadyReviewed) {\r\n      console.log(review);\r\n      const res = await axios.delete(\"/api/reviews/id/\" + review._id);\r\n      console.log(res.status);\r\n      console.log(typeof res.status);\r\n      setMyReview([]);\r\n      setAlreadyReviewed(false);\r\n      const updateRatingRes = await axios.put(\"/api/users/\" + profileUser._id, {\r\n        cumulativeRating: initialCumRating - review.rating,\r\n        ratedByUsers: initialRatedBy - 1,\r\n      });\r\n      setInitialCumRating(initialCumRating - review.rating);\r\n      setInitialRatedBy(initialRatedBy - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"userReviewsContainer\">\r\n        <SideBar sidebarUser={profileUser} />\r\n\r\n        <Container className=\"userReviewsWrapper\">\r\n          <span className=\"userReviewsHeader\">Reviews</span>\r\n          {alreadyReviewed ? (\r\n            <></>\r\n          ) : (\r\n            <UserReview\r\n              className=\"userReview\"\r\n              doneReview={false}\r\n              handleSubmit={handleSubmit}\r\n              handleDelete={handleDelete}\r\n            />\r\n          )}\r\n          {myReview.map((review) => (\r\n            <UserReview\r\n              className=\"userReview\"\r\n              key={review._id}\r\n              review={review}\r\n              doneReview={true}\r\n              handleSubmit={handleSubmit}\r\n              handleDelete={handleDelete}\r\n            />\r\n          ))}\r\n          {reviews.map((review) => (\r\n            <UserReview\r\n              className=\"userReview\"\r\n              key={review._id}\r\n              review={review}\r\n              doneReview={true}\r\n              handleSubmit={handleSubmit}\r\n              handleDelete={handleDelete}\r\n            />\r\n          ))}\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./product.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport ItemListing from \"../../components/itemListing/ItemListing\";\r\nimport { ArrowBackIos } from \"@material-ui/icons\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Product() {\r\n  const categoryName = useParams().categoryName;\r\n  const pageType = useParams().pageType;\r\n  const [items, setItems] = useState([]);\r\n  const { user, sockio } = useContext(AuthContext);\r\n  useEffect(() => {\r\n    console.log(\"categoryName is: \" + categoryName);\r\n    console.log(\"pageType is \" + pageType);\r\n    const getItems = async () => {\r\n      try {\r\n        if (pageType === \"categories\" && categoryName) {\r\n          const res = await axios.get(\r\n            \"/api/items/categories?categoryName=\" + categoryName\r\n          );\r\n          await setItems(res.data);\r\n        } else if (pageType === \"search\" && categoryName) {\r\n          const res = await axios.get(\"/api/items?search=\" + categoryName);\r\n          await setItems(res.data);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getItems();\r\n  }, [categoryName, pageType]);\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n\r\n      <div className=\"productWrapper\">\r\n        <div className=\"backArrow\">\r\n          {/* <Link to=\"/login\" className=\"registerBack\"> */}\r\n          <ArrowBackIos />\r\n          <span>Back</span>\r\n          {/* </Link> */}\r\n        </div>\r\n        <span className=\"productHeader\">\r\n          {pageType === \"search\"\r\n            ? \"Search results for: \" + categoryName\r\n            : pageType === \"categories\" && categoryName\r\n            ? categoryName.charAt(0).toUpperCase() + categoryName.slice(1)\r\n            : \"Product Descrption Header\"}\r\n        </span>\r\n        <Row className=\"listingRow\" xs={1} md={3}>\r\n          {items.map((item) => (\r\n            <div>\r\n              <ItemListing key={item._id} item={item} />\r\n            </div>\r\n          ))}\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  useContext,\r\n} from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport \"./createListing.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport { Form, Button, Card, Row, Col } from \"react-bootstrap\";\r\nimport AddPhotoAlternateOutlinedIcon from \"@material-ui/icons/AddPhotoAlternateOutlined\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 500,\r\n    \"& > * + *\": {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  },\r\n}));\r\n\r\nconst baseStyle = {\r\n  flex: 1,\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  padding: \"20px\",\r\n  borderWidth: 2,\r\n  borderRadius: 2,\r\n  borderColor: \"#eeeeee\",\r\n  borderStyle: \"dashed\",\r\n  backgroundColor: \"#fafafa\",\r\n  color: \"#bdbdbd\",\r\n  outline: \"none\",\r\n  transition: \"border .24s ease-in-out\",\r\n};\r\n\r\nconst activeStyle = {\r\n  borderColor: \"#2196f3\",\r\n};\r\n\r\nconst acceptStyle = {\r\n  borderColor: \"#00e676\",\r\n};\r\n\r\nconst rejectStyle = {\r\n  borderColor: \"#ff1744\",\r\n};\r\n\r\nexport default function CreateListing() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const classes = useStyles();\r\n  const category = [\r\n    { title: \"Clothing\" },\r\n    { title: \"Beauty\" },\r\n    { title: \"Sports Equipments\" },\r\n    { title: \"Home Appliances\" },\r\n    { title: \"Automotive\" },\r\n    { title: \"Clothing\" },\r\n    { title: \"Hobbies\" },\r\n    { title: \"Computers and Tech\" },\r\n    { title: \"Outdoor Activities\" },\r\n    { title: \"Travel\" },\r\n    { title: \"Discussion\" },\r\n    { title: \"Food\" },\r\n    { title: \"Indoor Activities\" },\r\n    { title: \"Sports\" },\r\n    { title: \"Games and Esports\" },\r\n    { title: \"Others\" },\r\n  ];\r\n\r\n  //Below is code for the Dropzone\r\n  const [files, setFiles] = useState([]);\r\n  const [form, setForm] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [idealCategories, setIdealCategories] = useState([]);\r\n  const [swapCategories, setSwapCategories] = useState([]);\r\n\r\n  //When file is dropped, set the new array of files based on different conditions\r\n  const onDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      if (!!errors[\"images\"]) {\r\n        setErrors({\r\n          ...errors,\r\n          images: null,\r\n        });\r\n      }\r\n      const newFiles = acceptedFiles.map((file) =>\r\n        Object.assign(file, {\r\n          preview: URL.createObjectURL(file),\r\n          customFileName: Date.now().toString().concat(file.name),\r\n        })\r\n      );\r\n      var allFiles = [...files, ...newFiles];\r\n      console.log(allFiles);\r\n      console.log(allFiles.length);\r\n      if (allFiles.length > 6) {\r\n        allFiles = allFiles.slice(allFiles.length - 6, allFiles.length);\r\n        console.log(allFiles);\r\n      }\r\n      setFiles(allFiles);\r\n    },\r\n    [errors, files]\r\n  );\r\n\r\n  //The useDropzone hook\r\n  const {\r\n    getRootProps,\r\n    getInputProps,\r\n    isDragActive,\r\n    isDragAccept,\r\n    isDragReject,\r\n  } = useDropzone({\r\n    accept: \"image/*\",\r\n    onDrop: onDrop,\r\n    maxFiles: 6,\r\n  });\r\n\r\n  //setting style for the dropzone\r\n  const style = useMemo(\r\n    () => ({\r\n      ...baseStyle,\r\n      ...(isDragActive ? activeStyle : {}),\r\n      ...(isDragAccept ? acceptStyle : {}),\r\n      ...(isDragReject ? rejectStyle : {}),\r\n    }),\r\n    [isDragActive, isDragReject, isDragAccept]\r\n  );\r\n\r\n  //previews of the images uploaded\r\n  const thumbs = files.map((file) => (\r\n    <div className=\"thumb\" key={file.customFileName}>\r\n      <img src={file.preview} className=\"userSwapImg\" alt=\"\" />\r\n    </div>\r\n  ));\r\n\r\n  useEffect(\r\n    () => () => {\r\n      // Make sure to revoke the data uris to avoid memory leaks\r\n      files.forEach((file) => URL.revokeObjectURL(file.preview));\r\n    },\r\n    [files]\r\n  );\r\n\r\n  //Below is for Form Control\r\n\r\n  const setField = (field, value) => {\r\n    setForm({\r\n      ...form,\r\n      [field]: value,\r\n    });\r\n\r\n    //if error exists, remove them from the error object\r\n    if (!!errors[field]) {\r\n      setErrors({\r\n        ...errors,\r\n        [field]: null,\r\n      });\r\n    }\r\n  };\r\n\r\n  const findFormErrors = () => {\r\n    const { title, description, tangible } = form;\r\n    const newErrors = {};\r\n\r\n    //title error\r\n    if (!title || title === \"\") {\r\n      newErrors.title = \"title cannot be blank!\";\r\n    } else if (title.length > 50) {\r\n      newErrors.title = \"title cannot be more than 50 characters\";\r\n    }\r\n\r\n    //description error\r\n    if (!description || description === \"\") {\r\n      newErrors.description = \"description cannot be blank!\";\r\n    } else if (description.length > 500) {\r\n      newErrors.description = \"description cannot be more than 500 characters\";\r\n    }\r\n\r\n    //Tangibles of intangibles not selected\r\n    if (!tangible || tangible === \"\") {\r\n      newErrors.tangible =\r\n        \"specify whether your item is tangible or intangible!\";\r\n    }\r\n\r\n    //Swap category errors\r\n    if (!swapCategories || swapCategories.length === 0) {\r\n      newErrors.swapCategories = \"select at least 1 category!\";\r\n    }\r\n\r\n    //Ideal swap category errors\r\n    if (!idealCategories || idealCategories.length === 0) {\r\n      newErrors.idealCategories = \"select at least 1 category!\";\r\n    }\r\n\r\n    //Check for images\r\n    if (files.length === 0) {\r\n      newErrors.images = \"you have to upload at least 1 image!\";\r\n    }\r\n\r\n    return newErrors;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newErrors = findFormErrors();\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      console.log(newErrors);\r\n    } else {\r\n      var newItemSwapCat = swapCategories.map((categoryObject) =>\r\n        categoryObject.title.toLowerCase()\r\n      );\r\n      newItemSwapCat = [...newItemSwapCat, form.tangible];\r\n      const newItemIdealSwap = idealCategories.map((categoryObject) =>\r\n        categoryObject.title.toLowerCase()\r\n      );\r\n\r\n      const data = new FormData();\r\n      for (let i = 0; i < files.length; i += 1) {\r\n        data.append(\"file\", files[i]);\r\n        data.append(\"name\", files[i].customFileName);\r\n        console.log(\"customFileName is: \" + files[i].customFileName);\r\n        console.log(typeof files[i].customFileName);\r\n      }\r\n\r\n      console.log(data);\r\n      const uploadFileRes = await axios.post(\"/api/upload/items\", data);\r\n      if (uploadFileRes.status === 200) {\r\n        const newItem = {\r\n          userId: user._id,\r\n          title: form.title,\r\n          desc: form.description,\r\n          img: uploadFileRes.data.imagePaths,\r\n          categories: newItemSwapCat,\r\n          idealSwaps: newItemIdealSwap,\r\n          status: \"waiting\",\r\n        };\r\n        console.log(newItem);\r\n        const res = await axios.post(\"/api/items\", newItem);\r\n        console.log(res.data);\r\n      }\r\n\r\n      setFiles([]);\r\n      setForm({\r\n        tangible: \"\",\r\n      });\r\n      setIdealCategories([]);\r\n      setSwapCategories([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"createListingHeader\">\r\n        <span>Make your swap today!</span>\r\n      </div>\r\n\r\n      {/* /* for uploading of images */}\r\n      <Row>\r\n        <Col xs={5}>\r\n          <Card className=\"uploadImagesCard shadow p-3 mb-5 bg-white rounded\">\r\n            <Card.Body>\r\n              <h5 className=\"uploadImagesCardHeader\">\r\n                Drag and Drop images here\r\n              </h5>\r\n              <h6 className=\"uploadImagesCardSubHeader\">or click to upload</h6>\r\n              <Form>\r\n                <Form.Group controlId=\"images\">\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    style={{ display: \"none\" }}\r\n                    isInvalid={!!errors.images}\r\n                  />\r\n                  <div className=\"swapImgDragAndDropWrapper\">\r\n                    <section className=\"container\">\r\n                      <div\r\n                        {...getRootProps({ style })}\r\n                        className=\"dragAndDropDiv\"\r\n                      >\r\n                        <input {...getInputProps()} />\r\n                        <p>\r\n                          <AddPhotoAlternateOutlinedIcon fontSize=\"large\" />\r\n                        </p>\r\n                        <p>Drop away your swap images...</p>\r\n                      </div>\r\n                      <aside className=\"thumbsContainer\">{thumbs}</aside>\r\n                    </section>\r\n                  </div>\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.images}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Form>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        <Col xs={7}>\r\n          <Form className=\"formWrapper\">\r\n            <Form.Group controlId=\"title\">\r\n              <Form.Label>Title</Form.Label>\r\n              <Form.Control\r\n                className=\"swapAwayFormControl\"\r\n                type=\"text\"\r\n                maxlength=\"50\"\r\n                placeholder=\"Enter your swap title\"\r\n                value={form.title ? form.title : \"\"}\r\n                onChange={(e) => setField(\"title\", e.target.value)}\r\n                isInvalid={!!errors.title}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {errors.title}\r\n              </Form.Control.Feedback>\r\n              <Form.Text className=\"text-muted\">\r\n                Create an interesting title for your swap!\r\n              </Form.Text>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"description\">\r\n              <Form.Label>Description</Form.Label>\r\n              <Form.Control\r\n                className=\"swapAwayFormControl\"\r\n                as=\"textarea\"\r\n                maxlength=\"500\"\r\n                rows={3}\r\n                value={form.description ? form.description : \"\"}\r\n                placeholder=\"Describe your swap\"\r\n                onChange={(e) => setField(\"description\", e.target.value)}\r\n                isInvalid={!!errors.description}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {errors.description}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"tangible\">\r\n              <Form.Label>Is your item Tangible or Intangible?</Form.Label>\r\n              <Form.Control\r\n                className=\"swapAwayFormControl\"\r\n                as=\"select\"\r\n                value={form.tangible}\r\n                onChange={(e) => setField(\"tangible\", e.target.value)}\r\n                isInvalid={!!errors.tangible}\r\n              >\r\n                <option value=\"\" disabled hidden selected>\r\n                  Select category:\r\n                </option>\r\n                {/*The tangibles and intangibles spelling must be exactly like this for the database*/}\r\n                <option value=\"tangibles\">Tangible</option>\r\n                <option value=\"intagibles\">Intangible</option>\r\n              </Form.Control>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {errors.tangible}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"swapCategories\">\r\n              <Form.Label>What is your swap category?</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                style={{ display: \"none\" }}\r\n                isInvalid={!!errors.swapCategories}\r\n              />\r\n              <div className={classes.root}>\r\n                <Autocomplete\r\n                  multiple\r\n                  limitTags={2}\r\n                  id=\"multiple-limit-tags\"\r\n                  options={category}\r\n                  value={swapCategories}\r\n                  getOptionLabel={(option) => option.title}\r\n                  onChange={(e, newValue) => {\r\n                    if (!!errors[\"swapCategories\"]) {\r\n                      setErrors({ ...errors, swapCategories: null });\r\n                    }\r\n                    setSwapCategories(newValue);\r\n                    console.log(newValue);\r\n                  }}\r\n                  renderInput={(params) => (\r\n                    <TextField\r\n                      {...params}\r\n                      variant=\"outlined\"\r\n                      label=\"Select categories\"\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {errors.swapCategories}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"idealCategories\">\r\n              <Form.Label>What is your ideal swap?</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                style={{ display: \"none\" }}\r\n                isInvalid={!!errors.idealCategories}\r\n              />\r\n              <div className={classes.root}>\r\n                <Autocomplete\r\n                  multiple\r\n                  limitTags={2}\r\n                  id=\"multiple-limit-tags\"\r\n                  options={category}\r\n                  value={idealCategories}\r\n                  getOptionLabel={(option) => option.title}\r\n                  onChange={(e, newValue) => {\r\n                    if (!!errors[\"idealCategories\"]) {\r\n                      setErrors({ ...errors, idealCategories: null });\r\n                    }\r\n                    setIdealCategories(newValue);\r\n                    console.log(newValue);\r\n                  }}\r\n                  renderInput={(params) => (\r\n                    <TextField\r\n                      {...params}\r\n                      variant=\"outlined\"\r\n                      label=\"Select ideal swaps\"\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {errors.idealCategories}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Button\r\n              className=\"postButton\"\r\n              variant=\"warning\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Post Swap\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport \"./singleItem.css\";\r\n//option1\r\n// import Carousel from \"react-multi-carousel\";\r\n//option2\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\n\r\nexport default function SingleItem({ imgLinkArray }) {\r\n  //if you want to show all pictures in 1 line\r\n  const responsive = {\r\n    superLargeDesktop: {\r\n      //the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 8,\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 6,\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2,\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n    },\r\n  };\r\n\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  // const images = ['/assests/singleItemPics/keychronK2Pic1.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic2.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic3.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic3.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic1.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic2.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic3.jpg',\r\n  //                 '/assests/singleItemPics/keychronK2Pic3.jpg',\r\n  //                 ];\r\n  // return (\r\n  //     <div>\r\n\r\n  //        <Carousel\r\n  //   ssr\r\n  //   partialVisbile\r\n  // //   deviceType={deviceType}\r\n  //   itemClass=\"image-item\"\r\n  //   responsive={responsive}\r\n  // >\r\n  //   {images.slice(0, ).map((image, index) => {\r\n  //     return (\r\n  //       <div key={index} style={{ position: \"relative\" }}>\r\n  //         <img\r\n  //           draggable={false}\r\n  //           alt=\"text\"\r\n  //           style={{ width: \"100%\", height: \"100%\" }}\r\n  //           src={image}\r\n  //         />\r\n  //       </div>\r\n  //     );\r\n  //   })}\r\n  // </Carousel>\r\n  //     </div>\r\n\r\n  //if you want to show carousel in just 1 image\r\n\r\n  useEffect(() => {\r\n    console.log(imgLinkArray);\r\n  }, [imgLinkArray]);\r\n  return (\r\n    <div className=\"singleItemWrapper\">\r\n      <Carousel responsive={responsive}>\r\n        {imgLinkArray?.map((imgLink) => (\r\n          <Carousel.Item>\r\n            <img\r\n              className=\"singleItemCarouselItemImg\"\r\n              src={PF + imgLink}\r\n              alt=\"\"\r\n            />\r\n          </Carousel.Item>\r\n        ))}\r\n\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"singleItemCarouselItemImg\"\r\n            src=\"/assests/singleItemPics/keychronK2Pic2.jpg\"\r\n            alt=\"\"\r\n          />\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"singleItemCarouselItemImg\"\r\n            src=\"/assests/singleItemPics/keychronK2Pic3.jpg\"\r\n            alt=\"\"\r\n          />\r\n        </Carousel.Item>\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./swapAway.css\";\r\nimport { Alert, Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport { TextsmsOutlined } from \"@material-ui/icons\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function SwapAway({ itemUserId }) {\r\n  //if delete, go back to listings page\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [itemUser, setItemUser] = useState(null);\r\n  const history = useHistory();\r\n  const { user } = useContext(AuthContext);\r\n  useEffect(() => {\r\n    const getItemUser = async () => {\r\n      if (itemUserId) {\r\n        const res = await axios.get(\"/api/users?userId=\" + itemUserId);\r\n        setItemUser(res.data);\r\n        console.log(\"itemUser is: \" + res.data);\r\n      }\r\n    };\r\n    getItemUser();\r\n  }, [itemUserId]);\r\n\r\n  const handleSwapAway = async () => {\r\n    if (!user) {\r\n      history.push(\"/\");\r\n      console.log(\"pushed to login\");\r\n    } else {\r\n      const res = await axios.get(\r\n        \"/api/conversations/find/\" + user._id + \"/\" + itemUserId\r\n      );\r\n      if (res.data.length > 0) {\r\n        history.push(\"/chat/\" + res.data[0]._id);\r\n        console.log(\"pushed to chat id:\" + res.data[0]._id);\r\n      } else {\r\n        const newConvo = await axios.post(\"/api/conversations\", {\r\n          members: [itemUserId, user._id],\r\n        });\r\n        //chatFollow is not used for now\r\n        history.push(\"/chat/\" + newConvo._id); //likely works but needs to be tested\r\n        console.log(newConvo.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Alert className=\"swapAwayPrompt\">\r\n        <Container>\r\n          <Row>\r\n            <Col sm={2}>\r\n              <img\r\n                className=\"swapAwayUserImg\"\r\n                src={\r\n                  itemUser && itemUser.profilePicture\r\n                    ? PF + itemUser.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                onClick={() => {\r\n                  itemUser &&\r\n                    history.push(\"/profile/\" + itemUser.username + \"/listings\");\r\n                }}\r\n                alt=\"\"\r\n              />\r\n            </Col>\r\n            <Col sm={10}>\r\n              <Alert.Heading\r\n                className=\"swapAwayUsername\"\r\n                style={{ fontSize: \"1rem\" }}\r\n              >\r\n                {itemUser ? itemUser.username : \"\"}\r\n              </Alert.Heading>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n\r\n        <Button\r\n          className=\"swapAwayButton\"\r\n          variant=\"warning\"\r\n          onClick={handleSwapAway}\r\n        >\r\n          <div className=\"swapAwayButtonTextGroup\">\r\n            <TextsmsOutlined />\r\n            <span className=\"swapAwayButtonText\">Swap Away!</span>\r\n          </div>\r\n        </Button>\r\n      </Alert>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./userItemCommand.css\";\r\nimport { Alert, Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport VerifiedUserIcon from \"@material-ui/icons/VerifiedUser\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport axios from \"axios\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function UserItemCommand({\r\n  itemUserId,\r\n  itemStatus,\r\n  handleReserve,\r\n  handleUnreserve,\r\n  handleSwap,\r\n  handleUnswap,\r\n  handleDelete,\r\n}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [itemUser, setItemUser] = useState(null);\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [input, setInput] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const getItemUser = async () => {\r\n      if (itemUserId) {\r\n        const res = await axios.get(\"/api/users?userId=\" + itemUserId);\r\n        setItemUser(res.data);\r\n        console.log(\"itemUser is: \" + res.data);\r\n      }\r\n    };\r\n    getItemUser();\r\n  }, [itemUserId]);\r\n\r\n  const handleKeyDownSwap = async (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      console.log(\"user pressed enter key and the value is: \" + input);\r\n      if (input !== \"\") {\r\n        console.log(\"input is not empty\");\r\n        try {\r\n          const res = await axios.get(\"/api/agreements?id=\" + input);\r\n          if (!res || res.status !== 200 || !res.data) {\r\n            console.log(\"Error 1\");\r\n            setError(\"Agreement does not exist!\");\r\n          } else if (\r\n            res.data.parties.length >= 2 ||\r\n            res.data.items.length >= 2\r\n          ) {\r\n            console.log(\"Error 2\");\r\n            setError(\"This agreement id already involves 2 parties or 2 items\");\r\n          } else {\r\n            handleSwap(res.data._id);\r\n            setInput(\"\");\r\n            setShowInput(false);\r\n          }\r\n        } catch (err) {\r\n          console.log(\"Error 1\");\r\n          setError(\"Agreement does not exist!\");\r\n        }\r\n      } else {\r\n        console.log(\"input empty!\");\r\n        setError(\"Agreement code cannot be empty!\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Alert className=\"userItemCommandPrompt\">\r\n        <Container>\r\n          <Row>\r\n            <Col sm={2}>\r\n              <img\r\n                className=\"userItemCommandUserImg\"\r\n                src={\r\n                  itemUser && itemUser.profilePicture\r\n                    ? PF + itemUser.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                onClick={() => {\r\n                  itemUser &&\r\n                    history.push(\"/profile/\" + itemUser.username + \"/listings\");\r\n                }}\r\n                alt=\"\"\r\n              />\r\n            </Col>\r\n            <Col sm={10}>\r\n              <Alert.Heading\r\n                className=\"userItemCommandUsername\"\r\n                style={{ fontSize: \"1rem\" }}\r\n              >\r\n                {itemUser ? itemUser.username : \"Anonymous\"}\r\n              </Alert.Heading>\r\n            </Col>\r\n          </Row>\r\n          <div className=\"buttonWrapper\">\r\n            {itemStatus === \"waiting\" ? (\r\n              <div>\r\n                <Button\r\n                  className=\"button\"\r\n                  variant=\"warning\"\r\n                  onClick={handleReserve}\r\n                >\r\n                  <VerifiedUserIcon className=\"icons\" />\r\n                  <span className=\"action\">Mark as Reserve</span>\r\n                </Button>\r\n              </div>\r\n            ) : itemStatus === \"reserved\" ? (\r\n              <div>\r\n                <Button\r\n                  className=\"button\"\r\n                  variant=\"warning\"\r\n                  onClick={handleUnreserve}\r\n                >\r\n                  <VerifiedUserIcon className=\"icons\" />\r\n                  <span className=\"action\">Unreserve</span>\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            <div>\r\n              {itemStatus === \"deleted\" ? (\r\n                <></>\r\n              ) : itemStatus === \"swapped\" ? (\r\n                <Button className=\"button\" variant=\"warning\">\r\n                  <ShoppingBasketIcon className=\"icons\" />\r\n                  <span className=\"action\" onClick={handleUnswap}>\r\n                    Cancel Agreement\r\n                  </span>\r\n                </Button>\r\n              ) : (\r\n                <>\r\n                  <Button className=\"button\" variant=\"warning\">\r\n                    <ShoppingBasketIcon className=\"icons\" />\r\n                    <span\r\n                      className=\"action\"\r\n                      onClick={() => setShowInput(!showInput)}\r\n                    >\r\n                      Mark as Swapped\r\n                    </span>\r\n                  </Button>\r\n                  {showInput ? (\r\n                    <Form className=\"userItemCommandForm\">\r\n                      <Form.Group controlId=\"title\">\r\n                        <Form.Control\r\n                          className=\"userItemCommandFormControl\"\r\n                          type=\"input\"\r\n                          maxlength=\"30\"\r\n                          placeholder=\"Enter your agreement code\"\r\n                          value={input}\r\n                          onChange={(e) => {\r\n                            setInput(e.target.value);\r\n                            setError(\"\");\r\n                            console.log(\"changed to: \" + e.target.value);\r\n                          }}\r\n                          onKeyDown={handleKeyDownSwap}\r\n                          isInvalid={error !== \"\"}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">\r\n                          {error}\r\n                        </Form.Control.Feedback>\r\n                      </Form.Group>\r\n                    </Form>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              {itemStatus === \"deleted\" || itemStatus === \"swapped\" ? (\r\n                <></>\r\n              ) : (\r\n                <Button\r\n                  className=\"button\"\r\n                  variant=\"warning\"\r\n                  onClick={handleDelete}\r\n                >\r\n                  <HighlightOffIcon className=\"icons\" />\r\n                  <span className=\"action\">Delete</span>\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </Alert>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./item.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SingleItem from \"../../components/singleItem/SingleItem\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { ArrowBackIos } from \"@material-ui/icons\";\r\nimport SwapAway from \"../../components/swapAway/SwapAway\";\r\nimport UserItemCommand from \"../../components/userItemCommand/UserItemCommand\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Item() {\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const itemId = useParams().itemId;\r\n  const [item, setItem] = useState(null);\r\n  const history = useHistory();\r\n  const [copyLinkText, setCopyLinkText] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const getItem = async () => {\r\n      try {\r\n        if (itemId) {\r\n          const res = await axios.get(\"/api/items?itemId=\" + itemId);\r\n          await setItem(res.data);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getItem();\r\n  }, [itemId]);\r\n\r\n  const handleReserve = async () => {\r\n    try {\r\n      if (itemId) {\r\n        const res = await axios.put(\"/api/items/update/status/\" + itemId, {\r\n          status: \"reserved\",\r\n        });\r\n        if (res.status === 200 && res.data) {\r\n          setItem(res.data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleUnreserve = async () => {\r\n    try {\r\n      if (itemId) {\r\n        const res = await axios.put(\"/api/items/update/status/\" + itemId, {\r\n          status: \"waiting\",\r\n        });\r\n        if (res.status === 200 && res.data) {\r\n          setItem(res.data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleSwap = async (agreementId) => {\r\n    console.log(\"handleSwap called with agreementId: \" + agreementId);\r\n    try {\r\n      const agreementRes = await axios.put(\r\n        \"/api/agreements/update/addParties/\" + agreementId,\r\n        { userId: user?._id, itemId: itemId }\r\n      );\r\n      if (agreementRes.status === 200 && itemId) {\r\n        const res = await axios.put(\"/api/items/update/status/\" + itemId, {\r\n          status: \"swapped\",\r\n        });\r\n        if (res.status === 200 && res.data) {\r\n          setItem(res.data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleUnswap = async () => {\r\n    console.log(\"handleUnswap called\");\r\n    try {\r\n      const agreementRes = await axios.put(\r\n        \"/api/agreements/update/removeParties\",\r\n        {\r\n          userId: user?._id,\r\n          itemId: itemId,\r\n        }\r\n      );\r\n      if (agreementRes.status === 200 && itemId) {\r\n        const res = await axios.put(\"/api/items/update/status/\" + itemId, {\r\n          status: \"waiting\",\r\n        });\r\n        if (res.status === 200 && res.data) {\r\n          setItem(res.data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    console.log(\"handleDelete called\");\r\n    try {\r\n      const res = await axios.delete(\"/api/items?itemId=\" + item?._id);\r\n      if (res.status === 200) {\r\n        history.push(\"/profile/\" + user.username + \"/listings\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = (type) => {\r\n    console.log(\"copy link\");\r\n    var dummy = document.createElement(\"input\");\r\n    const text =\r\n      type === \"link\" ? window.location.href : item?._id ? item._id : \"\";\r\n\r\n    document.body.appendChild(dummy);\r\n    dummy.value = text;\r\n    dummy.select();\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(dummy);\r\n    setCopyLinkText(\r\n      type === \"link\"\r\n        ? \"Link to this page has been copied\"\r\n        : \"Item ID has been copied\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"itemBackArrow\">\r\n        {/* <Link to=\"/login\" className=\"registerBack\"> */}\r\n        <ArrowBackIos />\r\n        <span>Back</span>\r\n        {/* </Link> */}\r\n      </div>\r\n      <label className=\"itemHeader\">\r\n        {item ? item.title : \"Error: No Item Displayed\"}\r\n        {item ? (\r\n          <Chip\r\n            className=\"itemTag\"\r\n            label={item.status === \"waiting\" ? \"available\" : item.status}\r\n            size=\"small\"\r\n            color={\r\n              item.status === \"waiting\"\r\n                ? \"\"\r\n                : item.status === \"reserved\"\r\n                ? \"primary\"\r\n                : \"secondary\"\r\n            }\r\n            style={{\r\n              marginLeft: \"15px\",\r\n              marginRight: \"10px\",\r\n              marginTop: \"0px\",\r\n            }}\r\n          />\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </label>\r\n\r\n      <Container className=\"itemImg\">\r\n        <Row>\r\n          <Col>\r\n            <SingleItem imgLinkArray={item ? item.img : []} />\r\n          </Col>\r\n          <Col>\r\n            {user?._id === item?.userId ? (\r\n              <UserItemCommand\r\n                itemUserId={item?.userId}\r\n                itemStatus={item?.status}\r\n                handleReserve={handleReserve}\r\n                handleUnreserve={handleUnreserve}\r\n                handleDelete={handleDelete}\r\n                handleSwap={handleSwap}\r\n                handleUnswap={handleUnswap}\r\n              />\r\n            ) : (\r\n              <SwapAway itemUserId={item?.userId} />\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      {/* <div className=\"itemImg\">\r\n                <SingleItem />\r\n                <SwapAway />\r\n            </div> */}\r\n      <div className=\"itemHeaderSecond\">\r\n        <div className=\"itemGetLink\" onClick={() => handleCopyLink(\"link\")}>\r\n          Copy Link\r\n        </div>\r\n        <div className=\"itemGetLink\" onClick={() => handleCopyLink(\"id\")}>\r\n          Copy Item ID\r\n        </div>\r\n        <div className=\"itemCopyLinkText\">{copyLinkText}</div>\r\n      </div>\r\n      <div className=\"itemDescription\">\r\n        <h5>Description</h5>\r\n        <span>\r\n          {item\r\n            ? item.desc\r\n            : \"The item does not exist, and hence no description\"}\r\n        </span>\r\n      </div>\r\n      <div className=\"itemIdealSwaps\">\r\n        <h5>Ideal swaps</h5>\r\n        {item?.idealSwaps.map((tags) => (\r\n          <Chip\r\n            className=\"tag\"\r\n            key={tags}\r\n            label={tags}\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n            style={{ marginRight: \"5px\" }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./login.css\";\r\nimport RestoreFromTrashRoundedIcon from \"@material-ui/icons/RestoreFromTrashRounded\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PersonOutlineOutlinedIcon from \"@material-ui/icons/PersonOutlineOutlined\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { user, dispatch } = useContext(AuthContext);\r\n  const usernameRef = useRef();\r\n  const passwordRef = useRef();\r\n\r\n  useEffect(() => {\r\n    console.log(\"user is changed\");\r\n    console.log(user);\r\n  }, [user]);\r\n\r\n  const checkCredentials = async () => {\r\n    try {\r\n      const res = await axios\r\n        .post(\"/api/auth/login\", {\r\n          username: usernameRef.current.value,\r\n          password: passwordRef.current.value,\r\n        })\r\n        .then(() => {\r\n          usernameRef.current.setCustomValidity(\"\");\r\n          passwordRef.current.setCustomValidity(\"\");\r\n        });\r\n    } catch (err) {\r\n      if (err.response.status === 400) {\r\n        usernameRef.current.setCustomValidity(\"Incorrect username or password\");\r\n      }\r\n    }\r\n  };\r\n  const handleUsername = async (e) => {\r\n    setUsername(e.target.value);\r\n    console.log(e.target.value);\r\n    checkCredentials();\r\n  };\r\n  const handlePassword = async (e) => {\r\n    setPassword(e.target.value);\r\n    console.log(e.target.value);\r\n    checkCredentials();\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const loginCall = async (userCredential, dispatch) => {\r\n      dispatch({ type: \"LOGIN_START\" });\r\n      try {\r\n        const res = await axios.post(\"/api/auth/login\", userCredential);\r\n        const sock = await io(); //const sock = await io(\"ws://localhost:8080\");\r\n        sock.on(\"connect\", () => {\r\n          sock.emit(\"addUser\", res.data._id);\r\n          console.log(\"sock inside try block: \", sock);\r\n          dispatch({\r\n            type: \"LOGIN_SUCCESS\",\r\n            payload: { user: res.data, sock: sock },\r\n          });\r\n        });\r\n      } catch (err) {\r\n        dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n      }\r\n    };\r\n    loginCall({ username: username, password: password }, dispatch);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginTop\">\r\n          <RestoreFromTrashRoundedIcon\r\n            className=\"loginShoppingCartIcon\"\r\n            style={{\r\n              fontSize: 220,\r\n              color: \"white\",\r\n            }}\r\n          />\r\n        </div>\r\n        <form className=\"loginBottom\" onSubmit={handleSubmit}>\r\n          <div className=\"loginInputWrapper\">\r\n            <PersonOutlineOutlinedIcon\r\n              style={{\r\n                position: \"absolute\",\r\n                color: \"white\",\r\n                fontSize: 32,\r\n                top: 32,\r\n                left: 10,\r\n              }}\r\n            />\r\n            <input\r\n              placeholder=\"USERNAME\"\r\n              onChange={handleUsername}\r\n              value={username}\r\n              ref={usernameRef}\r\n              required\r\n              className=\"loginInput\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"loginInputWrapper\">\r\n            <LockOutlinedIcon\r\n              style={{\r\n                position: \"absolute\",\r\n                color: \"white\",\r\n                fontSize: 32,\r\n                top: 32,\r\n                left: 10,\r\n              }}\r\n            />\r\n            <input\r\n              placeholder=\"PASSWORD\"\r\n              required\r\n              onChange={handlePassword}\r\n              value={password}\r\n              ref={passwordRef}\r\n              className=\"loginInput\"\r\n              type=\"password\"\r\n            />\r\n          </div>\r\n          <button className=\"loginButton\" type=\"submit\">\r\n            LOGIN\r\n          </button>\r\n          <Link to=\"/register\" className=\"loginBottomLink\">\r\n            Forgot password?\r\n          </Link>\r\n          <Link to=\"/register\" className=\"loginBottomLink\">\r\n            New to ReHash? Sign up now!\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport \"./conversation.css\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\n\r\nexport default function Conversation({\r\n  active,\r\n  userId,\r\n  lastMessageText,\r\n  lastMessageTime,\r\n  online,\r\n}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [displayTimeAgo, setDisplayTimeAgo] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      \"lastMessageText updated. the new message is: \",\r\n      lastMessageText\r\n    );\r\n  }, [lastMessageText]);\r\n\r\n  useEffect(() => {\r\n    if (lastMessageTime) {\r\n      setDisplayTimeAgo(format(lastMessageTime));\r\n    }\r\n    const interval = setInterval(() => {\r\n      if (lastMessageTime) {\r\n        if (displayTimeAgo !== format(lastMessageTime)) {\r\n          setDisplayTimeAgo(format(lastMessageTime));\r\n        }\r\n      }\r\n\r\n      // console.log(\"This will run every second!\");\r\n    }, 60000);\r\n    return () => clearInterval(interval);\r\n  }, [lastMessageTime]);\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios(\"/api/users?userId=\" + userId);\r\n        await setUser(res.data);\r\n        console.log(\"successfully got user\");\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [userId]);\r\n\r\n  return (\r\n    <div\r\n      className={active ? \"conversation conversationActive\" : \"conversation\"}\r\n    >\r\n      <div className=\"conversationLeft\">\r\n        <img\r\n          src={\r\n            user?.profilePicture\r\n              ? PF + user.profilePicture\r\n              : PF + \"person/noAvatar.png\"\r\n          }\r\n          alt=\"\"\r\n          className=\"conversationImg\"\r\n        />\r\n        {online ? <div className=\"conversationBadge\"></div> : <></>}\r\n      </div>\r\n\r\n      <div className=\"conversationRight\">\r\n        <div className=\"conversationRightTop\">\r\n          <div className=\"conversationName\">{user?.username}</div>\r\n          <div className=\"conversationStatus\">{displayTimeAgo}</div>\r\n        </div>\r\n\r\n        <span className=\"conversationLastMsg\">{lastMessageText}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./message.css\";\r\nimport { format } from \"timeago.js\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function Message({ message, own, pictureLink }) {\r\n  const [displayTimeAgo, setDisplayTimeAgo] = useState(\"\");\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    if (message) {\r\n      setDisplayTimeAgo(format(message.createdAt));\r\n    }\r\n    const interval = setInterval(() => {\r\n      if (displayTimeAgo !== format(message.createdAt)) {\r\n        setDisplayTimeAgo(format(message.createdAt));\r\n      }\r\n      // console.log(\"This will run every second!\");\r\n    }, 60000);\r\n    return () => clearInterval(interval);\r\n  }, [message]);\r\n\r\n  return own ? (\r\n    <div className=\"messageOwn\">\r\n      <div className=\"messageTopOwn\">\r\n        <img className=\"messageImgOwn\" src={pictureLink} alt=\"\" />\r\n        <p\r\n          className=\"messageTextOwn\"\r\n          onClick={() => {\r\n            setShow(!show);\r\n          }}\r\n        >\r\n          {message.text}\r\n        </p>\r\n      </div>\r\n      {show ? <div className=\"messageBottom\">{displayTimeAgo}</div> : <></>}\r\n    </div>\r\n  ) : (\r\n    <div className=\"message\">\r\n      <div className=\"messageTop\">\r\n        <img className=\"messageImg\" src={pictureLink} alt=\"\" />\r\n        <p\r\n          className=\"messageText\"\r\n          onClick={() => {\r\n            setShow(!show);\r\n          }}\r\n        >\r\n          {message.text}\r\n        </p>\r\n      </div>\r\n      {show ? <div className=\"messageBottom\">{displayTimeAgo}</div> : <></>}\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport Conversation from \"../../components/conversation/Conversation\";\r\nimport Message from \"../../components/message/Message\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport \"./chat.css\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nexport default function Chat() {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [currentChatWith, setCurrentChatWith] = useState(null);\r\n  const [currentChatWithLastActive, setCurrentChatWithLastActive] =\r\n    useState(\"\");\r\n\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  const scrollRef = useRef();\r\n  const initialActiveConvoId = useParams().initialActiveConvoId;\r\n  const { user, sockio } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const getInitialActiveConvo = async () => {\r\n      if (initialActiveConvoId !== \"0\") {\r\n        console.log(\"initialActiveConvoId is: \" + initialActiveConvoId);\r\n        const res = await axios.get(\r\n          \"/api/conversations/id/\" + initialActiveConvoId\r\n        );\r\n        setCurrentChat(res.data);\r\n      }\r\n    };\r\n    getInitialActiveConvo();\r\n  }, [initialActiveConvoId]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"socket is: \", sockio.id);\r\n    //can change slightly to map for all convo, even if not opened\r\n    sockio.on(\"getMessage\", (data) => {\r\n      setArrivalMessage({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, [sockio]);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  useEffect(() => {\r\n    sockio.on(\"getUsers\", (users) => {\r\n      console.log(\"getUser received on client side\");\r\n      setOnlineUsers(\r\n        user.chatFollow.filter((f) => users.some((u) => u.userId === f))\r\n      );\r\n    });\r\n  }, [user, sockio]);\r\n\r\n  useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        //need to change this and add another API when search function is implemented\r\n        const res = await axios.get(\"/api/conversations/\" + user._id);\r\n        await setConversations(res.data);\r\n        // console.log(conversations);\r\n        // console.log(user);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [user._id, messages, onlineUsers]);\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axios.get(\"/api/messages/\" + currentChat?._id);\r\n        setMessages(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n  }, [currentChat]);\r\n\r\n  useEffect(() => {\r\n    const friendId = currentChat?.members.find((m) => m !== user._id);\r\n\r\n    const getCurrentChatWith = async () => {\r\n      try {\r\n        const res = await axios(\"/api/users?userId=\" + friendId);\r\n        await setCurrentChatWith(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getCurrentChatWith();\r\n  }, [user, currentChat]);\r\n\r\n  useEffect(() => {\r\n    const updateLastActive = async () => {\r\n      var timeago = \"\";\r\n      try {\r\n        const res = await axios(\"/api/users?userId=\" + currentChatWith?._id);\r\n        const newLastActive = res.data.lastActive;\r\n        console.log(\"newLastActive: \", newLastActive);\r\n        timeago = format(newLastActive);\r\n        console.log(\"LOOK AT ME: TIMEAGO \", timeago);\r\n      } catch (err) {\r\n        timeago = format(currentChatWith?.lastActive);\r\n        console.log(err);\r\n      }\r\n      setCurrentChatWithLastActive(\"Active \" + timeago);\r\n    };\r\n\r\n    updateLastActive();\r\n    const interval = setInterval(() => {\r\n      updateLastActive();\r\n    }, 5000);\r\n    return () => clearInterval(interval);\r\n  }, [currentChatWith]);\r\n\r\n  //handles the event that the \"send\" button is clicked\r\n  const handleSendMessage = async (e) => {\r\n    if (newMessage !== \"\") {\r\n      e.preventDefault();\r\n      await setNewMessage(\"\");\r\n      const message = {\r\n        sender: user._id,\r\n        text: newMessage,\r\n        conversationId: currentChat._id,\r\n      };\r\n\r\n      try {\r\n        const res = await axios.post(\"/api/messages\", message);\r\n\r\n        const lastMessageText = res.data.text;\r\n        const lastMessageTime = res.data.createdAt;\r\n        const updateRes = await axios.put(\r\n          \"/api/conversations/\" + currentChat._id + \"/lastmessage\",\r\n          { lastMessageText: lastMessageText, lastMessageTime: lastMessageTime }\r\n        );\r\n        console.log(updateRes);\r\n        console.log(\"currentChat is: \", currentChat);\r\n        await setMessages([...messages, res.data]);\r\n        console.log(\r\n          \"updated messages. the new messaged sent is: \",\r\n          res.data.text\r\n        );\r\n\r\n        const receiverId = currentChat.members.find(\r\n          (member) => member !== user._id\r\n        );\r\n\r\n        sockio.emit(\"sendMessage\", {\r\n          senderId: user._id,\r\n          receiverId,\r\n          text: newMessage,\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      console.log(\"new message when eneter is pressed: \", newMessage);\r\n      setNewMessage(newMessage);\r\n      if (newMessage !== \"\") {\r\n        handleSendMessage(e);\r\n        console.log(\"passing to handleSendMessage\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleViewProfile = () => {\r\n    history.push(\"/profile/\" + currentChatWith.username + \"/listings\");\r\n  };\r\n\r\n  const handleGenerateAgreement = async () => {\r\n    console.log(\"generate agreement is clicked\");\r\n    const res = await axios.post(\"/api/agreements\");\r\n    if (res.data && res.data._id) {\r\n      setNewMessage(\"Your agreement code has been generated: \" + res.data._id);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"auto\" });\r\n  }, [messages]);\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"messenger\">\r\n        <div className=\"chatMenu\">\r\n          <div className=\"chatMenuWrapper\">\r\n            <input\r\n              placeholder=\"Search for users\"\r\n              className=\"chatMenuInput\"\r\n              onChange={(e) => setSearchText(e.target.value)}\r\n              value={searchText}\r\n            />\r\n            {conversations.map((c) => {\r\n              const userId = c.members.find((m) => m !== user._id);\r\n              return (\r\n                <div onClick={() => setCurrentChat(c)}>\r\n                  <Conversation\r\n                    online={onlineUsers.includes(userId)}\r\n                    lastMessageText={c.lastMessageText}\r\n                    lastMessageTime={c.lastMessageTime}\r\n                    userId={userId}\r\n                    active={currentChat ? c._id === currentChat._id : false}\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatBox\">\r\n          <div className=\"chatBoxWrapper\">\r\n            {currentChat ? (\r\n              <>\r\n                <div className=\"chatBoxHeader\">\r\n                  <div className=\"chatBoxHeaderLeft\">\r\n                    <img\r\n                      src={\r\n                        currentChatWith?.profilePicture\r\n                          ? PF + currentChatWith.profilePicture\r\n                          : PF + \"person/noAvatar.png\"\r\n                      }\r\n                      alt=\"\"\r\n                      className=\"chatBoxHeaderImg\"\r\n                    />\r\n                    <div className=\"chatBoxHeaderContent\">\r\n                      <div className=\"chatBoxHeaderName\">\r\n                        {currentChatWith?.username}\r\n                      </div>\r\n                      <div className=\"chatBoxHeaderStatus\">\r\n                        {onlineUsers.includes(currentChatWith?._id)\r\n                          ? \"Online now\"\r\n                          : currentChatWithLastActive}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    className=\"chatBoxViewProfileButton\"\r\n                    onClick={handleViewProfile}\r\n                  >\r\n                    View Profile\r\n                  </button>\r\n                </div>\r\n                <div className=\"chatBoxTop\">\r\n                  {messages.map((m) => (\r\n                    <div ref={scrollRef}>\r\n                      <Message\r\n                        message={m}\r\n                        own={m.sender === user._id}\r\n                        pictureLink={\r\n                          m.sender === user._id\r\n                            ? user?.profilePicture\r\n                              ? PF + user.profilePicture\r\n                              : PF + \"person/noAvatar.png\"\r\n                            : currentChatWith?.profilePicture\r\n                            ? PF + currentChatWith.profilePicture\r\n                            : PF + \"person/noAvatar.png\"\r\n                        }\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"chatBoxBottom\">\r\n                  <textarea\r\n                    className=\"chatMessageInput\"\r\n                    placeholder=\"Write a message ...\"\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    value={newMessage}\r\n                    onKeyDown={handleKeyDown}\r\n                  ></textarea>\r\n                  <button\r\n                    className=\"chatAgreementButton\"\r\n                    onClick={handleGenerateAgreement}\r\n                  >\r\n                    Generate Agreement\r\n                  </button>\r\n                  <button\r\n                    className=\"chatSubmitButton\"\r\n                    onClick={handleSendMessage}\r\n                  >\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <span className=\"noConversationText\">\r\n                Open a conversation to start a chat {sockio.id}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./settings.css\";\r\nimport TopBar from \"../../components/topbar/TopBar\";\r\nimport SideBar from \"../../components/sidebar/SideBar\";\r\nimport { Container, Card, Form, Button, Col, Row } from \"react-bootstrap\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nexport default function Settings() {\r\n  const { user, sockio, dispatch } = useContext(AuthContext);\r\n  const username = useParams().username;\r\n  const [imgFile, setImgFile] = useState(null);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  const [form, setForm] = useState({ showPassword: false });\r\n  const [errors, setErrors] = useState({});\r\n  const [imgError, setImgError] = useState({});\r\n  const [passwordUpdateValid, setPasswordUpdateValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"user is changed\");\r\n    console.log(user);\r\n  }, [user]);\r\n\r\n  const imageHandler = (e) => {\r\n    const newFile = Object.assign(e.target.files[0], {\r\n      preview: URL.createObjectURL(e.target.files[0]),\r\n    });\r\n    setImgFile(newFile);\r\n    if (newFile && imgError.imgFile) {\r\n      setImgError({ imgFile: null });\r\n    }\r\n    console.log(newFile.preview);\r\n  };\r\n\r\n  useEffect(\r\n    () => () => {\r\n      // Make sure to revoke the data uris to avoid memory leaks\r\n      if (imgFile) {\r\n        URL.revokeObjectURL(imgFile.preview);\r\n      }\r\n    },\r\n    [imgFile]\r\n  );\r\n\r\n  const handleChangePicture = async (e) => {\r\n    e.preventDefault();\r\n    if (!imgFile) {\r\n      setImgError({ imgFile: \"No image uploaded!\" });\r\n    } else {\r\n      const data = new FormData();\r\n      data.append(\"file\", imgFile);\r\n      console.log(data);\r\n      const updatePicture = async () => {\r\n        try {\r\n          const uploadFileRes = await axios.post(\"/api/upload/person\", data);\r\n          if (uploadFileRes.status === 200) {\r\n            const newProfilePicture = {\r\n              profilePicture: uploadFileRes.data.imagePath,\r\n            };\r\n            const newUser = { ...user, ...newProfilePicture };\r\n            console.log(newUser);\r\n\r\n            const res = await axios.put(\"/api/users/\" + user._id, {\r\n              profilePicture: uploadFileRes.data.imagePath,\r\n            });\r\n            if (res.status === 200) {\r\n              dispatch({\r\n                type: \"UPDATE\",\r\n                payload: { user: newUser, sock: sockio },\r\n              });\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n\r\n      await updatePicture();\r\n      setImgFile(null);\r\n    }\r\n  };\r\n\r\n  //Below is for Form Control for password\r\n  const setField = (field, value) => {\r\n    setForm({\r\n      ...form,\r\n      [field]: value,\r\n    });\r\n\r\n    //if error exists, remove them from the error object\r\n    if (!!errors[field]) {\r\n      setErrors({\r\n        ...errors,\r\n        [field]: null,\r\n      });\r\n    }\r\n\r\n    if (passwordUpdateValid) {\r\n      setPasswordUpdateValid(false);\r\n    }\r\n  };\r\n\r\n  //handles Password submit\r\n  const handleSubmitPassword = async (e) => {\r\n    e.preventDefault();\r\n    setPasswordUpdateValid(false);\r\n    const newErrors = findFormErrors();\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      console.log(newErrors);\r\n    } else {\r\n      const updatePassword = async () => {\r\n        try {\r\n          const res = await axios.put(\"/api/auth/updatePassword/\" + user._id, {\r\n            currentPassword: form.currentPassword,\r\n            newPassword: form.newPassword,\r\n          });\r\n          if (\r\n            res &&\r\n            res.status === 200 &&\r\n            res.data.message === \"User password has been updated\"\r\n          ) {\r\n            setPasswordUpdateValid(true);\r\n            setForm({\r\n              showPassword: false,\r\n              confirmPassword: \"\",\r\n              newPassword: \"\",\r\n              currentPassword: \"\",\r\n            });\r\n          } else if (\r\n            res &&\r\n            res.status === 200 &&\r\n            res.data.message === \"wrong password\"\r\n          ) {\r\n            const wrongPasswordError = { currentPassword: \"Wrong Password!\" };\r\n            setErrors({\r\n              ...errors,\r\n              ...wrongPasswordError,\r\n            });\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n      await updatePassword();\r\n    }\r\n  };\r\n\r\n  //function for finding errors in password form\r\n  const findFormErrors = () => {\r\n    const { currentPassword, newPassword, confirmPassword } = form;\r\n    const newErrors = {};\r\n\r\n    if (!currentPassword || currentPassword === \"\") {\r\n      newErrors.currentPassword = \"Current password cannot be empty!\";\r\n    }\r\n\r\n    if (!newPassword || newPassword.length < 6) {\r\n      newErrors.newPassword = \"New password must have at least 6 characters!\";\r\n    }\r\n\r\n    if (!confirmPassword || confirmPassword !== newPassword) {\r\n      newErrors.confirmPassword = \"New and confirm passwords do not match!\";\r\n    }\r\n\r\n    return newErrors;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TopBar currentUser={user} />\r\n      <div className=\"settingsContainer\">\r\n        <SideBar sidebarUser={user} />\r\n        <span className=\"settingsHeader\">Settings</span>\r\n        <Container className=\"settingsWrapper\">\r\n          <Card\r\n            style={{ width: \"60em\", height: \"19em\" }}\r\n            className=\"settingsUserProfileContainer shadow p-3 mb-5 bg-white rounded\"\r\n          >\r\n            <span className=\"settingsUserProfileHeader\">User Profile</span>\r\n            <Container>\r\n              <Row>\r\n                <Col>\r\n                  <img\r\n                    src={\r\n                      imgFile && imgFile.preview\r\n                        ? imgFile.preview\r\n                        : user && user.profilePicture\r\n                        ? PF + user.profilePicture\r\n                        : \"/assests/userProfile.png\"\r\n                    }\r\n                    alt=\"\"\r\n                    className=\"userProfileImg\"\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <div className=\"settingsImgInstructions\">\r\n                    <div className=\"settingsImgInstructionsText\">\r\n                      Upload a profile picture of yourself to help others know\r\n                      more about you!\r\n                    </div>\r\n                    <Form.Group>\r\n                      <Form.Control\r\n                        className=\"imgUploadButton\"\r\n                        as=\"input\"\r\n                        name=\"image-upload\"\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={imageHandler}\r\n                        isInvalid={!!imgError.imgFile}\r\n                      />\r\n                      <Form.Control.Feedback type=\"invalid\">\r\n                        {imgError.imgFile}\r\n                      </Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Button\r\n                      className=\"changeProfilePictureButton\"\r\n                      variant=\"warning\"\r\n                      onClick={handleChangePicture}\r\n                    >\r\n                      Change profile picture\r\n                    </Button>\r\n                  </div>\r\n                  {/* <div>{user.profilePicture}</div> */}\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </Card>\r\n          <Card\r\n            style={{ width: \"60em\" }}\r\n            className=\"settingsPasswordContainer shadow p-3 mb-5 bg-white rounded\"\r\n          >\r\n            <span className=\"settingsPasswordHeader\">Password</span>\r\n            <Form>\r\n              <div className=\"passwordInputWrapper\">\r\n                <Form.Group controlId=\"oldPassword\">\r\n                  <Form.Control\r\n                    className=\"passwordInput\"\r\n                    name=\"currentPassword\"\r\n                    type={form.showPassword ? \"text\" : \"password\"}\r\n                    placeHolder=\"Current Password\"\r\n                    value={form.currentPassword}\r\n                    onChange={(e) =>\r\n                      setField(\"currentPassword\", e.target.value)\r\n                    }\r\n                    isInvalid={!!errors.currentPassword}\r\n                    isValid={passwordUpdateValid}\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.currentPassword}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"newPassword\">\r\n                  <Form.Control\r\n                    className=\"passwordInput\"\r\n                    name=\"newPassword\"\r\n                    type={form.showPassword ? \"text\" : \"password\"}\r\n                    placeHolder=\"New Password\"\r\n                    value={form.newPassword}\r\n                    onChange={(e) => setField(\"newPassword\", e.target.value)}\r\n                    isInvalid={!!errors.newPassword}\r\n                    isValid={passwordUpdateValid}\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.newPassword}\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group controlId=\"confirmPassword\">\r\n                  <Form.Control\r\n                    className=\"passwordInput\"\r\n                    name=\"confirmPassword\"\r\n                    type={form.showPassword ? \"text\" : \"password\"}\r\n                    placeHolder=\"Confirm Password\"\r\n                    value={form.confirmPassword}\r\n                    onChange={(e) =>\r\n                      setField(\"confirmPassword\", e.target.value)\r\n                    }\r\n                    isInvalid={!!errors.confirmPassword}\r\n                    isValid={passwordUpdateValid}\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.confirmPassword}\r\n                  </Form.Control.Feedback>\r\n                  <Form.Control.Feedback type=\"valid\">\r\n                    \"Password updated successfully\"\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </div>\r\n              <div>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={form.showPassword}\r\n                  onClick={() => setField(\"showPassword\", !form.showPassword)}\r\n                />\r\n                <label className=\"checkboxLabel\">Show input</label>\r\n              </div>\r\n              <div>\r\n                <Button\r\n                  className=\"passwordButton\"\r\n                  variant=\"warning\"\r\n                  onClick={handleSubmitPassword}\r\n                >\r\n                  Update password\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          </Card>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\r\nimport Home from \"./pages/home/Home\";\r\nimport Register from \"./pages/register/Register\";\r\nimport UserListing from \"./pages/userlisting/UserListing\";\r\nimport Review from \"./pages/review/Review\";\r\nimport Product from \"./pages/product/Product\";\r\nimport CreateListing from \"./pages/createListing/CreateListing\";\r\nimport Item from \"./pages/item/Item\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport Login from \"./pages/login/Login\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport Chat from \"./pages/chat/Chat\";\r\nimport Settings from \"./pages/settings/Settings\";\r\n\r\nfunction App() {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  //Note to punpun: for\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          {user ? <Redirect to=\"/home\" /> : <Login />}\r\n        </Route>\r\n        <Route path=\"/register\">\r\n          {user ? <Redirect to=\"/home\" /> : <Login />}\r\n        </Route>\r\n        <Route exact path=\"/product/:pageType/:categoryName\">\r\n          <Product />\r\n        </Route>\r\n        <Route exact path=\"/home\">\r\n          <Home />\r\n        </Route>\r\n        <Route exact path=\"/create\">\r\n          {user ? <CreateListing /> : <Login />}\r\n        </Route>\r\n        <Route exact path=\"/chat/:initialActiveConvoId\">\r\n          {user ? <Chat /> : <Login />}\r\n        </Route>\r\n        <Route exact path=\"/profile/:username/listings\">\r\n          <UserListing />\r\n        </Route>\r\n        <Route exact path=\"/profile/:username/reviews\">\r\n          <Review />\r\n        </Route>\r\n        <Route exact path=\"/profile/:username/settings\">\r\n          <Settings />\r\n        </Route>\r\n        <Route exact path=\"/items/:itemId\">\r\n          <Item />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { AuthContextProvider } from \"./context/AuthContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <App />\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}